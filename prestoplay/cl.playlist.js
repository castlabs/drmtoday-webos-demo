(function(){var g={}; var _ = _ || {}
var f=function(window){var Zx=function(a,b){b=void 0===b?function(){return Promise.resolve()}:b;_.tl.call(this);this.m=a;this.l=b;this.f=0;this.a=[];this.h=!1;this.j=this.tc.bind(this)},$x=function(a){a.trigger(new _.L(_.tf))},ay=function(a,b){return 0<=b&&b<a.a.length};_.w(Zx,_.tl);_.r=Zx.prototype;_.r.on=function(a,b,c){return _.tl.prototype.on.call(this,a,b,c)};_.r.one=function(a,b,c){return _.tl.prototype.one.call(this,a,b,c)};_.r.off=function(a,b){return _.tl.prototype.off.call(this,a,b)};_.r.getPosition=function(){return this.f};
_.r.mk=function(){return this.a};_.r.Bd=function(){return 0<this.a.length&&ay(this,this.f)?this.a[this.f]:null};_.r.pk=function(){var a=this.f+1;return 0<this.a.length&&ay(this,a)?this.a[a]:null};_.r.Bk=function(){return this.h};_.r.start=function(){this.h||(this.h=!0,this.m.on(_.me,this.j),this.me(this.f,!0))};_.r.stop=function(){this.h=!1;this.m.off(_.me,this.j)};_.r.tc=function(){this.next()};
_.r.next=function(){var a=this,b;return _.E(function(c){b=Math.min(a.a.length-1,a.f+1);return _.x(c,a.me(b),0)})};_.r.Zl=function(){var a=this,b;return _.E(function(c){b=Math.max(0,a.f-1);return _.x(c,a.me(b),0)})};_.r.me=function(a,b){b=void 0===b?!1:b;var c=this,d;return _.E(function(e){if(1==e.a){if(!(0<c.a.length&&ay(c,a))||!b&&c.f===a)return e["return"]();c.f=a;return(d=c.Bd())?_.x(e,c.l(d),3):e.F(0)}if(4!=e.a)return _.x(e,c.m.load(d.configuration),4);c.trigger(new _.L(_.pf,{item:d}));_.y(e)})};
_.r.append=function(a){this.a.push(a);$x(this)};_.r.xk=function(a,b){if(0<=b&&b<=this.a.length){var c=this.Bd();this.a.splice(b,0,a);c&&(this.f=this.a.indexOf(c));$x(this)}};_.r.remove=function(a){if(0<this.a.length&&ay(this,a)){if(this.f===a)throw Error("Can't remove the current item");this.a.splice(a,1);$x(this)}};_.r.clear=function(){this.stop();this.f=0;this.a=[];this.h=!1;$x(this)};_.H("clpp.Playlist",Zx);Zx.prototype.clear=Zx.prototype.clear;Zx.prototype.remove=Zx.prototype.remove;
Zx.prototype.insert=Zx.prototype.xk;Zx.prototype.append=Zx.prototype.append;Zx.prototype.goTo=Zx.prototype.me;Zx.prototype.previous=Zx.prototype.Zl;Zx.prototype.next=Zx.prototype.next;Zx.prototype.onEnded=Zx.prototype.tc;Zx.prototype.stop=Zx.prototype.stop;Zx.prototype.start=Zx.prototype.start;Zx.prototype.isStarted=Zx.prototype.Bk;Zx.prototype.getUpcoming=Zx.prototype.pk;Zx.prototype.getCurrent=Zx.prototype.Bd;Zx.prototype.getQueue=Zx.prototype.mk;Zx.prototype.getPosition=Zx.prototype.getPosition;
Zx.prototype.off=Zx.prototype.off;Zx.prototype.one=Zx.prototype.one;Zx.prototype.on=Zx.prototype.on;};
if(typeof(module)!="undefined"&&module.exports){var x=require("./cl.core.js");_ = x._;(f.call(g,this));module.exports=g;}
else if (typeof(define)!="undefined"&&define.amd) {define(["./cl.core"], function(c){_=c._;(f.call(g,this));return g;});}
else{_=this.clpp._;(f.call(g,this));}
})();