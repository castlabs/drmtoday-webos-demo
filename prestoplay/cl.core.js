(function(){var g={}; var _ = {};
(function(window){var aa,da,ea,fa,ia,ra,ua,xa,ya,Ba,Da,Ea,Ha,Ka,Oa,Sa,Ua,Xa,Za,$a,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,ub,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Hb,Lb,Nb,Sb,Wb,Xb,Yb,Zb,$b,cc,ec,hc,jc,mc,nc,pc,qc,rc,sc,tc,Uc,Zc,kd,ld,td,ud,vd,xd,yd,zd,Ad,Bd,Dd,Ed,Fd,Gd,Hd,Id,Nd,Qd,Td,Zd,$d,ae,be,ce,de,fe,ie,je,ke,pe,we,xe,ze,Ae,Ge,Ze,ff,hf,jf,kf,lf,mf,nf,uf,vf,wf,xf,yf,zf,Af,Bf,Ff,Hf,Rf,Uf,ag,ig,jg,yg,Cg,Dg,Eg,Fg,Gg,Ig,Jg,Kg,Mg,Ng,Rg,Vg,Xg,Wg,Yg,Zg,$g,dh,gh,eh,fh,hh,jh,kh,oh,qh,vh,wh,Ch,Dh,Ih,Gh,Jh,Lh,Kh,Nh,Qh,Uh,Wh,Vh,hi,ii,
ji,ki,li,oi,pi,ri,si,wi,yi,Ai,ui,Qi,Si,Wi,Yi,Zi,bj,Xi,Ti,pj,tj,uj,vj,yj,zj,Lj,Mj,Nj,Sj,Uj,Vj,bk,ck,fk,hk,gk,ek,ik,dk,lk,jk,kk,mk,nk,tk,vk,Gk,Ik,Jk,Kk,Uk,yk,Lk,Xk,Zk,al,bl,$k,el,fl,Yk,gl,hl,il,jl,kl,ol,pl,ql,rl,ll,vl,wl,yl,Al,Il,Jl,Kl,Ll,Ml,Nl,Ol,Pl,Ql,Rl,Sl,Tl,Zl,km,qm,tm,um,wm,xm,Gm,Km,Lm,Qm,Wm,Xm,Zm,$m,en,fn,ln,mn,tn,En,Nn,Pn,Rn,Vn,Wn,$n,Ln,Jn,go,Yn,ho,jo,io,oo,no,lo,mo,vn,Qn,ko,wn,fo,In,ao,bo,ro,eo,Kn,yn,wo,yo,zo,Ao,Bo,Go,Ko,Lo,No,Ro,Wo,Jo,Xo,Yo,ap,dp,ep,gp,hp,cp,bp,ip,jp,kp,pp,up,vp,wp,Ap,zp,
Cp,Bp,Ep,Fp,Gp,Hp,Dp,Jp,Lp,Mp,Np,Op,Pp,Qp,Rp,Sp,Up,Vp,Wp,Xp,Tp,$p,X,bq,aq,dq,fq,gq,iq,mq,jq,oq,rq,tq,sq,vq,xq,yq,Aq,Bq,Cq,zq,qq,Dq,pq,Gq,Hq,Iq,Jq,Mq,Kq,Nq,Pq,Rq,Qq,Tq,Lq,Uq,Fq,Vq,Eq,$q,br,ar,fr,dr,er,Xq,Yq,cr,mr,ir,jr,kr,ur,vr,sr,Cr,Dr,Er,Fr,Gr,op,Hr,Jr,Kr,Lr,Mr,Nr,Or,Pr,Qr,Rr,Sr,Tr,Ur,Vr,Wr,Xr,Yr,as,Zr,bs,ds,es,$r,cs,fs,gs,hs,is,js,ks,ls,ms,ns,os,qs,ss,ts,us,rs,ws,xs,Bs,Gs,Hs,Js,Is,Gj,Ls,Ps,Os,Qs,Rs,Ns,Ts,Us,Ss,Vs,Ws,Ys,Hj,ct,Cj,nt,qt,Pg,st;aa=" coming up at ";_.ca=" is registered.";da=" is unsupported on this platform.";
ea=" to a log level. Falling back to default!";fa="': 'output-restricted'";ia=".start";_.ja="6.14.0";_.ka="AdaptationSet";_.la="Already destroyed. No-op";_.ma="Already released. No-op";_.oa="Autoplay is not allowed due to browser policy.";_.pa="BANDWIDTH";ra="CHECKSUM";_.sa="CLOSED-CAPTIONS";_.ta="CODECS";ua="Can not set volume to ";_.va="Cannot retrieve buffer information due to platform limitations";_.wa="CastlabsPlayer";xa="Content-Length";ya="Content-Type";_.za="Could not find configured DRM environment.";
_.Aa="DRM environment '";Ba="DRM licenses loaded";Da="DRMtoday";Ea="DRMtodayOnboard";_.Ga="DURATION";Ha="Destroying player";_.Ja="Disable track type ";Ka="EXT-X-BYTERANGE";_.La="EXT-X-DATERANGE";_.Ma="EXT-X-DISCONTINUITY";_.Na="EXT-X-DISCONTINUITY-SEQUENCE";Oa="EXT-X-ENDLIST";_.Pa="EXT-X-KEY";_.Qa="EXT-X-MAP";_.Ra="EXT-X-MEDIA-SEQUENCE";Sa="EXT-X-PART-INF";Ua="EXT-X-PLAYLIST-TYPE";_.Va="EXT-X-PRELOAD-HINT";_.Wa="EXT-X-PROGRAM-DATE-TIME";Xa="EXT-X-SERVER-CONTROL";_.Ya="EXT-X-STREAM-INF";Za="EXT-X-TARGETDURATION";
$a="Error while decoding string!";_.ab="Error while fetching license!";_.bb="FairPlay Certificate URL is not defined";_.cb="FairPlay License URL is not defined";_.db="GROUP-ID";eb="HW_SECURE_ALL";fb="HW_SECURE_CRYPTO";gb="HW_SECURE_DECODE";hb="HeaderDrm";ib="Hide video element .";jb="Interstitial ";kb="Interstitial cue ";lb="Interstitials ";mb="Invalid track type: ";nb="InvalidStateError";ob="Item failed (ID: ";pb="Item loading (ID: ";qb="Item not found (ID: ";rb="Key status for Key ID '";_.sb="LANGUAGE";
ub="License verification failed: ";_.vb="Loading player with configuration";_.wb="MaxHeight";_.xb="MaxWidth";yb="Missing media element";zb="No drmtoday configuration found in player configuration. Unable to modify the DRM license request!";Ab="No event provided!";Bb="No items in the playlist";Cb="No track data attached to the event, unable to add track!";Db="Not a persistent session.";Eb="NotAllowedError";Fb="NotSupportedError";_.Gb="PlayReady License URL is not defined";Hb="Player not ready yet.";
_.Ib="Player sources";_.Kb="Player state change: ";Lb="Playing interstitial asset ";_.Mb="Please make sure ";Nb="Preloading is not supported by this player.";_.Ob="QualityLevel";_.Pb="RESOLUTION";_.Qb="Releasing player with source";_.Rb="Representation";Sb="STANDARD";_.Tb="SUBTITLES";_.Ub="SW_SECURE_CRYPTO";_.Vb="SW_SECURE_DECODE";Wb="Session is closed";Xb="Setting native ";Yb="Show video element .";Zb="Signature Verification failed";$b="Skipping Session creation. License for init data was already requested in Session: '";
_.ac="SmoothStreamingMedia";_.bc="TYPE";cc="The index is not in the allowed range.";_.dc="URI";ec="Unable to translate ";_.fc="Unhandled/ignored event";_.gc="Unregistering listeners";hc="Unsupported keySystem";jc="Using VTTCue polyfill from 3 argument TextTrackCue.";_.kc="VIDEO";_.lc="VOD";mc="Wait for preloading to finish";nc="WebkitEmeManager.MediaKeySession.load";_.oc="Widevine License URL is not defined";pc="Will create EME Manager: ";qc="X-ASSET-LIST";rc="X-ASSET-URI";sc="X-PLAYOUT-LIMIT";
tc="X-RESUME-OFFSET";_.uc="ad-break-started";_.vc="ad-break-stopped";_.wc="ad-buffering";_.xc="ad-clicked";_.yc="ad-completed";_.zc="ad-first-quartile";_.Ac="ad-impression";_.Bc="ad-loaded";_.Cc="ad-midpoint";_.Dc="ad-paused";_.Ec="ad-progress";_.Fc="ad-resumed";_.Gc="ad-skipped";_.Hc="ad-started";_.Ic="ad-stopped";_.Jc="ad-third-quartile";_.Kc="addtrack";_.Nc="ads-timeline-changed";_.Oc="airplay-casting-ended";_.Pc="airplay-casting-started";_.Qc="airplay-status-changed";_.Rc="application";_.Sc="application/cea-608";
_.Tc="application/dash+xml";Uc="application/mp4";_.Vc='application/mp4; codecs\x3d"stpp"';_.Wc='application/mp4; codecs\x3d"wvtt"';_.Xc="application/ttml+xml";_.Yc="application/vnd.ms-sstr+xml";Zc="application/x-www-form-urlencoded";_.$c="audio";_.ad="audio/aac";_.bd="audio/ac3";_.cd="audio/eac3";_.dd="audio/mp4";_.ed="audiobufferchanged";_.fd="autoplaynotallowed";_.gd="bitratechanged";_.hd="boolean";_.id="bufferingended";_.jd="bufferingstarted";kd="canplay";ld="canplaythrough";_.md="caption";
_.nd="castingstarted";_.od="caststatuschanged";_.pd="cdn-switch-success";_.rd="cenc";_.sd="center";td="certificate-request";ud="change";vd="chrome";_.wd="clpp-fill";xd="clpp-hidden";yd="clpp-mc-playlist";zd="clpp-mc-playlist-item";Ad="clpp-mc-playlist-video-el";Bd="clpp-visible";_.Cd="clpp.cast.CastSender";Dd="clpp.drm.HeaderDrm";Ed="clpp.drm.eme.AppleEmeManager";Fd="clpp.interstitial.Player";Gd="clpp.native.Player";Hd="clpp.plist.McPlaylist";Id="clpp.utils.Platform";_.Jd="codecs";_.Kd="column-reverse";
_.Ld="com.adobe.primetime";_.Md="com.apple.fps";Nd="com.apple.hls.interstitial";_.Pd="com.microsoft.playready";Qd="com.microsoft.playready.recommendation";_.Rd="com.widevine.alpha";_.Sd="config.drm.customData is not defined";Td="controls";_.Ud="cuechange";_.Vd="decoder";_.Wd="destroy()";_.Xd="disabled";_.Yd="div";Zd="drm.license.req.";$d="drm.mediaKeys.end";ae="drm.mediaKeys.start";be="drm.onPlay.end";ce="drm.onPlay.start";de="drm.sess.update.";_.ee="drmexpirationupdate";fe="drmrenewalstarted";
_.ge="drmsessionpersisted";_.he="drmsessionupdate";ie="drmtoday";je="durationchange";ke="encrypted";_.le="end";_.me="ended";_.ne="error";_.oe="forced";pe="fullscreenElement";_.qe="function";_.re="height";_.se="hidden";_.te="html";_.ue="image";_.ve="internal-error";we="itemchange";xe="keystatuseschange";_.ye="left";ze="license-renewal";Ae="license-request";_.Ce="line-left";_.De="line-right";_.Ee="loadeddata";_.Fe="loadedmetadata";Ge="loadstart";_.He="main";_.Ie="mdat";_.Je="mdia";_.Ke="message";
_.Le="metadata";_.Me="mimeType";_.Ne="minf";_.Oe="moov";_.Pe="mp4";_.Qe="mpd-type-changed";_.Re="mpeg-dash-callback-event";_.Se="none";_.k="number";_.Te="object";_.Ue="onBitrateChanged()";_.Ve="onPlayerError()";_.We="onPlayerWillDestroy";_.Xe="onPlayerWillRelease";_.Ye="onStateChanged()";Ze="online-status-changed";_.$e="optional";_.af="org.w3.clearkey";_.bf="output-restricted";_.cf="pause";_.df="persistent";_.ef="persistent-license";ff="picture-in-picture";_.gf="play";hf="player.afterLoad.end";
jf="player.afterLoad.start";kf="player.beforeLoad.end";lf="player.beforeLoad.start";mf="player.load.end";nf="player.load.start";_.of="playing";_.pf="playlist-item-changed";_.tf="playlist-modified";uf="playlist.next.end";vf="playlist.next.start";wf="preload-aborted";xf="preload-failed";yf="preloaded";zf="preloading";Af="primary-before-load";Bf="primary-content";_.Cf="progress";_.Df="px";_.Ef="ratechange";Ff="released";_.Gf="releasing";Hf="removetrack";_.If="required";_.Jf="resize";_.Kf="right";
_.Lf="seeked";_.Mf="seeking";_.Nf="showing";_.Of="simid-creative-started";_.Pf="simid-creative-stopped";_.Qf="sinf";Rf="stalled";_.Sf="start";_.Tf="statechanged";Uf="status-pending";_.Vf="stbl";_.Wf="string";_.Xf="stsd";_.Yf="style";_.Zf="subtitle";_.$f="subtitles-htmlcue";ag="temporary";_.bg="text";_.cg="text/vtt";_.dg="text/xml";_.eg="timeupdate";_.fg="trak";_.gg="ttml-xml";_.hg="und";ig="unknown";jg="update";_.kg="urn:scte:scte35";_.lg="urn:scte:scte35:2014";_.mg="user-seeked";_.og="user-seeking";
_.pg="value";_.qg="vertical-lr";_.rg="vertical-rl";_.sg="video";_.tg="video/mp2t";_.ug="video/mp4";_.vg="videobufferchanged";_.wg="videotrackchanged";_.xg="vimond-response";yg="visibilitychange";_.zg="vtt-xml";_.Ag="waiting";_.Bg="waitingforkey";Cg="webkit-org.w3.clearkey";Dg="webkitkeyadded";Eg="webkitkeyerror";Fg="webkitkeymessage";Gg="webkitneedkey";_.Hg="width";Ig="x-dt-csl-tracking-token";Jg="x-dt-follow-up-token";Kg="x-dt-resp-code";
Mg=function(a){return function(){return _.Lg[a].apply(this,arguments)}};Ng=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};_.u=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:Ng(a)}};_.Og=function(a){if(!(a instanceof Array)){a=_.u(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a};
_.w=function(a,b){a.prototype=Pg(b.prototype);a.prototype.constructor=a;if(Qg)Qg(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c]};Rg=function(){Rg=function(){};Sg.Symbol||(Sg.Symbol=Tg)};Vg=function(a,b){this.a=a;Ug(this,"description",{configurable:!0,writable:!0,value:b})};
Xg=function(){Rg();var a=Sg.Symbol.iterator;a||(a=Sg.Symbol.iterator=Sg.Symbol("Symbol.iterator"));typeof Array.prototype[a]!=_.qe&&Ug(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return Wg(Ng(this))}});Xg=function(){}};Wg=function(a){Xg();a={next:a};a[Sg.Symbol.iterator]=function(){return this};return a};Yg=function(){this.w=!1;this.j=null;this.f=void 0;this.a=1;this.l=this.o=0;this.B=this.h=null};Zg=function(a){if(a.w)throw new TypeError("Generator is already running");a.w=!0};
$g=function(a,b){a.h={Cg:b,ah:!0};a.a=a.o||a.l};_.x=function(a,b,c){a.a=c;return{value:b}};_.y=function(a){a.a=0};_.A=function(a,b,c){a.o=b;void 0!=c&&(a.l=c)};_.ah=function(a,b,c){a.a=b;a.o=c||0};_.C=function(a,b){a.o=b||0;var c=a.h.Cg;a.h=null;return c};_.bh=function(a){a.B=[a.h];a.o=0;a.l=0};_.ch=function(a,b){var c=a.B.splice(0)[0];(c=a.h=a.h||c)?c.ah?a.a=a.o||a.l:void 0!=c.F&&a.l<c.F?(a.a=c.F,a.h=null):a.a=a.l:a.a=b};dh=function(a){this.a=new Yg;this.f=a};
gh=function(a,b){Zg(a.a);var c=a.a.j;if(c)return eh(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.a["return"]);a.a["return"](b);return fh(a)};eh=function(a,b,c,d){try{var e=b.call(a.a.j,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return a.a.w=!1,e;var f=e.value}catch(g){return a.a.j=null,$g(a.a,g),fh(a)}a.a.j=null;d.call(a.a,f);return fh(a)};
fh=function(a){for(;a.a.a;)try{var b=a.f(a.a);if(b)return a.a.w=!1,{value:b.value,done:!1}}catch(c){a.a.f=void 0,$g(a.a,c)}a.a.w=!1;if(a.a.h){b=a.a.h;a.a.h=null;if(b.ah)throw b.Cg;return{value:b["return"],done:!0}}return{value:void 0,done:!0}};
hh=function(a){this.next=function(b){Zg(a.a);a.a.j?b=eh(a,a.a.j.next,b,a.a.A):(a.a.A(b),b=fh(a));return b};this["throw"]=function(b){Zg(a.a);a.a.j?b=eh(a,a.a.j["throw"],b,a.a.A):($g(a.a,b),b=fh(a));return b};this["return"]=function(b){return gh(a,b)};Xg();this[Symbol.iterator]=function(){return this}};_.ih=function(a,b){var c=new hh(new dh(b));Qg&&Qg(c,a.prototype);return c};
jh=function(a,b){if(b){for(var c=Sg,d=a.split("."),e=0;e<d.length-1;e++){var f=d[e];f in c||(c[f]={});c=c[f]}d=d[d.length-1];e=c[d];f=b(e);f!=e&&null!=f&&Ug(c,d,{configurable:!0,writable:!0,value:f})}};kh=function(a){function b(d){return a.next(d)}function c(d){return a["throw"](d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};_.E=function(a){return kh(new hh(new dh(a)))};
_.H=function(a,b){var c=a.split("."),d=lh;c[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]&&d[e]!==Object.prototype[e]?d=d[e]:d=d[e]={}:d[e]=b};oh=function(a){return a&&0<=mh[a]?mh[a]:nh};qh=function(a){if(!a)return _.J("clpp.log",ec+a+ea),-1;var b=ph[a.toUpperCase()];return void 0===b?(_.J("clpp.log",ec+a+ea),-1):b};_.K=function(a){(this.tag=a)&&void 0===mh[a]&&(mh[a]=-1)};_.sh=function(a){rh.info.apply(rh,arguments)};
_.th=function(a){rh.debug.apply(rh,arguments)};_.J=function(a){rh.warn.apply(rh,arguments)};_.uh=function(a){rh.error.apply(rh,arguments)};vh=function(a,b){this.Pb=a;this.a=b};wh=function(a,b){this.player=a;this.a=b};_.zh=function(a){if(a){var b=a.a();b in _.xh?_.yh.warn("Player-Factory '"+b+"' already registered"):(_.xh[b]=a,_.yh.info("Registered Player-Factory: '"+b+"'"))}};_.Bh=function(){this.a={}};Ch=function(a,b,c,d){this.f=a;this.Lc=b;this.a=c;this.bm=!!d};
_.L=function(a,b){if(b)for(var c in b)this[c]=b[c];this.defaultPrevented=this.cancelable=this.bubbles=!1;this.timeStamp=window.performance&&window.performance.now?window.performance.now():Date.now();this.type=a;this.isTrusted=!1;this.target=this.currentTarget=null;this.f=this.a=!1};Dh=function(a){this.a=new _.Bh;this.f=a};_.Eh=function(){this.a=new _.Bh};
_.Fh=function(a,b,c,d){function e(h){for(var l=_.u(c),m=l.next();!m.done;m=l.next())a.off(b,m.value,e);d(h)}for(var f=_.u(c),g=f.next();!g.done;g=f.next())a.on(b,g.value,e)};_.Hh=function(a){var b=a.a,c=[],d;for(d in b.a)c.push.apply(c,b.a[d]);for(b=0;b<c.length;++b)Gh(c[b]);a.a.clear()};Ih=function(a,b,c,d){this.target=a;this.type=b;this.a=c;this.f=d;this.target.addEventListener(b,c,d)};Gh=function(a){a.target.removeEventListener(a.type,a.a,a.f);a.target=null;a.a=null};
Jh=function(a){this.m=a;this.o=a.getConfiguration().streaming.addMissingTimelineCues||!1;this.j=null;this.f=new _.Eh;this.a=this.l=null;this.h=[];this.g=new _.K("clpp.native.Metadata")};Lh=function(a,b){a.j=b;a.l=a.j.textTracks;a.f.on(a.l,_.Kc,function(c){c=c.track;c.kind===_.Le&&Kh(a,c)})};
Kh=function(a,b){function c(l){for(var m=_.u(d),n=m.next();!n.done;n=m.next())if(n=n.value,l.startTime===n.startTime&&l.endTime===n.endTime)return n;m={schemeIdUri:"",value:"",startTime:0,endTime:0,id:"",type:_.Mh,eventElement:null};a.o&&e&&"SCTE35-IN"===l.value.key&&0<l.startTime?(m.startTime=0,m.endTime=l.startTime):(m.startTime=l.startTime,m.endTime=l.endTime);e=!1;d.push(m);return d[d.length-1]}a.g.debug("onMetadata_()");b.mode=_.se;var d=[],e=!0;if(b.cues){for(var f=_.u(b.cues),g=f.next();!g.done;g=
f.next())if(g=g.value,!Nh(a,g)){var h=c(g);switch(g.value.key){case "SCTE35-IN":case "SCTE35-OUT":h.schemeIdUri=_.lg;h.type=_.Oh;break;case "X-CUSTOM-ID":h.id=g.value.data}}f=_.u(d);for(g=f.next();!g.done;g=f.next())a.m.trigger(new _.L(_.Ph,{detail:g.value}));Array.prototype.push.apply(a.h,d);Qh(a,d,b);a.f.off(b,_.Ud);a.f.on(b,_.Ud,function(l){l=l.target.activeCues;l=l.length?Nh(a,l[0]):a.a;var m;if(m=l)m=a.m.getPosition(),m=l.startTime<=m&&m<l.endTime;if(m)a.a=l,a.m.trigger(new _.L(_.Rh,{detail:l}));
else{if(l=a.a)l=a.a,m=a.m.getPosition(),l=l.endTime<=m;l&&(l=a.a,a.a=null,a.m.trigger(new _.L(_.Sh,{detail:l})))}})}};Nh=function(a,b){for(var c=_.u(a.h),d=c.next();!d.done;d=c.next())if(d=d.value,b.startTime===d.startTime&&b.endTime===d.endTime)return d;return null};Qh=function(a,b,c){if(a.o){for(;0<c.cues.length;)c.removeCue(c.cues[0]);b.forEach(function(d){c.addCue(new DataCue(d.startTime,d.endTime,{key:"SCTE35-OUT",data:null}))})}};_.Th=function(a){return Array.isArray(a)?a:[a]};
Uh=function(a,b){return a===b?!0:a.length===b.length&&a.every(function(c,d){return c===b[d]})};Wh=function(a,b,c){if(null==a&&null==b)return!0;if(null==a||null==b)return!1;a=c?a.map(c):a;b=c?b.map(c):b;return Vh(a,b)&&Vh(b,a)};Vh=function(a,b){var c=new Set(a);return b.every(function(d){return c.has(d)})};
_.Xh=function(a,b){b=void 0===b?{}:b;if(b.ug){for(var c=[],d={},e=_.u(a),f=e.next();!f.done;d={Td:d.Td},f=e.next())d.Td=f.value,c.some(function(g){return function(h){return b.ug(g.Td,h)}}(d))||c.push(d.Td);return c}return Array.from((new Set(a)).values())};
_.di=function(a,b,c,d){d=void 0===d?_.Yh:d;this.startTime=a;this.endTime=b;this.payload=c;this.payloadType=d;this.positionAlign=this.position=null;this.size=100;this.textAlign=_.Zh;this.writingMode=_.$h;this.lineInterpretation=_.ai;this.line=null;this.lineAlign=_.bi;this.direction=ci;this.region=null;this.cssClassList=[];this.id=this.backgroundImage="";this.containerRows=null};
_.gi=function(){this.id="";this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0;this.height=this.width=100;this.viewportAnchorUnits=this.widthUnits=this.heightUnits=_.ei;this.scroll=fi;this.cssClassList=[];this.writingMode=this.displayAlign=null};hi=function(a){this.m=a;this.l=a.getTextDisplayer();this.f=this.h=null;this.a=new _.Eh;this.j=!1;this.g=new _.K("clpp.native.CueHandler")};
ii=function(a,b){var c=b.track;c.kind!==_.Le&&(c.mode===_.Nf&&(c.mode=_.se),a.a.on(c,_.Ud,function(d){d=d.target||d.srcElement;d.mode=_.se;d.activeCues&&(d=Array.from(d.activeCues).map(a.o),a.l.append(d,[]))}))};_.P=function(a,b,c,d,e){var f=Error.call(this,ji(a,b,c,d));this.message=f.message;"stack"in f&&(this.stack=f.stack);this.severity=a;this.category=b;this.code=c;this.data=!d||_.N.$(d)?{}:d;this.cause=void 0===e?null:e;this.f=!1;Error.captureStackTrace&&Error.captureStackTrace(this,_.P)};
ji=function(a,b,c,d){a=(a===_.Q?"FATAL":"RECOVERABLE")+" Clpp-Error [Category "+b+" - Code "+c+"]";if(_.N.$(d))a+=": "+d;else if(null!=d&&void 0!=d)if(null!=d.message&&void 0!=d.message)a+=": "+d.message,delete d.message;else try{a+=": "+JSON.stringify(d)}catch(e){}return a};ki=function(a,b){var c=Error.call(this,a);this.message=c.message;"stack"in c&&(this.stack=c.stack);this.code=b};
li=function(a,b){var c=b||Uh,d=null,e=null,f=!1;return function(g){for(var h=[],l=0;l<arguments.length;++l)h[l]=arguments[l];if(f&&c(h,d))return e;f=!0;d=h;return e=a.apply(null,_.Og(h))}};_.mi=function(a,b){return a.concat(b)};_.ni=function(a){return null!=a};oi=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];for(c=0;c<b.length;c++){var d=b[c];if(null!==d&&void 0!==d)return d}throw new ki("No non-null, non-undefined value found");};
pi=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];for(c=0;c<b.length;c++){var d=b[c];if(null!==d&&void 0!==d)return d}};_.qi=function(a){var b;a instanceof _.qi?(ri(this,a.fb),this.zc=a.zc,this.Pa=a.Pa,si(this,a.bd),this.Ba=a.Ba,_.ti(this,ui(a.a)),this.lc=a.lc):a&&(b=String(a).match(vi))?(ri(this,b[1]||"",!0),this.zc=wi(b[2]||""),this.Pa=wi(b[3]||"",!0),si(this,b[4]),this.Ba=wi(b[5]||"",!0),_.ti(this,b[6]||"",!0),this.lc=wi(b[7]||"")):this.a=new _.xi(null)};
ri=function(a,b,c){a.fb=c?wi(b,!0):b;a.fb&&(a.fb=a.fb.replace(/:$/,""))};si=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.bd=b}else a.bd=null};_.ti=function(a,b,c){b instanceof _.xi?a.a=b:(c||(b=yi(b,zi)),a.a=new _.xi(b))};wi=function(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""};yi=function(a,b,c){return typeof a===_.Wf?(a=encodeURI(a).replace(b,Ai),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null};
Ai=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)};_.xi=function(a){this.f=a||null};ui=function(a){var b=new _.xi;b.f=a.f;if(a.a){var c={},d;for(d in a.a)c[d]=a.a[d].concat();b.a=c;b.h=a.h}return b};_.Bi=function(a,b){if(0==b.length)return a;var c=b.map(function(d){return new _.qi(d)});return a.map(function(d){return new _.qi(d)}).map(function(d){return c.map(d.resolve.bind(d))}).reduce(_.mi,[]).map(function(d){return d.toString()})};
_.Di=function(a,b){for(var c=Ci[a],d=0;d<c.length;d++)for(var e=0;e<b.length;e++)if(c[d].test(b[e].trim()))return b[e].trim();return a===_.bg?"":null};_.Gi=function(a,b,c){return a.map(function(d){d=_.Ei(d)||"";return(d=_.Fi[b][d])?d:b===_.bg?c&&"vtt"!==c?Uc:_.cg:null}).filter(Boolean)[0]||null};_.Ei=function(a){a=(new _.qi(a)).Ba.split(".");return 1>=a.length?null:a.pop()};_.Hi=function(a,b,c,d){this.id=a;this.name=b;this.attributes=c;this.value=void 0===d?null:d};
_.Ii=function(a,b,c,d){d=void 0===d?{}:d;a=a.getAttribute(b);if(!a&&d.required)throw new _.P(_.Q,4,4023,"Required attribute missing: "+b);return a?a.value:c||null};_.Ji=function(a,b){return _.Ii(a,b,void 0,{required:!0})};_.Ki=function(a,b){this.name=a;this.value=b};
_.Li=function(a,b,c,d,e,f,g,h,l,m,n,p,q,t){l=void 0===l?!1:l;m=void 0===m?null:m;n=void 0===n?null:n;p=void 0===p?null:p;q=void 0===q?null:q;t=void 0===t?[]:t;this.position=a;this.startTime=b;this.endTime=c;this.ya=g;this.Sa=d;this.wa=e;this.ia=f;this.keyInfo=(void 0===h?null:h)||null;this.Oc=_.N.R(l)?!1:!!l;this.timescale=m;this.horizontalTiles=n;this.verticalTiles=p;this.durationPerTile=q;this.a=t||[];this.h=!1};
_.Mi=function(a,b,c,d,e,f,g,h,l,m,n,p,q,t){t=void 0===t?[]:t;_.Li.call(this,a,b,c,d,e,f,g,void 0===h?null:h,void 0===l?!1:l,void 0===m?null:m,void 0===n?null:n,void 0===p?null:p,void 0===q?null:q,t);this.initSegment=void 0;this.ca=0};_.Oi=function(a,b){a=_.Ni(a);b=_.Ni(b);return a.split("-")[0]==b.split("-")[0]};_.Ni=function(a){var b=(a||"").split("-");a=b[0]||"";b=b[1]||"";a=a.toLowerCase();a=Pi.get(a)||a;return(b=b.toUpperCase())?a+"-"+b:a};Qi=function(a){if(null!==a&&void 0!==a)return Number(a)};
_.Ri=function(a,b){for(var c=_.u(a),d=c.next();!d.done;d=c.next())if(!b(d.value))return!1;return!0};Si=function(){};Wi=function(a,b){if(!a&&!b)return!0;if(!a||!b||a.byteLength!=b.byteLength)return!1;if(Ti(a)==Ti(b)&&(a.byteOffset||0)==(b.byteOffset||0))return!0;for(var c=_.Ui(a),d=_.Ui(b),e=_.u(Vi(a.byteLength)),f=e.next();!f.done;f=e.next())if(f=f.value,c[f]!=d[f])return!1;return!0};_.Ui=function(a,b,c){c=void 0===c?Infinity:c;return Xi(a,void 0===b?0:b,c,Uint8Array)};
Yi=function(a,b,c){c=void 0===c?Infinity:c;return Xi(a,void 0===b?0:b,c,Uint16Array)};Zi=function(a,b,c){c=void 0===c?Infinity:c;return Xi(a,void 0===b?0:b,c,Uint32Array)};_.$i=function(a,b,c){c=void 0===c?Infinity:c;return Xi(a,void 0===b?0:b,c,Int32Array)};_.aj=function(a,b,c){c=void 0===c?Infinity:c;return Xi(a,void 0===b?0:b,c,DataView)};bj=function(a){return a instanceof ArrayBuffer?a:0==a.byteOffset&&a.byteLength==a.buffer.byteLength?a.buffer:(new Uint8Array(a)).buffer};
Xi=function(a,b,c,d){var e=d.BYTES_PER_ELEMENT||1,f=Ti(a),g=(a.byteOffset||0)+a.byteLength;a=Math.max(0,Math.min((a.byteOffset||0)+b*e,g));c=Math.min(a+Math.max(c*e,0),g);a/=e;return new d(f,a,c/e-a)};Ti=function(a){return a instanceof ArrayBuffer?a:a.buffer};_.cj=function(){};_.ej=function(a,b){var c=void 0==b?!0:b,d=_.dj(a).replace(/\+/g,"-").replace(/\//g,"_");return c?d:d.replace(/[=]*$/,"")};
_.fj=function(a){a=window.atob(a.replace(/-/g,"+").replace(/_/g,"/"));for(var b=new Uint8Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b};_.gj=function(a){for(var b=new Uint8Array(a.length/2),c=0;c<a.length;c+=2)b[c/2]=window.parseInt(a.substr(c,2),16);return b};_.hj=function(a){for(var b="",c=0;c<a.length;++c){var d=a[c].toString(16);1==d.length&&(d="0"+d);b+=d}return b};
_.ij=function(a,b){if(!a&&!b)return!0;if(!a||!b||a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!=b[c])return!1;return!0};_.jj=function(a){for(var b=0,c=0;c<arguments.length;++c)b+=arguments[c].length;b=new Uint8Array(+b);for(var d=c=0;d<arguments.length;++d)b.set(arguments[d],c),c+=arguments[d].length;return b};_.dj=function(a){a=_.R.fromCharCode(_.Ui(a));return btoa(a)};_.kj=function(a){this.f=a;this.a=0};
_.lj=function(a,b){b.lastIndex=a.a;var c=b.exec(a.f);c=null==c?null:{position:c.index,length:c[0].length,results:c};if(a.a==a.f.length||null==c||c.position!=a.a)return null;a.a+=c.length;return c.results};
_.mj=function(a,b){var c=b.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!c)throw new _.P(_.Q,4,4016,{invalidTag:b});var d=c[1],e=c[2];c=[];var f;if(e){e=new _.kj(e);var g;(g=_.lj(e,/^([^,=]+)(?:,|$)/g))&&(f=g[1]);for(var h=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;g=_.lj(e,h);)c.push(new _.Ki(g[1],g[2]||g[3]))}return new _.Hi(a,d,c,f)};_.oj=function(){return{maxAttempts:1,baseDelay:1E3,backoffFactor:2,fuzzFactor:.5,timeout:0,fatalStatusCodes:_.Og(nj).concat()}};
pj=function(a,b){a.timeout=b.timeout;a.baseDelay=b.baseDelay;a.backoffFactor=b.backoffFactor;a.fuzzFactor=b.fuzzFactor;a.maxAttempts=b.maxAttempts;a.fatalStatusCodes=b.fatalStatusCodes||_.Og(nj).concat()};
_.rj=function(a,b){_.N.$(a)&&(a={uris:[a]});Array.isArray(a)&&(a={uris:a});var c={uris:a.uris||[],type:a.type||_.qj,uriIndex:0,method:a.method||"GET",body:a.body||null,headers:Object.assign({},a.headers),allowCrossSiteCredentials:a.allowCrossSiteCredentials||!1,onProgress:a.onProgress||null,onFragment:a.onFragment||null,maxAttempts:a.maxAttempts||1,currentAttempt:0,baseDelay:a.baseDelay||1E3,backoffFactor:a.backoffFactor||2,fuzzFactor:a.fuzzFactor||.5,timeout:a.timeout||0,requestModifiers:a.requestModifiers||
[],responseModifiers:a.responseModifiers||[],startTime:a.startTime||null,endTime:a.endTime||null,contentType:a.contentType||null,licenseRequestType:a.licenseRequestType||null,sessionId:null,bytesRemaining:-1,bytesLoaded:-1,bytesTotal:-1,timescale:a.timescale||null,rateLimitBps:a.rateLimitBps||null,disableFragmentSupport:a.disableFragmentSupport||!1,disableMergedFragments:a.disableMergedFragments||!1,fatalStatusCodes:_.Og(nj).concat(),requestStartTimestamp:null};a.keyInfo&&(c.keyInfo=a.keyInfo);b&&
pj(c,b);return c};_.sj=function(a,b,c,d,e,f,g,h){e&&(d=e);e={uri:d,data:b||new ArrayBuffer(0),headers:a,status:c,fromCache:!!a["x-shaka-from-cache"],timeMs:g,responseStartMs:h,request:f};if(200<=c&&299>=c&&202!==c)return e;g=null;try{g=_.R.yd(b,!0)}catch(l){}_.th("HTTP error text:",g);throw new _.P(0<=(f.fatalStatusCodes||[]).indexOf(c)?_.Q:1,1,1001,{url:d,status:c,responseText:g,headers:a,request:f,response:e});};
tj=function(a,b){var c=parseInt(b,10);Number.isNaN(c)&&(c=-1);a.bytesTotal=c;a.bytesLoaded=0;a.bytesRemaining=c};uj=function(a,b,c){0<a.bytesRemaining&&(a.bytesRemaining-=b);a.bytesLoaded+=b;if(a.onProgress)a.onProgress(b,c)};vj=function(a,b,c){if(0>=a)return Promise.resolve();var d=8*c/a-b/1E3;return 0<d?new Promise(function(e){setTimeout(e,1E3*d)}):Promise.resolve()};_.wj=function(){var a,b,c=new Promise(function(d,e){a=d;b=e});c.resolve=a;c.reject=b;return c};
_.xj=function(a,b){this.O=a;this.A=b;this.a=!1};yj=function(a,b){a.O.then(function(){return b(!0)},function(){return b(!1)});return a};zj=function(a,b,c){try{var d=a(b);if(d&&d.O&&d.abort)return c.resolve(d.O),function(){return d.abort()};c.resolve(d);return function(){return Promise.resolve(d).then(function(){})["catch"](function(){})}}catch(e){return c.reject(e),function(){return Promise.resolve()}}};_.Aj=function(){this.a=[]};
_.Bj=function(a,b){a.a.push(yj(b,function(){var c=a.a,d=c.indexOf(b);-1<d&&c.splice(d,1)}))};_.Kj=function(){this.f=[];this.h=[];this.o=!1;this.l=new _.Aj;this.a={};this.j=0;this.a.data=Cj;!window.fetch||!window.AbortController||_.Dj(6)||_.Ej()&&68<_.Fj().browserVersion.major?(this.a.http=Gj,this.a.https=Gj):(this.a.http=Hj,this.a.https=Hj)};Lj=function(a,b){var c,d;return _.E(function(e){if(1==e.a)return c=_.R,_.x(e,a.fetch(b),2);d=e.f;return e["return"](c.ih(c.Z(d.data)))})};
Mj=function(a,b){var c,d;return _.E(function(e){if(1==e.a)return _.x(e,Lj(a,b),2);c=e.f;try{d=JSON.parse(c);if(null==d||typeof d!==_.Te)throw Error("Not an object");return e["return"](d)}catch(f){throw new ki("Failed to parse JSON response","json-failed");}})};
Nj=function(a,b,c,d){d=void 0===d?"HEAD":d;var e,f;return _.E(function(g){switch(g.a){case 1:if(!navigator.onLine)return g["return"](!1);if(!b){g.F(2);break}e=_.rj(b,c);e.method=d;c||(e.timeout=5E3);e.headers["cache-control"]="no-cache";_.A(g,4);return _.x(g,a.fetch(e).O,6);case 6:_.ah(g,2);break;case 4:if(f=_.C(g),1002===f.code||1003===f.code)return g["return"](!1);case 2:return g["return"](!0)}})};
_.Oj=function(a,b){this.id=a;this.type=b;this.roles=[];this.frameRate=this.label=this.originalLanguage=this.language=this.kind=null;this.trickPlay=!1;this.channelsCount=this.src=this.mimeType=null;this.spatialAudio=!1;this.renditions=[];this.accessibility=[]};_.Pj=function(a){return a&&a!==_.hg?a:null};
Sj=function(a){if(!a)throw new _.P(_.Q,3,3101,mb+a);if(!_.N.$(a))throw new _.P(_.Q,3,3101,mb+a+". Track type must be a string!");switch(a.toLowerCase()){case _.S:return _.S;case _.T:return _.T;case _.Qj:return _.Qj;case Rj:return Rj}throw new _.P(_.Q,3,3101,"Unknown track type: "+a+".");};Uj=function(a,b){a=Sj(a);var c=_.Pj(b.kind),d=b.id;d||(d=String(_.Tj++));d=new _.Oj(d,c===_.Le?Rj:a);d.kind=c;d.label=_.Pj(b.label);d.language=_.Pj(b.language);d.originalLanguage=b.originalLanguage||d.language;return d};
Vj=function(a){return"@@scheme:"+(a.scheme||"")+("@@value:"+a.value)+("@@id:"+(a.id||"")+"@@type:"+(a.type||""))+("@@protocol:"+(a.protocol||""))};_.Wj=function(a,b){this.track=b;this.id=a;this.originalId=this.drm=this.drmInfo=this.codec=this.kd=this.bandwidth=this.height=this.width=null};
_.Xj=function(a){this.j=a;this.scheme=null;var b=document.createElement("a"),c=a.match(/^(.*:)(\/\/(.*))$/),d=!1;if(c){if(this.scheme=c[1],b.href=c[2],":"===b.protocol||""===b.host&&""===b.pathname)b.href="//dummy.com/"+c[3],d=!0}else{b.href=a;if(":"===b.protocol||""===b.host&&""===b.pathname)b.href="//dummy.com/"+a.match(/\/?\/?(.*)/)[1],d=!0;this.scheme=b.protocol}""===this.scheme&&(this.scheme=window.location.protocol);this.a=d?"":b.hostname;this.port=b.port;this.path=b.pathname;_.R.startsWith(this.path,
"/")||(this.path="/"+this.path);this.f=b.search;this.h=b.hash};_.Yj=function(a){return a.scheme+"//"+(a.a+(a.port?":"+a.port:"")+a.path+a.h+a.f)};_.Zj=function(a,b,c){return a?(c||Object.keys(a).sort()).reduce(function(d,e){if(!(e in a))return d;var f=a[e],g="\x26";""===d&&(g=b?"":"?");d=d+g+encodeURIComponent(e);return d=d+"\x3d"+encodeURIComponent(void 0===f?"":f)},""):""};
_.ak=function(a){var b={};a=a||"";a=a.substring(a.indexOf("?")+1);a=_.u(a.split("\x26"));for(var c=a.next();!c.done;c=a.next()){var d=c.value.split("\x3d");c=decodeURIComponent(d[0]);d=decodeURIComponent(d[1]||"");c&&(b[c]=d)}return b};bk=function(a,b){return a.startsWith("http:://")||a.startsWith("https:://")?a:(new URL(a,b)).toString()};
ck=function(a){this.f=a;this.g=new _.K("clpp.native.hls.HlsMetadataParser");this.a=li(this.h.bind(this),function(b,c){return b[0]===c[0]&&b[1].enableHlsVideoTrackInfo===c[1].enableHlsVideoTrackInfo&&b[1].enableMetadata===c[1].enableMetadata})};
fk=function(a,b,c){var d,e,f,g,h;return _.E(function(l){if(1==l.a)return _.x(l,dk(a,b,c),2);d=l.f;e=d.mimeType;f=d.renditions;g=new _.Oj("dummy",_.Qj);h=f.map(function(m,n){var p=new _.Wj("R"+n,g);p.bandwidth=m.bandwidth;p.kd=m.kd;p.codec=m.codec;p.width=m.width;p.height=m.height;return p});ek(h);return l["return"]({renditions:h,mimeType:e||void 0})})};
hk=function(a){a=a.split("\n").filter(function(c){return c.trim().startsWith("#EXT-X-MEDIA:")}).map(function(c){return gk(c)});var b=new Map;a.forEach(function(c){if(c.type&&c.name){var d=c.type+":"+c.name;if(b.has(d))throw Error("#EXT-X-MEDIA:NAME attributes are not unique. It is impossible to map HLS metadata to Safari data structures.");b.set(d,c)}});return b};
gk=function(a){function b(d){return(d=c.getAttribute(d))?d.value:void 0}var c=_.mj(0,a);a=b(_.bc);a=null!=a?{AUDIO:_.T,VIDEO:_.Qj,SUBTITLES:_.S}[a]:void 0;return{type:a,groupId:b(_.db),name:b("NAME"),language:b(_.sb),Vm:b("AUTOSELECT"),"default":b("DEFAULT"),en:b("FORCED"),ig:b("CHARACTERISTICS"),uri:b(_.dc)}};ek=function(a){var b=new Set;a.forEach(function(c){b.add(c.width+"x"+c.height)});if(b.size<a.length)throw Error("Playlist contains multiple renditions with the same resolution.");};
ik=function(a,b){var c,d;return _.E(function(e){if(1==e.a)return c=_.rj(b),_.x(e,Lj(a.f,c),2);d=e.f;return e["return"](d)})};dk=function(a,b,c){var d,e,f,g;return _.E(function(h){if(1==h.a)return d=jk(b),e=kk(b,c),f=d[0]?d[0].codec:null,_.x(h,lk(a,e,f),2);g=h.f;return h["return"]({mimeType:g,renditions:d})})};lk=function(a,b,c){var d,e;return _.E(function(f){if(1==f.a)return b&&c?_.x(f,ik(a,b),2):f["return"](null);d=f.f;e=[mk(d,b),nk(d,b)].filter(Boolean);return f["return"](_.Gi(e,_.sg,c))})};
jk=function(a){return a.split("\n").filter(function(b){return b.trim().startsWith("#EXT-X-STREAM-INF:")}).map(function(b){var c=_.mj(0,b);if(c.getAttribute(_.kc))throw Error("Playlist contains alternative video streams.");var d=_.Ii(c,_.Pb);b=d?Number(d.split("x")[0]):null;d=d?Number(d.split("x")[1]):null;var e=_.Ii(c,_.pa);e=e?Number(e):null;var f=_.Ii(c,"AVERAGE-BANDWIDTH");f=f?Number(f):null;c=_.Ii(c,_.ta);c=_.Di(_.sg,c?c.split(","):[]);return{bandwidth:e,kd:f,codec:c,width:b,height:d,mimeType:null}})};
kk=function(a,b){var c=a.split("\n").filter(function(d){return d.trim().endsWith(".m3u8")})[0];return c?bk(c,b):null};mk=function(a,b){var c=a.split("\n").find(function(d){return!d.startsWith("#")&&0<d.trim().length});return c?bk(c,b):null};nk=function(a,b){var c=a.split("\n").find(function(d){return d.startsWith("#EXT-X-MAP:")});return c?(c=_.Ii(_.mj(0,c),_.dc))?bk(c,b):null:null};
_.pk=function(a,b,c){for(var d=_.u(_.ok),e=d.next();!e.done;e=d.next())if(e=e.value,e.probe(b,c))return e.create(a);return null};_.qk=function(a){a=_.ok.indexOf(a);0<=a&&_.ok.splice(a,1)};_.U=function(){};_.rk=function(a,b){var c=a;b&&(c+='; codecs\x3d"'+b+'"');return c};_.sk=function(a){this.f=a;this.a=null};tk=function(a,b,c){function d(){e&&a.f()}a.stop();var e=!0,f=null;a.a=function(){c?clearInterval(f):clearTimeout(f);e=!1};f=c?setInterval(d,1E3*b):setTimeout(d,1E3*b);return a};
_.uk=function(a){this.f=a;this.a=null};vk=function(){};_.wk=function(){return!!navigator.userAgent.match(/Edge?\//)};_.Dj=function(a){return _.xk("Tizen"+(a?" "+String(a):""))};_.Ej=function(){return _.xk("Web0S")};_.zk=function(){return _.Ej()&&79===yk().major};_.Ak=function(){return _.xk("CrKey")};_.Bk=function(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!_.Dj()};_.Ck=function(){return/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)?!0:_.Bk()&&1<navigator.maxTouchPoints};
_.Dk=function(){return/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)};_.xk=function(a){return(navigator.userAgent||"").includes(a)};Gk=function(){if(Ek)return Ek;Fk||(Fk=new _.uk(function(){Ek=null}));(Ek=document.querySelector(_.sg)||document.querySelector(_.$c))||(Ek=document.createElement(_.sg));Fk.aa(1);return Ek};Ik=function(a,b){try{return parseInt(b,10)}catch(c){Hk.warn("Unable to parse version number for '"+b+"' from '"+a+"'")}return-1};
Jk=function(a){var b={major:-1,name:ig};if(!a)return b;var c=a.replace(/_/g,".");b.name=c;c=c.split(".");1<=c.length&&(b.major=Ik(a,c[0]));2<=c.length&&(b.minor=Ik(a,c[1]));3<=c.length&&(b.patch=Ik(a,c[2]));4<=c.length&&(b.build=Ik(a,c[3]));return b};Kk=function(a,b){if(!a||!b||0===b.length)return!1;for(var c=0;c<b.length;c++)if(0<=a.indexOf(b[c]))return!0;return!1};
Uk=function(){var a=Lk();if(!a)return Mk;var b=a.match(/^.+?(?=\))/);if(!b)return Mk;b=b[0];if(Kk(b,["iphone","ipad"]))return Nk;if(Kk(b,["android"]))return Ok;if(Kk(b,["macintosh"]))return Pk;if(Kk(b,["windows nt"]))return Qk;if(Kk(b,["tizen"]))return Rk;if(Kk(b,["web0s"]))return Sk;if(Kk(b,["linux"]))return Tk;Hk.warn("Unable to identify OS from user agent: "+a);return Mk};
yk=function(){var a=Lk(),b=["ie","edge","opera","firefox","safari",vd];var c=Uk();for(var d=Vk[c],e=0,f=b.length;e<f;e++)if(c=d[b[e]]&&a.match(d[b[e]]))return Jk(c[1]);return Jk("")};Lk=function(){var a=window.navigator.userAgent;return a=a.toLowerCase()};
_.Fj=function(){var a=Uk();var b=Uk();var c=Vk[b];if(c){c=Lk().match(c.os_version)[1];c=Jk(c);if(b===Qk)if("5.1"===c.name)c.name="xp";else if("6.1"===c.name)c.name="7";else if("6.2"===c.name||"6.3"===c.name)c.name="8";b=c}else b=Jk("");a:{c=Lk();var d=["ie","edge","opera","firefox","safari",vd],e=Uk();e=Vk[e];for(var f=0,g=d.length;f<g;f++)if(e[d[f]]&&c.match(e[d[f]])){c=d[f];break a}c=Wk}return{os:a,osVersion:b,browser:c,browserVersion:yk()}};
Xk=function(){this.g=new _.K("clpp.native.TrackManager");this.m=null;this.f=new _.Eh;this.h=[];this.B=0;this.o={};this.C=[];this.a=new Map;this.w=null;this.l=new Map;this.A=!0;this.J=this.Af.bind(this,_.S);this.M=this.Cf.bind(this,_.S);this.K=this.Bf.bind(this,_.S);this.P=this.Af.bind(this,_.Qj);this.V=this.Cf.bind(this,_.Qj);this.T=this.Bf.bind(this,_.Qj);this.G=this.Af.bind(this,_.T);this.I=this.Cf.bind(this,_.T);this.H=this.Bf.bind(this,_.T);this.j=null};
Zk=function(a,b){var c,d,e,f,g,h,l,m;return _.E(function(n){if(1==n.a){c=a.m.getConfiguration();d=_.pk(c,b.mimeType,_.cg);if(!d)return a.g.warn("Track mimetype is not supported",b),n["return"]();e=_.rj(b.url);return _.x(n,a.m.getNetworkEngine().fetch(e).O,2)}(f=n.f)&&f.data&&(g="External_"+a.B++,a.o[g]=b,h=d.a(_.Ui(f.data)),l=URL.createObjectURL(new Blob([h])),m={url:l,kind:b.kind,language:b.language,label:b.label,mimeType:_.cg},Yk(a,m,g));_.y(n)})};al=function(a,b,c){return $k(a)&&b===_.Qj&&!!c.enableHlsVideoTrackInfo};
bl=function(a,b,c){return $k(a)&&(b===_.T||b===_.S)&&!!c.enableMetadata};$k=function(a){a=a.m.getLoadedSource();return!(!a||a.type!==_.dl&&!a.url.endsWith(".m3u8"))&&_.Bk()};el=function(a,b,c){var d,e;return _.E(function(f){if(1==f.a)return(d=a.m.getLoadedSource())&&a.j?_.x(f,a.j.a(d.url,c),2):f["return"]();e=f.f;e.mimeType&&(b.mimeType=e.mimeType);e.renditions&&0<e.renditions.length&&(b.renditions=e.renditions,b.renditions.forEach(function(g){g.track=b}));_.y(f)})};
fl=function(a,b,c){var d,e,f,g;return _.E(function(h){if(1==h.a)return(d=a.m.getLoadedSource())&&a.j?_.x(h,a.j.a(d.url,c),2):h["return"]();e=h.f;e.Yc&&(f=b.type+":"+b.label,(g=e.Yc.get(f))&&g.ig&&(b.accessibility=g.ig.split(",").map(function(l){return l.trim()}).map(function(l){return{value:l,type:b.type,protocol:"HLS"}})));_.y(h)})};
Yk=function(a,b,c){if(a.m){var d=a.m.getSurface().getMedia();if(d){var e=document.createElement("track");e.id=c;e.kind=b.kind;e.srclang=b.language;b.label&&(e.label=b.label);_.R.empty(b.url)?e.src=URL.createObjectURL(new Blob([])):e.src=b.url;d.appendChild(e);a.C.push(e)}}};gl=function(a,b){if(!a.m)return null;var c=a.m.getSurface();if(!c)return null;c=c.getMedia();if(!c)return null;switch(b){case _.T:return c.audioTracks;case _.Qj:return c.videoTracks;case _.S:return c.textTracks;default:return null}};
hl=function(a,b){var c=gl(a,b);c&&(c=Array.from(c),b===_.S&&(c=c.filter(function(d){return d.kind!==_.Le})));return c};il=function(a,b){return a.h.filter(function(c){return c.type===b})};jl=function(a,b){var c=a.a.get(b)||null;return c&&c.renditions[0]};kl=function(a,b){var c=a.l.get(b);return c&&c.renditions[0]};
ol=function(a,b,c){var d=hl(a,b);if(c){if(void 0===a.h.find(function(l){return l.id===c.id}))throw Error("Unknown track with ID "+c.id+" and type "+b);if(c.type!==b)throw Error("Types mismatch for track "+c.type+" and arg "+b);a.g.debug("Activate track type "+b+" with ID: "+c.id);if(d){a.l.set(b,c);var e=!0,f=!1;switch(b){case _.S:var g="mode";e=_.Nf;f=_.Xd;break;case _.T:g="enabled";break;case _.Qj:g="selected"}if(g){d=_.u(d);for(var h=d.next();!h.done;h=d.next())h=h.value,h[g]=ll(c,h,c.type)?e:
f}}}else if(a.g.debug(_.Ja+b),a.a.get(b)&&d&&b===_.S){g=_.u(d);for(h=g.next();!h.done;h=g.next())h.value.mode=_.Xd;a.a.set(b,null)}b===_.T?a.m.trigger(new _.L(_.ml)):b===_.S&&a.m.trigger(new _.L(_.nl))};pl=function(a){return a.enabled||a.selected||a.mode===_.Nf||a.mode===_.se};
ql=function(a,b,c){c=_.Th(c).filter(function(e){return e});a.g.info("Find preferred tracks for",b,c);var d=il(a,b);c.some(function(e){var f=_.Ni(e);return(e=d.find(function(g){g=_.Ni(g.language||"");return _.Oi(f,g)}))?(a.g.info("Will select track with id",e.id),ol(a,b,e),!0):!1})};rl=function(a){(a=a.m.getTextDisplayer())&&a.remove(0,Infinity)};
ll=function(a,b,c){return a.type!==c?!1:void 0!==b.id&&null!==b.id&&""!==b.id?a.id===b.id:_.N.ta(a,{kind:_.Pj(b.kind),language:_.Pj(b.language),label:_.Pj(b.label)},["kind","language","label"])};_.sl=function(a,b){this.length=(this.f=a)?a.length:0;this.a=[];this.type=void 0===b?"total":b};_.tl=function(){this.xd=new Dh(this);this.ud=[]};vl=function(a){return a.name===Eb&&ul.some(function(b){return a.message.startsWith(b)})};wl=function(){};
_.zl=function(){var a=Infinity;navigator.connection&&navigator.connection.saveData&&_.Ck()&&(a=360);var b=_.oj();b.maxAttempts=3;a={source:"",license:xl,viewerId:void 0,autoplay:void 0,pauseWhenInBackground:!1,manifest:{attemptParameters:_.oj(),availabilityWindowOverride:NaN,clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,autoCorrectDrift:!0},abr:{enabled:!0,defaultBandwidthEstimate:1E3,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,useSwitchIntervalForInitialSwitch:!1,
restrictions:yl(a),useCmsd:!1},drm:null,enableHtmlCue:!0,preferredAudioLanguage:"",preferredTextLanguage:"",preferredAudioRole:_.He,preferredTextRole:"",preferredAudioChannelCount:2,preferredAudioCodec:[],preferredVideoCodec:[],preferSpatialAudio:!1,preferForcedSubtitles:!1,volume:null,startTime:null,loop:!1,lowLatencyMode:!1,suggestedPresentationDelay:void 0,muted:void 0,forceWaitForTracks:!1,streaming:{attemptParameters:b,bufferingGoal:10,rebufferingGoal:2,bufferBehind:30,ignoreTextStreamFailures:!1,
alwaysStreamText:!1,relativeTextTimestamp:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.1,disableAudioTracks:!1,disableVideoTracks:!1,smallGapLimit:.5,jumpLargeGaps:!0,durationBackoff:1,maxSegmentToMediaOffset:1,forceNativeTS:!1,preferNativeHlsOnSafari:!0,safeSeekOffset:5,stallEnabled:!0,stallThreshold:3,stallSkip:.5,bufferLimitUpdateInterval:.5,overridePasp:!1,enableLiveEdgeChasing:!1,chasingRate:1.15,startChasingAt:5,stopChasingAt:2,chaseJumpDistance:10,patchEdgeWhenMixedContent:!1,ignoreDrift:!1,
disableFragmentSupport:!1,disableMergedFragments:!1,ignoreManagedMediaSourceStreamingHints:!1},restrictions:yl(),tizen:{sideStreamText:_.Dj(2)},safari:{enableHlsVideoTrackInfo:!1,enableMetadata:!1},trickPlay:{speedUpMode:_.Vd,preferTrickPlayTracks:!0}};if(_.xk("Edge/")||_.Dj())a.streaming.gapDetectionThreshold=.5;_.Ej()&&(a.streaming.stallEnabled=!1);_.zk()&&(a.streaming.stallEnabled=!0,a.streaming.stallThreshold=1,a.streaming.stallSkip=1,a.streaming.gapDetectionThreshold=.02);_.Dj()&&(a.streaming.stallEnabled=
!0,a.streaming.stallThreshold=1,a.streaming.stallSkip=0);a.vr={enable:!1,attachMouseListener:!0,fieldOfView:70,sensitivity:1,invertHorizontalControl:!1,invertVerticalControl:!1};return a};
_.Bl=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];if(!b)return _.zl();c=[_.zl()];var d=!1;b=_.u(b);for(var e=b.next();!e.done;e=b.next())e=e.value,null!==e&&void 0!==e&&(_.N.$(e)&&(e={source:e}),e.lowLatencyMode&&!d&&(c.push({streaming:{rebufferingGoal:.1,bufferLimitUpdateInterval:.01,ignoreDrift:!0,attemptParameters:{maxAttempts:3,baseDelay:250,backoffFactor:1}},abr:{bandwidthUpgradeTarget:.6,bandwidthDowngradeTarget:.95},manifest:{lowLatencyMode:!0}}),d=!0),c.push(e),null!=
e.suggestedPresentationDelay&&c.push({manifest:{suggestedPresentationDelay:e.suggestedPresentationDelay}}));c=_.N.oa.apply(null,c);_.N.$(c.volume)&&(""===""+c.volume?c.volume=null:c.volume=Number(c.volume));if(!_.N.R(c.volume)&&(!_.N.na(c.volume)||_.N.isNaN(c.volume)))throw new _.P(_.Q,7,7100,"config.volume is not a number");if(!_.N.R(c.preferredTextLanguage)&&!_.N.$(c.preferredTextLanguage)&&!Array.isArray(c.preferredTextLanguage))throw new _.P(_.Q,7,7100,"config.preferredTextLanguage is not a string or an array");
if(!_.N.R(c.preferredAudioLanguage)&&!_.N.$(c.preferredAudioLanguage)&&!Array.isArray(c.preferredAudioLanguage))throw new _.P(_.Q,7,7100,"config.preferredAudioLanguage is not a string or an array");if(!_.N.R(c.preferredAudioCodec)&&!_.N.$(c.preferredAudioCodec)&&!Array.isArray(c.preferredAudioCodec))throw new _.P(_.Q,7,7100,"config.preferredAudioCodec is not a string or an array");if(!_.N.R(c.preferredVideoCodec)&&!_.N.$(c.preferredVideoCodec)&&!Array.isArray(c.preferredVideoCodec))throw new _.P(_.Q,
7,7100,"config.preferredVideoCodec is not a string or an array");if(!_.N.R(c.drm)){if(c.drm.env&&!_.N.$(c.drm.env))throw new _.P(_.Q,7,7100,"config.drm.env is not a string");if(c.drm.offlineId&&!_.N.$(c.drm.offlineId))throw new _.P(_.Q,7,7100,"config.drm.offlineId is not a string");}if(d=c.streaming){d.bufferingGoal=Number(d.bufferingGoal);d.rebufferingGoal=Number(d.rebufferingGoal);d.bufferBehind=Number(d.bufferBehind);d.smallGapLimit=Number(d.smallGapLimit);d.durationBackoff=Number(d.durationBackoff);
if(!_.N.na(d.bufferingGoal)||_.N.isNaN(d.bufferingGoal))throw new _.P(_.Q,7,7100,"config.streaming.bufferingGoal is not a number");if(!_.N.na(d.rebufferingGoal)||_.N.isNaN(d.rebufferingGoal))throw new _.P(_.Q,7,7100,"config.streaming.rebufferingGoal is not a number");if(d.rebufferingGoal>d.bufferingGoal)throw new _.P(_.Q,7,7100,"config.streaming.rebufferingGoal must be \x3e\x3d bufferingGoal");if(!_.N.na(d.bufferBehind)||_.N.isNaN(d.bufferBehind))throw new _.P(_.Q,7,7100,"config.streaming.bufferBehind is not a number");
if(!_.N.na(d.smallGapLimit)||_.N.isNaN(d.smallGapLimit))throw new _.P(_.Q,7,7100,"config.streaming.smallGapLimit is not a number");if(!_.N.na(d.durationBackoff)||_.N.isNaN(d.durationBackoff))throw new _.P(_.Q,7,7100,"config.streaming.durationBackoff is not a number");d=c.manifest;if(_.N.R(d.availabilityWindowOverride))d.availabilityWindowOverride=NaN;else if(typeof d.availabilityWindowOverride!==_.k)throw new _.P(_.Q,7,7100,"Invalid value for |manifest.availabilityWindowOverride|");Al(c.restrictions);
Al(c.abr.restrictions);c.abr.initialRestrictions&&Al(c.abr.initialRestrictions)}return c};yl=function(a){a=void 0===a?Infinity:a;return{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:a,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}};
Al=function(a){_.N.R(a.maxPixels)&&(a.maxPixels=Infinity);_.N.R(a.maxBandwidth)&&(a.maxBandwidth=Infinity);_.N.R(a.maxHeight)&&(a.maxHeight=Infinity);_.N.R(a.maxWidth)&&(a.maxWidth=Infinity);_.N.R(a.minPixels)&&(a.minPixels=0);_.N.R(a.minBandwidth)&&(a.minBandwidth=0);_.N.R(a.minHeight)&&(a.minHeight=0);_.N.R(a.minWidth)&&(a.minWidth=0);a.minWidth=Number(a.minWidth);a.maxWidth=Number(a.maxWidth);a.minHeight=Number(a.minHeight);a.maxHeight=Number(a.maxHeight);a.minBandwidth=Number(a.minBandwidth);
a.maxBandwidth=Number(a.maxBandwidth);a.minPixels=Number(a.minPixels);a.maxPixels=Number(a.maxPixels);if(Number.isNaN(a.minWidth)||Number.isNaN(a.maxWidth)||Number.isNaN(a.minHeight)||Number.isNaN(a.maxHeight)||Number.isNaN(a.minBandwidth)||Number.isNaN(a.maxBandwidth)||Number.isNaN(a.minPixels)||Number.isNaN(a.maxPixels))throw new _.P(_.Q,7,7100,"Restrictions contain NaN");};_.Cl=function(a){return typeof a===_.Te&&!Array.isArray(a)&&"source"in a};
_.Dl=function(a){_.tl.call(this);this.log=new _.K(a);this.configuration=this.fe=_.zl();this.w=this.C=null;this.se=this.rf=!1;this.Vh=new _.K("clpp.video.events");this.gd=null;this.ge=-1;this.Cm=this.am.bind(this);this.nf=new _.Kj;this.T=new _.Eh;this.Hc=this.Pc=this.P=null};_.Fl=function(a){return _.El.get(a)||null};_.Hl=function(a){_.El.get(a.id())?Gl.warn("Component already in use."):_.El.set(a.id(),a)};Il=function(a){return Array.from(_.El.values()).find(function(b){return b instanceof a})||null};
Jl=function(a){for(var b=_.u(_.El.values()),c=b.next();!c.done;c=b.next())a(c.value)};Kl=function(a){Jl(function(b){b.o(a)})};Ll=function(a){Jl(function(b){b.h(a)})};Ml=function(){Jl(function(){})};Nl=function(){Jl(function(){})};Ol=function(a){if(null!==Il(a))return null;a=new a;a.f();_.Hl(a);Gl.info("Installed component:",a.id());return a};Pl=function(a){if(a=Il(a))a.a(),_.El["delete"](a.id()),Gl.info("Uninstalled component:",a.id())};Ql=function(){this.a=this.f=null;this.g=new _.K("clpp.drm.csl")};
Rl=function(a,b){3===b.type&&(a.f&&(a.g.debug("Attaching tracking token"),b.headers[Ig]=a.f),a.a&&(b.headers[Jg]=a.a))};Sl=function(a,b){if(b.request&&3===b.request.type){a.f=b.headers[Ig];a.a=b.headers[Jg];var c=b.headers["x-dt-csl-renewal-info"];a.f&&a.g.debug("Loaded tracking token "+a.f);a.a&&a.g.debug("Loaded followup token "+a.a);if(c)return c=JSON.parse(_.R.Z(_.fj(c))),{delay:c.renewalPeriod,Sm:{maxAttempts:c.retryCount,baseDelay:1E3*c.retryPeriod,backoffFactor:1,fuzzFactor:0,timeout:0}}}return null};
Tl=function(a){return _.R.startsWith(a,_.Md)||_.R.startsWith(a,_.Pd)};_.Vl=function(a){_.Ul[a.J]=a};
_.Xl=function(a){var b={attemptParameters:_.oj(),enforceSingleSession:!1,delayLicenseRequestUntilPlayed:!1,enableSessionCacheForSkd:!1,ignoreUnrecognizedInitData:!0,Za:{}};if(a&&(b.enforceSingleSession=!!a.enforceSingleSession,b.delayLicenseRequestUntilPlayed=!!a.delayLicenseRequestUntilPlayed,b.preferredDrmSystem=a.preferredDrmSystem,b.emeApi=a.emeApi,a.attemptParameters&&(b.attemptParameters=a.attemptParameters),b.enableSessionCacheForSkd=!!a.enableSessionCacheForSkd,void 0!==a.ignoreUnrecognizedInitData&&
(b.ignoreUnrecognizedInitData=!!a.ignoreUnrecognizedInitData),a.env)){var c=_.Ul[a.env]||null;if(!c)throw _.th(_.za,_.Mb+a.env+_.ca),new _.P(_.Q,6,6015,_.Aa+a.env+"' is missing.");b.Za=_.Wl(c,a.customData)||{};_.R.startsWith(a.env.toLowerCase(),ie)&&(b.enforceSingleSession=!0)}return b};Zl=function(a){a=Yl[a];if(!a)return null;var b=_.Fj();return b.os===Ok&&4===b.osVersion.major&&4===b.osVersion.minor?null:new Uint8Array(a)};_.$l=function(a){this.J=a;this.f={}};
_.Wl=function(a,b){var c={},d=b?b.widevineVideoRobustness:void 0,e=b?b.widevineAudioRobustness:void 0,f=b?b.serverCertificate:void 0,g=a.f[_.Rd];g&&(c[_.Rd]={licenseUrl:g.licenseUrl,videoRobustness:pi(d,g.videoRobustness),audioRobustness:pi(e,g.audioRobustness),modifiers:g.modifiers,distinctiveIdentifierRequired:oi(b?b.widevineDistinctiveIdentifierRequired:void 0,g.distinctiveIdentifierRequired,!1),persistentStateRequired:oi(b?b.widevinePersistentStateRequired:void 0,g.persistentStateRequired,!1),
serverCertificate:void 0===f?g.serverCertificate:null===f?null:typeof f===_.Wf?Zl(f):f});(g=a.f[_.Md])&&(c[_.Md]={licenseUrl:g.licenseUrl,certificateUrl:g.certificateUrl,modifiers:g.modifiers});d=b?b.playReadyVideoRobustness:void 0;e=b?b.playReadyAudioRobustness:void 0;(g=a.f[_.Pd])&&(c[_.Pd]={licenseUrl:g.licenseUrl,videoRobustness:d||g.videoRobustness,audioRobustness:e||g.audioRobustness,individualizationServer:g.individualizationServer,useLegacySystem:g.useLegacySystem,modifiers:g.modifiers});
return c};_.am=function(a,b){b=void 0===b?!1:b;this.f=_.N.na(a)?new DataView(new ArrayBuffer(a),0,a):a;this.a=0;this.h=b;this.buffer=this.f.buffer};_.cm=function(a,b,c){var d=c||0;c=b.byteLength-d;var e=_.Ui(a.f.buffer);b=_.Ui(b.buffer,d,c);try{e.set(b,a.a),a.a+=c}catch(f){_.bm()}};_.V=function(a,b){try{a.f.setUint32(a.a,b,a.h),a.a+=4}catch(c){_.bm()}};_.bm=function(){throw new _.P(_.Q,3,3E3);};_.dm=function(a,b){this.f=a;this.h=void 0===b?!0:b;this.a=0};_.em=function(a){return a.a<a.f.byteLength};
_.gm=function(a){try{var b=a.f.getUint8(a.a);a.a+=1;return b}catch(c){_.fm()}};_.hm=function(a){try{var b=a.f.getUint16(a.a,a.h);a.a+=2;return b}catch(c){_.fm()}};_.W=function(a){try{var b=a.f.getUint32(a.a,a.h);a.a+=4;return b}catch(c){_.fm()}};_.im=function(a){try{var b=a.f.getInt32(a.a,a.h);a.a+=4;return b}catch(c){_.fm()}};
_.jm=function(a){var b=0,c=0;try{!0===a.h?(b=a.f.getUint32(a.a,!0),c=a.f.getUint32(a.a+4,!0)):(c=a.f.getUint32(a.a,!1),b=a.f.getUint32(a.a+4,!1))}catch(d){_.fm()}if(2097151<c)throw new _.P(_.Q,3,3001);a.a+=8;return c*Math.pow(2,32)+b};km=function(a,b){for(var c=new Uint8Array(b),d=0;d<b;d++)c[d]=_.gm(a);return c};_.lm=function(a,b){a.a+b>a.f.byteLength&&_.fm();var c=a.a+a.f.byteOffset;c=a.f.buffer.slice(c,c+b);a.a+=b;return _.Ui(c)};
_.fm=function(){throw new _.P(_.Q,3,3E3,"Buffer read out of bounds.");};_.mm=function(){this.h=[];this.f=[];this.a=!1;this.g=new _.K("clpp.mp4")};_.nm=function(a){for(;_.em(a.reader)&&!a.parser.a;)a.parser.ye(a.start+a.headerSize,a.reader,a.partialOkay)};_.om=function(a){for(var b=_.W(a.reader);0<b&&!a.parser.a;--b)a.parser.ye(a.start+a.headerSize,a.reader,a.partialOkay)};_.pm=function(a){return function(b){var c=b.reader.Ga()-b.reader.getPosition();a(_.lm(b.reader,c))}};
qm=function(a){for(var b=0,c=0;c<a.length;c++)b=b<<8|a.charCodeAt(c);return b};_.rm=function(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)};_.sm=function(a){return 8+(a.has64BitSize?8:0)+(null!=a.flags?4:0)};tm=function(){};um=function(a){var b="";try{b=_.R.yd(a)}catch(c){}return b};_.vm=function(a){a=um(a);var b="";a.length&&(b=(new _.Xj(a)).a);return b};
wm=function(a){if(!a)return null;var b=null;try{var c=JSON.parse(_.R.Z(a)),d=_.fj(c.sinf[0]);(new _.mm).L(_.Qf,_.nm).L("schi",_.nm).L("tenc",function(e){e.reader.skip(6);_.gm(e.reader)&&(e.reader.skip(1),b=_.hj(_.lm(e.reader,16)));e.parser.stop()}).parse(d)}catch(e){}return b};
xm=function(a,b,c){if(!c||!c.byteLength)throw new _.P(_.Q,6,6102);var d;typeof b===_.Wf?d=_.R.Ce(b,!0):d=b;a=_.R.Ce(um(a),!0);b=new _.am(12+a.byteLength+d.byteLength+c.byteLength,!0);_.V(b,a.byteLength);_.cm(b,_.Ui(a));_.V(b,d.byteLength);_.cm(b,_.Ui(d));_.V(b,c.byteLength);_.cm(b,_.Ui(c));return _.Ui(b.buffer)};_.ym=function(a){var b=_.Ui(a.body);b=_.ej(b);a.headers[ya]=Zc;a.body=_.R.Va("spc\x3d"+b).buffer};
_.zm=function(a){try{var b=_.R.Z(a.data)}catch(d){return}b=b.trim();"\x3cckc\x3e"===b.substr(0,5)&&"\x3c/ckc\x3e"===b.substr(-6)&&(b=b.slice(5,-6));try{var c=JSON.parse(b);c.ckc&&(b=c.ckc);c.CkcMessage&&(b=c.CkcMessage);c.License&&(b=c.License)}catch(d){}a.data=bj(_.fj(b))};
Gm=function(){var a=Am;if(a===Bm)return"https://lic.drmtoday.com";if(a===Cm)return"https://lic.staging.drmtoday.com";if(a===Fm)return"https://lic.test.drmtoday.com";throw Error("Unknown DRMtoday environment '"+a+"'. Can not infer DRMtoday base URL!");};Km=function(a){var b=Gm();if(a==_.Rd)return b+Hm;if(a==_.Pd)return b+Im;if(a==_.Md)return b+Jm;throw Error("Unknown DRM Key-System '"+a+"'. Can not infer license URL!");};
Lm=function(a){a=a.replace(/assetid/gi,"assetId");a=a.replace(/variantid/gi,"variantId");return a=a.replace(/keyid/gi,"keyId")};
_.Nm=function(a,b,c){b=um(b);c=c&&c.customData?c.customData:{};b=new _.Xj(Lm(b));var d=_.ak(b.f);if(a&&a.drm&&a.drm.customData){var e=a.drm.customData;a=e.assetId;e=e.variantId;a&&_.R.ue(""+a)&&(d.assetId=a,Mm.debug("Using assetId from the configuration instead of the value from the HLS manifest."));e&&_.R.ue(""+e)&&(d.variantId=e,Mm.info("Using variantId from the configuration instead of the value from the HLS manifest."))}d.keyId?(a=["keyId"],Mm.debug("KeyId found in FPS SKD. Removing other parameters")):
a=["assetId","variantId"];b.f=_.Zj(d,!1,a);"/"!==b.path||b.j.includes(b.a+"/")||(b.path="");b=_.Yj(b);return c.fpsContentId=b};_.Pm=function(a,b,c,d){d=void 0===d?!0:d;c=a.drm;c&&c.env.startsWith(Da)?c.customData&&(_.Om(b,a),a=b.uris[0],d&&c.customData.assetId&&(a+="?assetId\x3d"+encodeURI(""+c.customData.assetId),c.customData.variantId&&(a+="\x26variantId\x3d"+encodeURI(""+c.customData.variantId)),b.uris[0]=a)):Mm.warn(zb)};
Qm=function(a,b,c){_.Pm(a,b,c);a=a.drm;a=!(!a||!a.offlineId);c=new _.qi(b.uris[0]);c.a.add(_.df,a);b.uris[0]=c.toString()};
_.Rm=function(a,b,c){var d=c&&c.customData&&c.customData.fpsContentId;_.Pm(a,b,c,!1);b.headers[ya]=Zc;c={spc:_.dj(b.body)};if((a=a.drm)&&a.env.startsWith(Ea)&&d){a={};var e=_.ak((new _.Xj(Lm(d))).f);d=e.keyId;if(e=e.assetId)Mm.info("Applying assetId from HLS manifest."),a.assetId=e;d&&(Mm.info("Applying keyId from HLS manifest."),a.keyId=d);a.keyId&&(Mm.info("Adding keyID to FPS payload:",a.keyId),c.keyId=a.keyId);a.assetId&&(Mm.info("Adding assetID to FPS payload:",a.assetId),c.assetId=a.assetId)}b.body=
_.R.ed(_.Zj(c,!0))};_.Sm=function(a,b){Mm.debug("Clearing response data");if(200===b.status){var c=_.R.Z(b.data).trim();"\x3cckc\x3e"===c.substr(0,5)&&"\x3c/ckc\x3e"===c.substr(-6)&&(c=c.slice(5,-6));b.data=_.fj(c).buffer}};_.Tm=function(a,b){var c=a.drm;if(!c||!c.env.startsWith(Da))Mm.warn(zb);else if(c.customData&&c.customData.merchant&&!c.env.startsWith(Ea)){var d=new _.qi(b.uris[0]),e=d.Ba;e.endsWith("/")||(e+="/");e+=c.customData.merchant;d.Ba=e;b.uris[0]=d.toString()}};
_.Um=function(a,b){try{var c=_.Ui(b.data),d=JSON.parse(String.fromCharCode.apply(null,c));Mm.debug("Widevine License response",d);var e=atob(d.license),f=new Uint8Array(e.length);for(c=0;c<e.length;++c)f[c]=e.charCodeAt(c);b.data=f.buffer}catch(g){Mm.debug("Unable to parse DRMtoday response JSON, assuming the response contained raw data")}};
_.Om=function(a,b){var c=b.drm;if(c&&c.customData){var d={userId:c.customData.userId,sessionId:c.customData.sessionId,merchant:c.customData.merchant};_.N.Cd(d)&&(a.headers["dt-custom-data"]=btoa(JSON.stringify(d)));(c=c.customData.authToken)&&(a.headers["x-dt-auth-token"]=c)}};Wm=function(a){var b={},c=a?a[Kg]:void 0;a=Vm[a?a[Kg]:void 0];c&&(b.drmTodayErrorCode=c);a&&(b.drmTodayErrorMessage=a);return b};Xm=function(){};
Zm=function(a,b){b=void 0===b?0:b;_.sh("Registering EME Factory: "+a.a());for(var c={priority:b,Pb:a},d=0;d<Ym.length;++d)if(Ym[d].priority<b){Ym.splice(d,0,c);return}Ym.push(c)};
$m=function(a){if(a){var b=Ym.find(function(d){return d.Pb.a()===a}).Pb;if(b&&b.ba())return _.sh(pc+b.a()),b.create();_.sh("Cannot create selected EME manager. Choosing by priority list.")}b=_.u(Ym);for(var c=b.next();!c.done;c=b.next())if(c=c.value.Pb,c.ba())return _.sh(pc+c.a()),c.create();throw Error("Missing EME managers");};_.bn=function(a,b){var c=_.an(a,b);return 1!=c.length?null:c[0]};
_.an=function(a,b){return Array.prototype.filter.call(a.childNodes,function(c){return c instanceof Element&&c.tagName==b})};_.cn=function(a){return Array.prototype.every.call(a.childNodes,function(b){return b.nodeType==Node.TEXT_NODE||b.nodeType==Node.CDATA_SECTION_NODE})?a.textContent.trim():null};
_.dn=function(a,b){var c=new DOMParser,d=null,e=null;try{e=c.parseFromString(a,_.dg)}catch(f){}e&&e.documentElement.tagName==b&&(d=e.documentElement);return d&&0<d.getElementsByTagName("parsererror").length?null:d};en=function(a,b,c){this.j=new Uint8Array(a);this.a=b;this.f=c};fn=function(){en.apply(this,arguments)};_.hn=function(a){var b=_.gj(a);b=parseInt(b.byteLength,10).toString(16);b=_.gj("12"+b+a);return new fn(gn,a,b)};
_.jn=function(a){function b(t){switch(t){case 0:do if(!_.em(d))throw Error("not enough data to skip!");while(_.gm(d)&128);break;case 1:d.skip(8);break;case 2:d.skip(c());break;case 3:for(;4!==(t=c()&7);)b(t);break;case 5:d.skip(4);break;default:throw Error("invalid wire type "+t);}}function c(){for(var t=_.gm(d),v=(t&127)>>>0,z=7;128<=t&&28>=z;)t=_.gm(d),v=(v|(t&(28>z?127:15))<<z)>>>0,z+=7;return 28<z?-1:v}var d=new _.dm(new DataView(a.buffer,a.byteOffset,a.byteLength),!1);a=_.W(d);var e=_.W(d);e=
_.rm(e);var f=_.W(d),g=f>>>24;f&=16777215;var h=_.lm(d,16);h=_.hj(h);if(0<g){var l=_.W(d);d.skip(16*l)}l=_.W(d);for(var m=[],n=null;_.em(d);){var p=c(),q=p&7;p>>>=3;if(2===q){q=c();if(0>q)throw Error("unable to read length of field "+p);q=km(d,q);2===p?m.push(q):4===p&&(n=q)}else b(q)}_.th("Parsed WV PSSH Box","size",a,"name",e,"version",g,"flags",f,"size",l,"systemId",h,"contentId (base64)",n?_.dj(n):"","keyIds",m.map(function(t){return _.hj(t)}));return 0<m.length?_.hn(_.hj(m[0])):null};
_.kn=function(a,b,c,d,e,f){f=void 0===f?null:f;en.call(this,a,b,d);this.version=e;this.h=c;this.l=f};
_.pn=function(a){a:{var b=new _.dm(new DataView(a.buffer),!0);_.W(b);for(_.hm(b);_.em(b);)if(1===_.hm(b)){var c=_.hm(b);b=_.lm(b,c);break a}b=null}b||(b=a);a=_.R.mc(b,!0);c=_.dn(a,"WRMHEADER");a=c.getAttribute("version");var d=_.bn(c,"DATA");c=(c=_.bn(d,"LA_URL"))?_.cn(c):"";var e;if(e=_.bn(d,"KID"))if(e=_.cn(e)){var f=_.bn(d,ra);e={value:e,Ve:f?f.textContent.trim():null}}else e=null;else e=null;d=e?[e]:(e=ln(d))?[e]:(d=mn(d))?d:null;e=d&&d[0]||{};d=e.Ve;e=_.fj(void 0===e.value?"":e.value);e=_.nn(e);
e=_.hj(e);return new _.kn(_.on,e,c,b,a,d)};_.nn=function(a){var b=[];b.push(a[3]);b.push(a[2]);b.push(a[1]);b.push(a[0]);b.push(a[5]);b.push(a[4]);b.push(a[7]);b.push(a[6]);a=_.Ui(a);a.set(b,0);return a};ln=function(a){a=_.bn(a,"PROTECTINFO");if(!a)return null;var b=_.bn(a,"KID");if(!b)return null;a=b.getAttribute("VALUE");if(!a)return null;var c=b.getAttribute(ra);b=b.getAttribute("ALGID");return{value:a,Ve:c,fi:b}};
mn=function(a){a=_.bn(a,"PROTECTINFO");if(!a)return null;a=_.bn(a,"KIDS");if(!a)return null;var b=_.an(a,"KID");if(!b.length)return null;a=[];b=_.u(b);for(var c=b.next();!c.done;c=b.next()){var d=c.value;if(c=d.getAttribute("VALUE")){var e=d.getAttribute(ra);d=d.getAttribute("ALGID");a.push({value:c,Ve:e,fi:d})}}return a.length?a:null};_.rn=function(a){qn&&performance.mark(a)};_.sn=function(a,b,c){qn&&performance.measure(a,b,c)};
tn=function(a){this.f=[];this.h=[];this.a=[];8<=a.byteLength&&(new _.mm).Y("pssh",this.j.bind(this)).parse(a.buffer);0==this.a.length&&_.J("No pssh box found!")};
_.xn=function(a){var b=this;this.D=a;this.M=new Set;this.B=this.I=this.o=null;this.da=!1;this.a=null;this.J=un;this.A=new _.Eh;this.P=new Ql;this.f=new Map;this.K=[];this.H=new _.wj;this.h=null;this.U=function(c){b.w=!0;b.C=!1;b.H.reject(c);a.onError(c)};this.l=new Map;this.pa=new Map;this.ea=new _.uk(function(){return vn(b)});this.j=!1;this.Da=new _.wj;this.G=!1;this.ha=[];this.Ma=!1;this.V=0;this.g=new _.K("clpp.drm.DrmEngine");this.qa=(new _.uk(function(){wn(b)})).jb(1);this.H["catch"](function(){});
this.w=this.C=!1;this.T=null};
En=function(a){var b,c,d,e,f;return _.E(function(g){switch(g.a){case 1:a.A.release();a.A=null;a.P.release();a.P=null;a.w=!1;a.C=!1;a.H.reject();a.qa.stop();a.qa=null;a.ea.stop();a.ea=null;b=Array.from(a.f.keys());c=_.u(a.f.values());for(d=c.next();!d.done;d=c.next())e=d.value,e.Nc&&e.Nc.stop();a.f.clear();return _.x(g,Promise.all(b.map(function(h){return Promise.resolve().then(function(){var l;return _.E(function(m){if(1==m.a)return a.g.debug("Closing session",h.sessionId),_.A(m,2),_.x(m,yn(h),4);
if(2!=m.a)return _.ah(m,0);l=_.C(m);a.g.warn("Error while closing session",l);_.y(m)})})})),2);case 2:if(!a.B){g.F(3);break}_.A(g,4);return _.x(g,a.o.pd(null),6);case 6:_.ah(g,5);break;case 4:f=_.C(g),a.g.warn("Error while resetting media keys",f);case 5:a.B=null;case 3:a.o=null,a.a=null,a.M.clear(),a.I=null,a.K=[],a.h=null,a.U=null,a.D=null,a.V=0,a.T=null,_.y(g)}})};
_.Hn=function(a,b,c){a.J=Fn;a.K=c;a.G=0<c.length;a.g.debug("Using Persisted Licenses: "+a.G);a.h&&a.h.enableSessionCacheForSkd&&a.g.info("Enabled session cache for SKD license requests");return _.Gn(a,b)};
_.Gn=function(a,b){var c=b.some(function(g){return 0<g.drmInfos.length});if(!c){var d=_.N.Yf(a.h.Za);In(b,d)}var e=Jn(a);if(e){var f=_.u(b);for(d=f.next();!d.done;d=f.next())d.value.drmInfos=[e]}e=_.u(b);for(d=e.next();!d.done;d=e.next())for(d=_.u(d.value.drmInfos),f=d.next();!f.done;f=d.next())Kn(f.value,a.h.Za);d=Ln(a,b);if(!d.size)return a.da=!0,Promise.resolve();_.rn(ae);d=_.Mn(a,d);return(c?d:d["catch"](function(){})).then(function(){_.rn($d);_.sn("DRM queryMediaKeys_()",ae,$d)})};
Nn=function(a){var b;return _.E(function(c){switch(c.a){case 1:if(a.o.ke())return c["return"]();if(!a.T){c.F(2);break}return _.x(c,a.T,3);case 3:return c["return"]();case 2:return _.A(c,4),a.T=a.o.pd(a.I),_.x(c,a.T,6);case 6:_.ah(c,0);break;case 4:b=_.C(c);if(a.j)return c["return"]();a.U(new _.P(_.Q,6,6003,b.message,b));_.y(c)}})};
Pn=function(a,b){return _.E(function(c){if(1==c.a)return a.g.info("Handle encrypted event for type "+b.initDataType),_.x(c,Nn(a),2);if(!b.initData)return c["return"]();_.On(a,b.initDataType,_.Ui(b.initData));_.y(c)})};
_.Un=function(a,b){if(!a.I)return _.Fh(a.A,b,[ke,"msneedkey",Gg,"needkey"],function(){a.U(new _.P(_.Q,6,6010))}),Promise.resolve();a.B=b;a.o.be(b);a.A.one(a.B,_.gf,function(){return Qn(a)});a.A.on(a.B,_.Bg,function(e){var f=a.C;a.C=!a.w;!f&&a.C&&(a.g.info("Waiting for DRM license key delivery"),a.D.onEvent(e))});var c=a.a.initData.find(function(e){return 0<e.initData.length}),d=Promise.resolve();if(c||a.o.od()!==Sb||a.K.length)d=Nn(a);c=Promise.resolve();_.Ej()&&38===yk().major||(a.a&&a.a.keySystem!==
_.af&&!a.a.serverCertificate&&(c=Rn(a)),c=c.then(function(){return _.Sn(a)}));return Promise.all([d,c]).then(function(){a.j||(_.Tn(a),a.A.on(a.B,ke,function(e){return Pn(a,e)}))})["catch"](function(e){if(!a.j){if(6004===e.code&&a.a&&a.a.keySystem===_.Rd&&1>a.V&&a.a.serverCertificate&&a.a.serverCertificate.length)return a.g.warn("Detected invalid widevine server certificate!. Retrying"),a.U(new _.P(1,6,6004)),a.a.serverCertificate=null,a.V++,_.Un(a,b);1<=a.V&&a.g.info("Could not get valid widevine server certificate. Giving up");
throw e;}})};_.Sn=function(a){var b,c;return _.E(function(d){if(1==d.a){if(!(a.I&&a.a&&a.a.serverCertificate&&a.a.serverCertificate.length))return d.F(0);_.A(d,3);return _.x(d,a.I.setServerCertificate(a.a.serverCertificate),5)}if(3!=d.a)return b=d.f,void 0===b||b||a.g.debug("Server certificates are not supported by the key system. The server certificate has been ignored."),_.ah(d,0);c=_.C(d);throw new _.P(_.Q,6,6004,{browserError:c.message});})};
Rn=function(a){var b=a.keySystem(),c=a.h.Za[b],d=c.certificateUrl||"";if(""===d)return Promise.resolve();var e=a.D.getConfiguration();return Vn(a,e).then(function(){var f=c.modifiers,g=f&&f.certificateRequest,h=f&&f.certificateResponse;f=_.rj([d],a.h.attemptParameters);f.type=3;f.licenseRequestType=td;g&&f.requestModifiers.push(function(l){return g(e,l)});h&&f.responseModifiers.push(function(l){return h(e,l)});a.g.debug("Fetching certificate");return a.D.Gb.fetch(f).O}).then(function(f){a.a.serverCertificate=
_.Ui(f.data)})["catch"](function(f){var g=f.data.headers;g=Object.assign({message:"Error while fetching certificate!",url:f.data.url,status:f.data.status,response:f.data.response},g?{headers:g}:{},Wm(g));throw new _.P(_.Q,6,6100,g,f);})};Vn=function(a,b){var c,d;return _.E(function(e){c=a.D.Sc();return c?(d=b&&b.drm&&b.drm.customData)?_.x(e,c(d),0):e["return"]():e["return"]()})};Wn=function(a,b){if(!a)return!1;for(var c=0;c<b.ee.length;c++)if(_.ij(a,b.ee[c]))return!0;return!1};
_.Tn=function(a){for(var b=a.a?a.a.initData||[]:[],c=_.u(b),d=c.next();!d.done;d=c.next()){d=d.value;var e=!_.Dj(2);if(a.h.enforceSingleSession&&!a.keySystem().startsWith(_.Md)){var f=a.f.values();f=_.u(f);for(var g=f.next();!g.done;g=f.next())g=g.value,_.ij(d.initData,g.initData)?(a.g.info("Skipping Session creation. Existing init data in single session mode!"),e=!1):g.periodId===d.periodId&&(a.g.info("Skipping Session creation. Merging init data for period in single session mode for Key ID "+(d.keyId+
".")),Wn(d.initData,g)||(g.ee.push(d.initData),d.keyId&&!g.$a.includes(d.keyId)&&g.$a.push(d.keyId),a.l.get(d.keyId)||a.l.set(d.keyId,Uf)),e=!1)}!e||a.G&&a.J===Fn||(_.Xn(a,d.keyId,d.initData)&&(e=!1),e&&(a.g.info("Request new media key session on create"),Yn(a,d.keyId,d.periodId,d.initDataType,d.initData)))}c=_.u(a.K);for(d=c.next();!d.done;d=c.next())_.Zn(a,d.value);b.length||a.K.length||(a.w||a.g.info(Ba),a.w=!0,a.C=!1,a.H.resolve());return a.H};
_.On=function(a,b,c,d){d=void 0===d?"":d;if(c.length&&(!a.G||a.J!==Fn)){var e=a.keySystem();if(!e.startsWith(_.Md)&&b===_.rd){var f=new tn(c);if(1<f.a.length&&(e={"org.w3.clearkey":"1077efecc0b24d02ace33c1e52e2fb4b","com.widevine.alpha":"edef8ba979d64acea3c827dcd51d21ed","com.microsoft.playready":"9a04f07998404286ab92e65be0885f95","com.adobe.primetime":"f239e769efa348509c16a903c6932efb"}[e]))for(var g=0;g<f.f.length;g++)if(e===f.f[g]){c=c.subarray(f.a[g].start,f.a[g].end+1);break}}(a.B.webkitCurrentPlaybackTargetIsWireless||
_.Dj(2)||a.keySystem().startsWith(_.Md)||!_.Xn(a,d,c,!0))&&Yn(a,d,null,b,c)}};
_.Xn=function(a,b,c,d){d=void 0===d?!1:d;for(var e=_.u(a.f.keys()),f=e.next();!f.done;f=e.next()){f=f.value;var g=a.f.get(f);if(_.ij(c,g.initData))return b?g.$a.includes(b)?d&&a.g.info("Skipping Session creation. License for init data with Key ID "+(b+" was already requested in Session: '")+(f.sessionId+"'. ")):(g.$a.push(b),a.l.get(b)||a.l.set(b,Uf),d&&a.g.info($b+(f.sessionId+"'Adding Key ID ")+(b+" to session meta-data."))):d&&a.g.info($b+(f.sessionId+"'")),!0;if(Wn(c,g))return d&&a.g.info("Skipping Session creation. License for init data was already requested [extra]"),
!0}return!1};$n=function(a){var b=Infinity;a=a.f.keys();a=_.u(a);for(var c=a.next();!c.done;c=a.next())c=c.value,isNaN(c.expiration)||(b=Math.min(b,c.expiration));return b};
Ln=function(a,b){for(var c=new Set,d=_.u(b),e=d.next();!e.done;e=d.next()){var f=_.u(e.value.drmInfos);for(e=f.next();!e.done;e=f.next())e=e.value,Kn(e,a.h.Za),c.add(e)}f=a.G?_.If:_.$e;var g=a.G?[_.ef]:[ag];d=new Map;c=_.u(c);for(e=c.next();!e.done;e=c.next())e=e.value,d.set(e.keySystem,{initDataTypes:[_.rd],audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:_.$e,persistentState:f,sessionTypes:g,label:e.keySystem,drmInfos:[]});c={};f=_.u(b);for(e=f.next();!e.done;c={He:c.He,Oe:c.Oe},
e=f.next()){e=e.value;g=e.audio;var h=e.video;c.He=g?_.rk(g.mimeType,g.codecs):"";c.Oe=h?_.rk(h.mimeType,h.codecs):"";var l={},m=_.u(e.drmInfos);for(e=m.next();!e.done;l={kb:l.kb},e=m.next())e=e.value,l.kb=d.get(e.keySystem),l.kb.drmInfos.push(e),e.initData&&e.initData.length&&(l.kb.initDataTypes=_.Og(new Set(e.initData.map(function(n){return n.initDataType}))).concat()),e.distinctiveIdentifierRequired&&(l.kb.distinctiveIdentifier=_.If),e.persistentStateRequired&&(l.kb.persistentState=_.If),g&&_.Th(e.audioRobustness).forEach(function(n,
p){return function(q){var t={robustness:q||"",contentType:n.He};p.kb.audioCapabilities.find(function(v){return v.robustness===t.robustness&&v.contentType===t.contentType})||p.kb.audioCapabilities.push(t)}}(c,l)),h&&_.Th(e.videoRobustness).forEach(function(n,p){return function(q){var t={robustness:q||"",contentType:n.Oe};p.kb.videoCapabilities.find(function(v){return v.robustness===t.robustness&&v.contentType===t.contentType})||p.kb.videoCapabilities.push(t)}}(c,l))}return d};
_.Mn=function(a,b){function c(m,n,p){n.drmInfos.some(function(q){return!!q.licenseServerUri})==m&&(f=f["catch"](function(){if(a.j)return null;if(p===_.Pd){if(_.wk()&&!a.h.Za[p].useLegacySystem)return n.label=Qd,a.o.ic(Qd,[n])["catch"](function(){a.g.warn("Unable to create com.microsoft.playready.recommendation. Falling back to com.microsoft.playready.");n.label=_.Pd;ao(n);return a.o.ic(p,[n])});ao(n)}return a.o.ic(p,[n])["catch"](function(q){a:{if(p===_.Rd&&bo(n)){var t=_.Fj();if(bo(n)&&t.os===Ok&&
t.browser===vd){a.g.warn("requestMediaKeySystemAccess() failed",q);a.g.warn("Will try to recover by removing the robustness attribute of videoCapabilities and audioCapabilities.");ao(n);q=a.o.ic(p,[n]);break a}}throw q;}return q})}))}if(1==b.size&&b.has(""))return Promise.reject(new _.P(_.Q,6,6E3));null===a.o&&(a.o=$m(a.h.emeApi));for(var d=_.u(b.values()),e=d.next();!e.done;e=d.next())e=e.value,0===e.audioCapabilities.length&&delete e.audioCapabilities,0===e.videoCapabilities.length&&delete e.videoCapabilities;
var f=d=new _.wj,g=a.h.preferredDrmSystem;if(!g)if(e=_.Fj(),e.os===Qk&&10<=e.osVersion.major&&"edge"===e.browser)g=_.Pd;else if("safari"===e.browser)g=_.Md;else if(e.browser===vd||"firefox"===e.browser)g=_.Rd;g&&(e=b.get(g))&&(c(!0,e,g),c(!1,e,g));e={};for(var h=_.u([!0,!1]),l=h.next();!l.done;e={Me:e.Me},l=h.next())e.Me=l.value,b.forEach(function(m){return function(n,p){p!==g&&c(m.Me,n,p)}}(e));f=f["catch"](function(m){throw new _.P(_.Q,6,6001,null,m);});f=f.then(function(m){if(a.j)return null;a.M.clear();
var n=m.getConfiguration();a.g.info("Got MediaKeySystemAccess with configuration",n);var p=n.videoCapabilities||[],q=_.u(n.audioCapabilities||[]);for(n=q.next();!n.done;n=q.next())a.M.add(n.value.contentType);p=_.u(p);for(n=p.next();!n.done;n=p.next())a.M.add(n.value.contentType);p=m.keySystem;n=b.get(_.co(m.keySystem));q=[];var t=[],v=[],z=[];eo(n.drmInfos,q,t,v,z);1<t.length&&_.J("Multiple unique server certificates found! Only the first will be used.");1<q.length&&_.J("Multiple unique license server URIs found! Only the first will be used.");
a.a={keySystem:p,licenseServerUri:q[0],distinctiveIdentifierRequired:n.distinctiveIdentifier==_.If,persistentStateRequired:n.persistentState==_.If,audioRobustness:n.audioCapabilities?n.audioCapabilities[0].robustness:"",videoRobustness:n.videoCapabilities?n.videoCapabilities[0].robustness:"",serverCertificate:t[0],initData:v,keyIds:z,periodId:null};if(!a.a.licenseServerUri)throw new _.P(_.Q,6,6012,a.a.keySystem);return m.createMediaKeys()}).then(function(m){a.j||(a.g.info("Created MediaKeys for key system",
a.a.keySystem),a.I=m,a.da=!0)})["catch"](function(m){if(!a.j){a.a=null;a.M.clear();if(m instanceof _.P)throw m;throw new _.P(_.Q,6,6002,{browserError:m.message});}});d.reject();return f};
Jn=function(a){a=_.N.Yf(a.h.Za[_.af]||{});if(0==a.size)return null;var b=[],c=[];a.forEach(function(e,f){var g=_.gj(f),h=_.gj(e);g={kty:"oct",kid:_.ej(g,!1),k:_.ej(h,!1)};b.push(g);c.push(g.kid)});a=JSON.stringify({keys:b});var d=JSON.stringify({kids:c});d=[{initData:_.R.Va(d),initDataType:"keyids"}];return{keySystem:_.af,licenseServerUri:"data:application/json;base64,"+window.btoa(a),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,
initData:d,keyIds:[],periodId:null}};
_.Zn=function(a,b){try{a.g.debug("Attempting to load an offline session",b);var c=a.I.createSession(_.ef)}catch(f){var d=new _.P(_.Q,6,6005,{browserError:f.message});a.U(d);return Promise.reject(d)}a.A.on(c,_.Ke,a.vh.bind(a));a.A.on(c,xe,a.qh.bind(a));var e={initData:null,loaded:!1,uf:Infinity,tb:null,Ja:new _.wj,periodId:null,ee:[],keyId:null,$a:[],initDataType:null,kc:null,sessionContext:{ldlDelay:0,customData:{}}};e.Ja["catch"](function(){});a.f.set(c,e);return c.load(b).then(function(f){if(a.j)return null;a.g.debug("Loaded offline session",
b,f);if(!f)return a.f["delete"](c),a.U(new _.P(_.Q,6,6013)),null;e.loaded=!0;fo(a)&&(a.w||a.g.info(Ba),a.w=!0,a.C=!1,a.H.resolve());return c},function(f){a.j||(a.f["delete"](c),a.U(new _.P(_.Q,6,6005,{browserError:f.message})))})};go=function(a,b,c,d){if(!b&&c!==_.Qf)return!1;d=b||wm(d);a=_.u(a.f.values());for(var e=a.next();!e.done;e=a.next())if(e=e.value,b&&e.keyId===b||b&&e.$a.includes(b)||c===_.Qf&&(e.keyId||wm(e.initData))===d)return!0;return!1};
Yn=function(a,b,c,d,e,f,g){f=void 0===f?null:f;g=void 0===g?!1:g;var h,l,m,n,p,q,t,v,z,D,G,F,B,I,O,M,ba,ha,qa,Ta,Fa;_.E(function(Ca){switch(Ca.a){case 1:if(!e.length)return a.g.warn("Empty init data"),Ca["return"]();h=b;if(!h)try{h=ho(a,d,e,f)}catch(na){if(a.g.warn("Ignoring unrecognized init data. This may be caused by unsupported or malformed init data. Set `drm.ignoreUnrecognizedInitData \x3d false` if you want to override this behavior and use the init data after all.",{error:na,initDataType:d,
initData:e}),a.h.ignoreUnrecognizedInitData)return Ca["return"]()}if(g){Ca.F(2);break}if(!go(a,h,d,e)){Ca.F(2);break}l=!0;if("skd"!==d||a.h.enableSessionCacheForSkd){Ca.F(4);break}m=_.u(a.f.keys());n=m.next();case 5:if(n.done){Ca.F(4);break}p=n.value;q=a.f.get(p);if(!h||q.keyId!==h){Ca.F(6);break}a.g.warn("Close and re-open session for "+h);_.A(Ca,9);return _.x(Ca,p.close(),11);case 11:_.ah(Ca,10);break;case 9:t=_.C(Ca),a.g.warn("Unable to close session",t);case 10:l=!1;case 6:n=m.next();Ca.F(5);
break;case 4:if(l)return a.g.warn("Skip creating a new session for "+h),Ca["return"]();case 2:try{z=a.G?_.ef:ag,v=a.I.createSession(z),a.g.info("Created new "+z+" session for Key ID: '"+h+"'. Init data type: "+(d+"."))}catch(na){return a.U(new _.P(_.Q,6,6005,{browserError:na.message})),Ca["return"]()}a.A.on(v,_.Ke,a.vh.bind(a));a.A.on(v,xe,a.qh.bind(a));D={kc:f,ee:[],initData:e,initDataType:d,keyId:h,$a:h?[h]:[],loaded:!1,uf:Infinity,periodId:c,tb:null,Ja:new _.wj,sessionContext:{ldlDelay:0,customData:{}}};
D.Ja["catch"](function(){});f&&(G=a.f.get(f),D.sessionContext=G.sessionContext);a.f.set(v,D);h&&!a.l.get(h)&&a.l.set(h,Uf);if(e)for(F=0;F<a.a.initData.length;F++)B=a.a.initData[F],B.keyId&&!D.$a.includes(B.keyId)&&_.ij(B.initData,e)&&(D.keyId||(D.keyId=B.keyId),D.$a.push(B.keyId),a.l.get(B.keyId)||a.l.set(B.keyId,Uf));I=_.N;O=I.rb;M=a.D.getConfiguration();ba=a.keySystem();ha=a.h.Za[ba];Ta=(qa=ha.modifiers)&&qa.transformInitData;O(Ta)||(Ta=io);try{e=Ta({playerConfig:M,initData:e,initDataType:d,drmInfo:a.a,
drmSystemConfig:ha,sessionContext:D.sessionContext,emeApi:a.o.od()})}catch(na){return Fa=na,na instanceof _.P||(Fa=new _.P(_.Q,6,6016,na)),D.Ja&&D.Ja.reject(na),a.U(Fa),Ca["return"]()}a.g.info("Generate License Request for key ID: '"+h+"'");v.generateRequest(d,e.buffer)["catch"](function(na){if(!a.j){var Ia=null;na.errorCode&&na.errorCode.systemCode&&(Ia=na.errorCode.systemCode,0>Ia&&(Ia+=Math.pow(2,32)),Ia="0x"+Ia.toString(16));a.U(new _.P(_.Q,6,6006,{browserError:na.message,error:na,extended:Ia},
na))}});_.y(Ca)}})};
ho=function(a,b,c,d){d=void 0===d?null:d;if("skd"===b){a:{var e=d;e=void 0===e?null:e;var f=a.keySystem(),g=a.h.Za[f];f=a.D.getConfiguration();g=g&&g.modifiers&&g.modifiers.extractContentId;_.N.rb(g)||(g=jo);try{var h={ldlDelay:0,customData:{}};e&&(h=a.f.get(e).sessionContext);var l=g(f,c,h);a.g.debug("Extracted Content ID '"+l+"' from SKD");var m=l;break a}catch(F){a.g.warn("Unable to extract Content ID from SKD",F)}m=""}return m}if(b===_.Qf)return wm(c)||"";if(b===_.rd){m=a.keySystem();try{if(m.match(/^com\.widevine\.alpha/)){var n=
_.jn(c);if(n)return n.a}else if(ko(m)){e=new _.dm(new DataView(c.buffer,c.byteOffset,c.byteLength),!1);f=_.W(e);var p=_.W(e);g=_.rm(p);var q=_.W(e);c=q>>>24;l=q&16777215;h=_.lm(e,16);var t=_.hj(h);if(0<c){var v=_.W(e);e.skip(16*v)}var z=_.W(e),D=_.lm(e,z),G=_.pn(D);_.th("Parsed PR PSSH Box","size",f,"name",g,"version",c,"flags",l,"size",z,"systemId",t,"keyId",G.a);if(G)return G.a}}catch(F){throw a.g.warn("Unable to extract Key ID from PSSH data.",{error:F,keySystem:m}),F;}}return""};
jo=function(a,b){var c=_.vm(b);_.th("Using default Content ID extractor. The hostname part from HLS #EXT-X-KEY:URI skd:// will be used.","Extracted Content ID: "+c);return c};
io=function(a){var b=a.playerConfig,c=a.initData,d=a.drmInfo,e=a.drmSystemConfig,f=a.sessionContext,g=a.emeApi;if("skd"===a.initDataType&&"APPLE"===g){a=_.N.rb;d=d.serverCertificate;e=e&&e.modifiers&&e.modifiers.extractContentId;a(e)||(e=jo);a="";try{a=e(b,c,f)}catch(h){throw new _.P(_.Q,6,6103);}if(!a.length)throw new _.P(_.Q,6,6101,"Content ID is an empty string");c=xm(c,a,d)}return c};
oo=function(a,b){var c=b.target,d=a.f.get(c),e=a.keySystem(),f=!1;e.match(/^com\.widevine\.alpha/)&&b.message&&2===b.message.byteLength?(f=!0,a.g.info("WV Server certificate request for SID:'"+(c.sessionId+" from msg '")+(b.messageType+"'"))):a.g.info("License request for SID:'"+(c.sessionId+"'/KID:'"+d.keyId+"' from msg '")+(b.messageType+"'"));var g=a.a.licenseServerUri;e=a.h.Za[e];"individualization-request"===b.messageType&&e&&e.individualizationServer&&(g=e.individualizationServer);var h=_.rj([g],
a.h.attemptParameters);h.type=3;h.body=b.message;h.method="POST";h.licenseRequestType=b.messageType===Ae&&d.kc?ze:f?td:b.messageType;h.sessionId=c.sessionId;if(h.licenseRequestType===ze)a.D.onEvent(new _.L(fe));ko(a.a.keySystem)&&lo(a,h);Rl(a.P,h);var l=Math.floor(b.timeStamp),m=Date.now();return mo(a,h,d.sessionContext).then(function(){_.rn(Zd+l+ia);a.g.debug("Sending DRM license request to",g,h);return a.D.Gb.fetch(h).O}).then(function(n){_.rn(Zd+l+".end");_.sn(Zd+l,Zd+l+ia,Zd+l+".end");if(a.j)return Promise.reject();
var p=Date.now()-m,q=no(a,n),t="";q&&(t=" RID:"+q);q=n&&n.data?n.data.byteLength:-1;f?a.g.info("WV Server certificate response for SID:'"+(c.sessionId+"' ")+(q+" bytes in ")+(p+"ms"+t)):a.g.info("License response for SID:'"+(c.sessionId+"'/KID:'")+(d.keyId+"' ")+(q+" bytes in ")+(p+"ms"+t));var v=Sl(a.P,n);_.rn(de+l+ia);return c.update(n.data).then(function(){_.rn(de+l+".end");_.sn(de+l,de+l+ia,de+l+".end");if(!f){var z=$n(a),D=v?Date.now()+1E3*v.delay:Number.NaN;z=new _.L(_.he,{keySystem:a.keySystem(),
expirationTime:z,expectedRenewalTime:D});a.D.onEvent(z);d&&(d.tb&&d.tb.resolve(),d.kc&&(z=d.kc,a.g.info("Closing expired session '"+z.sessionId+"'"),yn(z)["catch"](function(){a.g.warn("Unable to close expired session in time")}),(z=a.f.get(d.kc))&&z.Nc&&z.Nc.stop(),a.f["delete"](d.kc),d.kc=null),(new _.uk(function(){a.j||(d.loaded=!0,d.Ja&&d.Ja.resolve(),fo(a)&&(a.w||a.g.info(Ba),a.w=!0,a.C=!1,a.H.resolve()))})).aa(5),null!==d.initData&&(0<d.sessionContext.ldlDelay||v&&Tl(a.keySystem()))&&(z=new _.uk(function(){!a.j&&
a.P&&(a.g.info("Updating CSL Sessions"),ko(a.keySystem())?Yn(a,d.keyId,d.periodId,d.initDataType,d.initData,c,!0):a.keySystem().startsWith(_.Md)&&c.update(_.R.Va("renew")))}),d.Nc=z,z.aa(v?v.delay:d.sessionContext.ldlDelay)))}})},function(n){var p,q,t,v;return _.E(function(z){if(a.j)return z["return"]();p=n.data.headers;q=Wm(p);t=Object.assign({message:_.ab,url:n.data.url,status:n.data.status,response:n.data.response},p?{headers:p}:{},q);v=new _.P(_.Q,6,6007,t,n);a.U(v);d&&d.tb&&d.tb.reject(v);d&&
d.Ja&&d.Ja.reject(v);_.y(z)})})["catch"](function(n){a.j||(n===Wb?a.g.info("Ignore update for closed sessions"):(n=new _.P(_.Q,6,6008,{browserError:n.message}),a.U(n),d&&d.tb&&d.tb.reject(n),d&&d.Ja&&d.Ja.reject(n)))})};no=function(a,b){if(!b||!b.headers)return"";var c=b.headers["x-dt-li"];if(c)try{return JSON.parse(_.R.Z(_.fj(c))).ti}catch(d){a.g.warn("Unable to parse DRMtoday Request ID",d)}return""};
lo=function(a,b){var c=_.R.mc(b.body,!0,!0);if(c.includes("PlayReadyKeyMessage")){a.g.debug("Unwrapping PlayReady request.");c=(new DOMParser).parseFromString(c,"application/xml");for(var d=c.getElementsByTagName("HttpHeader"),e=0;e<d.length;++e)b.headers[d[e].querySelector("name").textContent]=d[e].querySelector(_.pg).textContent;b.body=_.fj(c.querySelector("Challenge").textContent).buffer}else a.g.debug("PlayReady request is already unwrapped."),b.headers[ya]="text/xml; charset\x3dutf-8"};
mo=function(a,b,c){var d,e,f,g,h,l;return _.E(function(m){if(1==m.a)return d=a.D.getConfiguration(),_.x(m,Vn(a,d),2);e=a.keySystem();h=(g=(f=a.h.Za[e])&&f.modifiers)&&g.licenseRequest;l=g&&g.licenseResponse;h?b.requestModifiers.push(function(n){return h(d,n,c)}):e.startsWith(_.Md)&&b.requestModifiers.push(function(n){return _.ym(n)});l?b.responseModifiers.push(function(n){return l(d,n,c)}):e.startsWith(_.Md)&&b.responseModifiers.push(function(n){return _.zm(n)});_.y(m)})};
vn=function(a){var b=a.l,c=a.pa;c.clear();b.forEach(function(d,e){return c.set(e,d)});b=Array.from(c.values());b.length&&b.every(function(d){return"expired"==d})&&a.U(new _.P(_.Q,6,6014));a.D.yf(_.N.Zf(c));a.w||a.g.info(Ba);a.w=!0;a.C=!1};Qn=function(a){var b;return _.E(function(c){if(1==c.a)return _.rn(ce),b=a.ha.map(function(d){return oo(a,d)}),a.Ma=!0,a.ha=[],_.x(c,Promise.all(b),2);_.rn(be);_.sn("drm.onPlay",ce,be);_.y(c)})};ko=function(a){return!!a.match(/^com\.(microsoft|chromecast)\.playready/)};
_.co=function(a){return ko(a)?_.Pd:a};_.qo=function(a,b){return a.length&&b.length?0<_.po(a,b).length:!0};
_.po=function(a,b){if(!a.length)return b;if(!b.length)return a;for(var c=[],d=0;d<a.length;d++)for(var e={},f=0;f<b.length;e={fd:e.fd},f++)if(a[d].keySystem===b[f].keySystem&&a[d].periodId===b[f].periodId){var g=a[d];f=b[f];var h=[];h=h.concat(g.initData||[]);h=h.concat(f.initData||[]);e.fd=_.Og(g.keyIds||[]).concat();f.keyIds&&f.keyIds.length&&f.keyIds.forEach(function(l){return function(m){l.fd.includes(m)||l.fd.push(m)}}(e));c.push({keySystem:g.keySystem,licenseServerUri:g.licenseServerUri||f.licenseServerUri,
distinctiveIdentifierRequired:g.distinctiveIdentifierRequired||f.distinctiveIdentifierRequired,persistentStateRequired:g.persistentStateRequired||f.persistentStateRequired,videoRobustness:g.videoRobustness||f.videoRobustness,audioRobustness:g.audioRobustness||f.audioRobustness,serverCertificate:g.serverCertificate||f.serverCertificate,initData:h,keyIds:e.fd,periodId:g.periodId});break}return c};
wn=function(a){a.f.forEach(function(b,c){var d=b.uf,e=c.expiration;isNaN(e)&&(e=Infinity);e!=d&&(a.D.onExpirationUpdated(c.sessionId,e),b.uf=e)})};fo=function(a){a=a.f.values();return _.Ri(a,function(b){return b.loaded})};
In=function(a,b){var c=[];b.forEach(function(f,g){c.push({keySystem:g,licenseServerUri:f.licenseUrl,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})});for(var d=_.u(a),e=d.next();!e.done;e=d.next())e.value.drmInfos=c};ao=function(a){for(var b=_.u(a.audioCapabilities||[]),c=b.next();!c.done;c=b.next())delete c.value.robustness;a=_.u(a.videoCapabilities||[]);for(b=a.next();!b.done;b=a.next())delete b.value.robustness};
bo=function(a){return(a.audioCapabilities||[]).some(ro)||(a.videoCapabilities||[]).some(ro)};ro=function(a){return null!=a.robustness&&""!==a.robustness};
eo=function(a,b,c,d,e){var f={};a=_.u(a);for(var g=a.next();!g.done;f={Aa:f.Aa},g=a.next()){f.Aa=g.value;b.includes(f.Aa.licenseServerUri)||b.push(f.Aa.licenseServerUri);f.Aa.serverCertificate&&(c.some(function(m){return function(n){return _.ij(n,m.Aa.serverCertificate)}}(f))||c.push(f.Aa.serverCertificate));if(f.Aa.initData){var h=_.u(f.Aa.initData);for(g=h.next();!g.done;g=h.next())g.value.periodId=f.Aa.periodId;h={};var l=_.u(f.Aa.initData);for(g=l.next();!g.done;h={Sd:h.Sd},g=l.next())h.Sd=g.value,
d.some(function(m){return function(n){var p=m.Sd;return n.keyId&&n.keyId==p.keyId&&n.periodId===p.periodId?!0:!1}}(h))||d.push(h.Sd)}if(f.Aa.keyIds)for(g=0;g<f.Aa.keyIds.length;++g)e.includes(f.Aa.keyIds[g])||e.push(f.Aa.keyIds[g])}};
Kn=function(a,b){if(a.keySystem){var c=_.co(a.keySystem),d=b[c];c===_.af&&a.licenseServerUri||(d&&(a.licenseServerUri=d.licenseUrl||""),a.keyIds||(a.keyIds=[]),d&&(a.distinctiveIdentifierRequired||(a.distinctiveIdentifierRequired=d.distinctiveIdentifierRequired),a.persistentStateRequired||(a.persistentStateRequired=d.persistentStateRequired),a.videoRobustness||(a.videoRobustness=d.videoRobustness||""),a.audioRobustness||(a.audioRobustness=d.audioRobustness||""),a.serverCertificate||(a.serverCertificate=
d.serverCertificate||null)))}};yn=function(a){var b,c;return _.E(function(d){if(1==d.a)return b=new Promise(function(e){(new _.uk(e)).aa(1)}),_.x(d,Promise.race([a.close().then(function(){return!0}),b.then(function(){return!1})]),2);(c=d.f)||_.J("Timeout waiting for session close");_.y(d)})};_.uo=function(a,b){a&&b&&(_.so.set(a,b),_.to.info("Registered TextDisplayerFactory: '"+a+"'"))};
_.vo=function(a,b){var c=b.find(function(d){return(d=_.so.get(d))?d.ba(a):!1});if(null==c)return _.to.warn("Subtitles may not work as expected. No compatible text displayer found for this platform."),null;_.to.info("Chosen the text displayer: "+c);return _.so.get(c)};wo=function(){this.a=null;this.f=[]};_.xo=function(a,b){if(null==a.a)a.a={timestamp:Date.now()/1E3,state:b,duration:0};else{var c=Date.now()/1E3;a.a.duration=c-a.a.timestamp;a.a.state!=b&&(a.f.push(a.a),a.a={timestamp:c,state:b,duration:0})}};
yo=function(a,b){var c=0;a.a&&a.a.state==b&&(c+=a.a.duration);for(var d=_.u(a.f),e=d.next();!e.done;e=d.next())e=e.value,c+=e.state==b?e.duration:0;return c};zo=function(a){function b(f){return{timestamp:f.timestamp,state:f.state,duration:f.duration}}for(var c=[],d=_.u(a.f),e=d.next();!e.done;e=d.next())c.push(b(e.value));a.a&&c.push(b(a.a));return c};Ao=function(){this.h=this.f=this.j=null;this.a=[]};Bo=function(a){return a.a.map(function(b){return _.N.Oa(b)})};
_.Co=function(){this.f=this.o=this.A=this.C=this.j=this.l=this.h=this.w=NaN;this.a=new wo;this.B=new Ao};_.Do=function(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,switchHistory:[],stateHistory:[]}};_.Eo=function(a){this.f=a;this.a=void 0};Go=function(a,b,c,d){b===HTMLMediaElement.HAVE_NOTHING||a.readyState>=b?d():(b=Fo.value().get(b),c.one(a,b,d))};
Ko=function(a){this.g=new _.K("clpp.StateManager");this.m=a;this.a=new _.Eh;this.f=_.Ho;this.A=_.Io;this.I=0;this.w=-1;this.M=this.o=this.J=this.B=0;this.j=this.l=this.G=!1;this.H=0;this.h=null;this.K=0;this.P=_.Bk();this.C=!1;this.J=Date.now();Jo(this)};Lo=function(a,b){return Object.keys(b)[a]};
No=function(a,b){var c={type:_.Tf};b===_.jd||b===_.id?(c.reason=a.w,b===_.jd?c.timeSinceLastStateChangeMS=a.I:c.bufferedTimeMS=a.B):(a.f===_.Mo&&(c.reason=a.w),a.A===_.Mo&&(c.reason=a.w,c.bufferedTimeMS=a.B),c.currentState=a.f,c.previousState=a.A,c.timeSinceLastStateChangeMS=a.I);return c};
Ro=function(a,b){if(a.f===b)return!1;var c=Date.now(),d=a.f===_.Mo;a.A=a.f;a.f=b;a.A===_.Oo&&(a.J=c,a.o=0);a.o||(a.o=a.J||c);a.I=c-a.o;a.o=c;b===_.Mo?(a.M=a.o,a.w=a.l?1:2,a.g.info("Buffering started. Reason: "+Lo(a.w-1,_.Po)),c=No(a,_.jd),a.dc(_.jd,c)):d&&(a.B=a.o-a.M,a.g.info("Buffering finished. Reason: "+Lo(a.w-1,_.Po)+". Buffering time: "+a.B+" ms"),c=No(a,_.id),a.dc(_.id,c));c=Lo(a.A,_.Qo);d=Lo(a.f,_.Qo);a.g.info(_.Kb+c+" -\x3e "+d);a.dc(_.Tf,No(a,""));return!0};
Wo=function(a,b){if(a.f===_.So)a.g.warn("Player is in error state, aborting any further state checks");else{var c=a.m.isPaused();var d=a.m.getPosition();var e=a.m.getDuration();if(d=a.m.isEnded()||a.f===_.Oo&&1>=Math.abs(d-e)||c&&d>=e)Ro(a,_.Oo)&&a.g.debug("Player claims to be in ended state, not checking more");else if(b!==_.eg){e=a.m.getPosition();e=null!==e&&void 0!==e&&0<=e?a.m.getBufferInfo().Na(e,!0):-1;a.H=e;e=a.m.getSurface().getMedia();a.h=e?e.readyState:null;a.K=a.m.getPlaybackRate()||1;
e=typeof a.h===_.k&&2>a.h&&2===e.networkState;var f=typeof a.h===_.k&&0>=a.H&&a.f===_.Ho,g=typeof a.h===_.k&&2>=a.h&&a.j;e=a.l||f||e||g;!a.P||a.m.isLive()||a.f!==_.Mo||e||(f=b===_.Lf&&4===a.h,(g=a.A===_.To)&&!a.C?e=!0:g||a.C||f||(e=!0));f=!1;e?f=Ro(a,_.Mo):c?f=Ro(a,_.Uo):a.G&&(f=Ro(a,_.Vo));f&&(a.C=!1);a.g.debug("Video state check for event "+b+":: seeking: "+a.l+", waiting: "+a.j+", playing: "+a.G+", paused: "+c+", readyState: "+a.h+", rate: "+a.K+", buffer: "+a.H+", ended: "+d+". Changed state: "+
f+", Current state: "+Lo(a.f,_.Qo))}}};
Jo=function(a){function b(d){return Wo(a,d.type)}a.g.debug("Start watching for video events for "+a.m.namespace());var c=a.m;a.a.on(c,_.me,function(){a.j=!1;Ro(a,_.Oo)});a.a.on(c,kd,b);a.a.on(c,_.of,function(){a.G=!0;a.j=!1;Wo(a,_.of)});a.a.on(c,_.cf,function(){a.G=!1;a.j=!1;Wo(a,_.cf)});a.a.on(c,_.eg,b);a.a.on(c,_.Ef,b);a.a.on(c,_.Lf,function(d){a.l=!1;a.j=!1;Wo(a,d.type)});a.a.on(c,_.Mf,function(d){a.l=!0;Wo(a,d.type)});a.a.on(c,Rf,b);a.a.on(c,_.Ag,function(){a.j=!0;Wo(a,_.Ag)});a.a.on(c,_.ne,function(d){return a.U(d)});
a.a.on(c,_.Fe,b);a.a.on(c,ld,function(){a.C=!0;Wo(a,ld)});a.a.on(c,_.og,function(d){a.l=!0;Wo(a,d.type)});a.a.on(c,_.mg,function(d){a.l=!1;a.j=!1;Wo(a,d.type)})};Xo=function(a){a=(new _.qi(a)).Ba;if(!a)return null;a=a.toUpperCase();return _.R.endsWith(a,".MPD")?_.Tc:_.R.endsWith(a,".M3U8")?_.dl:_.R.endsWith(a,".MP4")?_.ug:_.R.endsWith(a,"MANIFEST")||_.R.endsWith(a,".ISM")?_.Yc:null};
_.Zo=function(a){var b;_.Cl(a)?b=a.source:b=a;Array.isArray(b)||(b=[b]);b=b.filter(function(e){return typeof e===_.Wf||"url"in e});a=[];for(var c=0;c<b.length;c++){var d=Yo(b[c]);d&&a.push(d)}return a};
Yo=function(a){var b=null;_.N.$(a)&&(a={url:a});typeof a===_.Te&&!Array.isArray(a)&&"url"in a&&(b={url:a.url,type:a.type?a.type:null},_.N.R(a.drmProtected)||typeof a.drmProtected!==_.hd||(b.drmProtected=a.drmProtected),_.N.R(a.isLive)||typeof a.isLive!==_.hd||(b.isLive=a.isLive),_.N.R(a.name)||typeof a.name!==_.Wf||(b.name=a.name),_.N.R(a.Lb)||typeof a.Lb!==_.Wf||(b.Lb=a.Lb),_.N.R(a.audioMimeType)||typeof a.audioMimeType!==_.Wf||(b.audioMimeType=a.audioMimeType));b&&!b.type&&(b.type=Xo(a.url),b.type?
$o.debug("Detect media type "+b.type+" for "+a.url):$o.warn("Unable to detect media type for "+a.url));return b};ap=function(){_.Dl.call(this,Gd);this.A=this.I=!1;this.l=this.B=this.o=this.a=this.j=null;this.h=new _.Eh;this.H=this.G=this.f=this.J=null};
dp=function(a,b){return a.A?bp():new Promise(function(c){a.a||(a.h.on(b,_.ne,function(){var d=cp(a);if(d)a.onError(d)}),a.h.on(b,_.Jf,function(){var d=b.videoWidth,e=b.videoHeight,f=a.getTrackManager();f&&0<d&&0<e&&(f.w={width:d,height:e});a.trigger(new _.L(_.gd,{detail:{width:d,height:e}}))}),a.a=b);c()})};ep=function(a){return a.A?bp():new Promise(function(b){if(a.a){var c=a.a;a.h.off(c,_.ne);a.h.off(c,_.Jf);a.a=null}b()})};
gp=function(a){var b,c,d,e,f;return _.E(function(g){if(1==g.a){if(a.A)return g["return"](bp());b=a.w[a.getSourceIndex()];if(!a.configuration.drm||!1===b.drmProtected)return a.log.debug("No DRM configuration present.","Skipping DRM engine initialization"),g["return"](Promise.resolve());c=_.fp;d=_.Xl(a.configuration.drm);a.log.debug("Drm configuration: ",d);e=a.getNetworkEngine();a.o=new _.xn({Gb:e,onError:function(h){return a.onError(h)},yf:function(){},onExpirationUpdated:function(h,l){a.trigger(new _.L(_.ee,
{expirationTime:l}))},onEvent:function(h){h instanceof _.L?a.dispatchEvent(h):a.log.debug(_.fc,h.type)},getConfiguration:function(){return a.getConfiguration()},Sc:function(){return a.Sc()}});a.o.h=d;f={id:0,language:_.hg,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},adjustSegmentDurations:function(){},getDuration:a.getDuration.bind(a),initSegmentReference:null,
ya:0,mimeType:_.ug,codecs:"",encrypted:!0,keyId:null,language:_.hg,originalLanguage:_.hg,label:null,type:c.VIDEO,primary:!1,frameRate:void 0,ln:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,spatialAudio:!1,Tm:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0};return _.x(g,_.Hn(a.o,[f],[]),2)}return 3!=g.a?_.x(g,_.Un(a.o,a.a),3):g["return"](Promise.resolve())})};
hp=function(a,b){Go(a.a,HTMLMediaElement.HAVE_CURRENT_DATA,a.h,function(){a.getState()!==_.So&&a.seek(b)["catch"](function(c){a.log.warn("Error while seeking to start position.",c)})})};cp=function(a){if(null===a.w||!a.a.error)return null;var b=a.a.error.code;if(1===b)return null;var c=a.a.error.msExtendedCode;c&&(0>c&&(c+=Math.pow(2,32)),c=c.toString(16));return new _.P(_.Q,3,3016,{code:b,cn:c,message:a.a.error.message})};bp=function(){return Promise.reject(new _.P(_.Q,7,7E3))};
ip=function(a){if(a.A)return new _.xj(bp(),function(){});var b=a.w[a.getSourceIndex()],c=a.configuration.startTime||null,d=a.a,e=a.J;c&&hp(a,c);if(d.preload!==_.Se)a.h.one(d,_.Fe,function(){var g=Date.now()/1E3-e;a.f.A=g;a.log.debug("Time to load: ",g)});d.src=b.url;(_.Dj()||_.Ej())&&d.load();var f=new _.wj;a.h.one(d,Rf,function(){var g=a.getConfiguration().manifest.attemptParameters.timeout||30;a.G||(a.G=(new _.uk(function(){f.reject(new _.P(_.Q,3,3100,{message:"Unable to load media source successfully from "+
b.url,uri:b.url},d.error))})).aa(g))});Go(d,a.configuration.forceWaitForTracks?HTMLMediaElement.HAVE_CURRENT_DATA:HTMLMediaElement.HAVE_METADATA,a.h,function(){return f.resolve()});d.error?f.reject(cp(a)):d.preload===_.Se&&(a.log.warn('With \x3cvideo preload\x3d"none"\x3e, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way. Please do not use preload\x3d"none" with PRESTOplay for Web Apps.'),f.resolve());a.h.one(d,_.ne,function(){f.reject(cp(a))});
return new _.xj(f,function(){var g=new _.P(_.Q,7,7001);f.reject(g);return Promise.resolve()})};
jp=function(a,b){Go(b,HTMLMediaElement.HAVE_CURRENT_DATA,a.h,function(){if(a.isLive()&&a.getState()!==_.So){var c=a.getSeekRange().end,d=a.getPosition();Infinity===c||20>c-d||(a.log.warn("Detected that HLS live stream was not started from close to the live edge. Auto-fixing, seeking to seek range end.(position: "+(d+", seek range end: "+c+")")),a.seek(c)["catch"](function(e){a.log.warn("Error while seeking to seek range edge.",e)}))}})};kp=function(){};
_.np=function(a){a&&(0<=lp.indexOf(a)?mp.warn("Factory '"+a.name()+"' is already registered"):(lp.push(a),mp.info("Factory "+a.name()+"' has been registered.")))};pp=function(a,b){var c=lp.find(function(d){return d.ba(a,b)});c||(c=new op);mp.info("Chosen ads: "+c.name());return c};_.qp=function(a,b){var c=document.createElement(a),d;for(d in b){var e=b[d];null===e||void 0===e?c.setAttribute(d,""):c.setAttribute(d,e)}return c};_.rp=function(a,b){a.classList.add(b)};
_.sp=function(a,b){if(a&&typeof b===_.Te)for(var c in b)a.style[c]=b[c]};_.tp=function(a){return document.createElement(a)};up=function(){this.a=null;this.h=new Set;this.f=null;this.set(null)};vp=function(a,b){a.a&&0!==b.length&&(a.a.classList.add(b),a.h.add(b))};wp=function(a,b){var c=new MutationObserver(function(){var d=Array.from(a.h.values());Vh(Array.from(b.classList),Array.from(d))||b.classList.add.apply(b.classList,_.Og(d))});c.observe(b,{attributes:!0,attributeFilter:["class"]});return c};
Ap=function(a,b){this.g=new _.K("clpp.PlayerSurface");this.w=_.N.oa(xp,b);this.f=new up;this.h=null;this.a=new up;this.l=yp;yp+=1;this.o="clpp-video-"+this.l;this.j=new _.Eh;if(null==a)throw new _.P(_.Q,7,7102,"No Media element was provided");if(a instanceof Element)var c=a;else if(c=document.getElementById(a),!c)throw new _.P(_.Q,7,7004,"Media element not found");var d=this.w;this.g.debug("Initializing Player Surface on ",c);if("cast-media-player"===c.tagName.toLowerCase())this.h=c;else{if(!(c instanceof
HTMLMediaElement))throw new _.P(_.Q,7,7005,"Media element is not instance of HTMLMediaElement");if(!c.hasAttribute("crossorigin")){var e=d.crossorigin;this.g.info("Setting media elements crossorigin to "+e);c.setAttribute("crossorigin",e)}this.f.set(c);if(d.disableContainer)e=null;else if(d.containerEl){if(c.parentNode!==d.containerEl)throw new _.P(_.Q,7,7006,"Container element is not a direct parent of media element");e=d.containerEl}else{e=document.createElement(_.Yd);c.parentNode?c.parentNode.replaceChild(e,
c):this.g.warn("Player Surface Element has no parent. Can not inject container. You have to manually add playerSurface.getContainer() to the DOM!");for(var f=[],g=0;g<c.classList.length;g++)f.push(c.classList[g]);f=_.u(f);for(g=f.next();!g.done;g=f.next())g=g.value,c.classList.remove(g),_.rp(e,g);e.style.cssText=c.style.cssText;c.removeAttribute(_.Yf);f=_.u([_.Hg,_.re]);for(g=f.next();!g.done;g=f.next()){g=g.value;var h=c.getAttribute(g);h=parseInt(h,10);isNaN(h)||(e.style[g]=h+_.Df);_.Dj()||c.removeAttribute(g)}e.appendChild(c)}e&&
(this.a.set(e),vp(this.a,"clpp-container"),vp(this.a,this.o),vp(this.f,_.wd),vp(this.f,"clpp-video"));d.webOSStartupPatch&&zp(this,c,e)}};zp=function(a,b,c){(_.Ej()&&53===yk().major||_.Ej()&&68===yk().major||_.zk())&&!b.hasAttribute(Td)&&(b.style.opacity="0",b.setAttribute(Td,""),a.j.one(b,je,function(){b.removeAttribute(Td);b.style.opacity="1";c&&(c.style.opacity="1")}))};Cp=function(a){this.m=a;this.j=this.m.getNetworkEngine();this.a=new _.Eh;this.h=null;this.f=!0;Bp(this)};
Bp=function(a){a.a.on(window,"offline",function(){Dp(a,!1)});a.a.on(window,"online",function(){a.f||Ep(a)});a.a.on(a.m,Rf,function(){return Fp(a)});a.a.on(a.m,"suspend",function(){return Fp(a)});a.a.on(a.m,_.Ag,function(){return Fp(a)});a.a.on(a.m,_.of,function(){a.f||Ep(a)});a.a.on(a.m,_.Cf,function(){a.f||Ep(a)});a.a.on(a.m,_.Tf,function(){switch(a.m.getState()){case _.Mo:Fp(a);break;default:Fp(a)}})};Ep=function(a){a.m.getConfiguration().connectivityCheck&&(Gp(a),a.h=(new _.uk(function(){return Hp(a)})).aa(5))};
Fp=function(a){a.f&&Ep(a)};Gp=function(a){a.h&&(a.h.stop(),a.h=null)};Hp=function(a){var b,c;return _.E(function(d){if(1==d.a)return(b=a.m.getConfiguration().connectivityCheck)&&a.m?_.x(d,Nj(a.j,b.url,b.attemptParameters,b.method),2):d["return"]();c=d.f;Dp(a,c);_.y(d)})};Dp=function(a,b){Gp(a);a.f!==b&&(a.f=b,a.m&&a.m.getConfiguration().connectivityCheck&&a.m.trigger(new _.L(Ze,{online:a.f})))};Jp=function(){for(var a=0;a<Ip.length;++a)Ip[a].Lc()};
_.Kp=function(a,b){b=b||0;for(var c={priority:b,Lc:a},d=0;d<Ip.length;d++)if(Ip[d].priority<b){Ip.splice(d,0,c);return}Ip.push(c)};Lp=function(a,b){a.onError(b);a.release().then(function(){return a.destroy()})};Mp=function(a,b,c){var d=_.R.Z;this.h=a;this.f=b;JSON.parse(d(_.fj(a)));this.a=JSON.parse(d(_.fj(b)));this.j=c};Np=function(a){this.license=a;this.a=null;this.g=new _.K("clpp.utils.LicenseKey")};
Op=function(a){if(!a.a){var b=a.license.split(".");if(3!==b.length)throw Error("Expected to find 3 data sections in JWT raw data");b=new Mp(b[0],b[1],b[2]);a.a=b}return a.a};Pp=function(a){switch((a.le()[0]||{src:"",type:""}).type){case _.Tc:a="dash";break;case _.Yc:a="ss";break;case _.dl:a="hls";break;case _.ug:a=_.Pe;break;default:a=""}return a};Qp=function(a){return a.viewerId?a.viewerId:(a=a.drm||null)&&a.customData&&a.customData.userId?""+a.customData.userId:""};
Rp=function(a){return(a=a.drm||null)&&a.customData&&a.customData.assetId?""+a.customData.assetId:""};Sp=function(a){return(a=a.drm||null)&&a.customData&&a.customData.sessionId?""+a.customData.sessionId:""};Up=function(a){var b=a.getConfiguration(),c="no";b.drm&&!_.N.ta(b.drm,{})&&(c="custom",b.drm.env&&b.drm.env.toLowerCase().startsWith(ie)||Tp(a).endsWith("drmtoday.com"))&&(c=ie);return c};
Vp=function(a){a=a.getDrmInfo();var b="";if(a)switch(a.keySystem){case _.Rd:b="wv";break;case _.Pd:b="pr";break;case _.Md:b="fps"}return b};Wp=function(a){a=a.getDrmInfo();var b=!1;a&&(b=a.persistentStateRequired);return b.toString()};Xp=function(a){a=a.getDrmInfo();var b="";if(a)switch(a.videoRobustness){case gb:case eb:b="L1";break;case fb:b="L2";break;case _.Vb:case _.Ub:b="L3"}return b};Tp=function(a){a=a.getDrmInfo();return(new _.qi(a&&a.licenseServerUri||"")).Pa};
$p=function(a,b){var c="ie"===_.Fj().browser,d=b.getConfiguration(),e=_.Og(Array.from(_.El.keys())).concat(_.Og(b.ik()));d={"CL-KEY":a.license,"CL-LOCATION":window.location.href,"CL-SDK-VERSION":_.ja,"CL-USER-ID":Qp(d),"CL-ASSET-ID":Rp(d),"CL-SESSION-ID":Sp(d),"CL-PLAYBACK-TYPE":b.isLive()?Yp:Zp,"CL-CONTENT-TYPE":Pp(b),"CL-PLUGINS":e.join(" "),"CL-DRM":Up(b),"CL-DRM-CDM":Vp(b),"CL-DRM-SEC-LEVEL":Xp(b),"CL-DRM-OFFLINE":Wp(b),"CL-DRM-IP":Tp(b)};c&&(e=window.localStorage.getItem("cl_et"))&&(d["CL-ETAG"]=
e);e=_.rj(["https://downloads.castlabs.com/r/register/"]);e.method="GET";e.headers=d;return(new _.Kj).fetch(e).O.then(function(f){200===f.status&&c&&window.localStorage.setItem("cl_et",f.headers.etag);return Promise.resolve()})["catch"](function(f){a:{var g=Op(a);f=f.data;var h=f.status;if(g.a&&g.a.ilv)f=Promise.resolve();else{switch(h){case 403:case 404:g=7101;var l="castLabs Player license is invalid";if(403===h){h=l;l="";try{l=JSON.parse(decodeURIComponent(f.responseText)).message}catch(m){}f=
h+(": "+l)}else f=l+"!";l=f;break;case 412:g=7103;l="License requires a viewer ID. It should be supplied either via the `viewerId` config or in case of DRMtoday via the `drm.customData.userID` config.";break;default:f=Promise.resolve();break a}a.g.error(ub+l);f=Promise.reject(new _.P(_.Q,7,g,l))}}return f})};
X=function(a,b,c){_.tl.call(this);var d=this;Jp();this.g=new _.K("clpp.Player");if(!a)throw new _.P(_.Q,7,7102);this.A=new _.Eh;this.f=this.T=b||_.zl();this.l=null;void 0===this.f.license&&(this.f.license=xl,this.g.warn("You are using the embedded demo license!"));if(!this.f.license)throw this.g.error("You provided null or empty string as your license. Please check your license configuration."),new _.P(_.Q,7,7101,"No license provided in configuration!");this.h=new Ap(a,c);this.a=this.w=null;this.B=
new _.Kj;this.j=null;this.K=[];this.M={};this.o=null;this.I=!0;this.J=this.H=!1;this.G=this.Pc=null;this.$e=!1;this.V=new Cp(this);this.P=!1;this.C=function(f){(f=f.detail)&&f.currentState===_.Vo&&(d.off(_.Tf,d.C),aq(d))};this.on(_.Tf,function(){d.getState()===_.So&&d.unload()});this.on(_.Pc,this.kh.bind(this));this.on(_.Oc,this.kh.bind(this));bq(this,this.f.license);this.h.getMedia()&&(a=this.h.getMedia(),a.hasAttribute("autoplay")&&(a.removeAttribute("autoplay"),this.g.debug("Removed autoplay attribute from video element. Auto play will be handled by configuration."),
void 0===this.f.autoplay&&(this.f.autoplay=!0,this.g.debug("Setting autoplay in configuration since it was specified in the video element"))));a=[];b=_.u(cq);for(c=b.next();!c.done;c=b.next()){c=c.value;try{var e=c.create(this.f);e&&a.push(e)}catch(f){this.g.error("Error while creating player plugin",f)}}dq(this,a);Kl(this)};_.eq=function(a,b){b!==a.a&&(a.a&&(a.a.removeDelegate(a),a.a.destroy()),a.a=b,a.a&&(a.a.init(a.h,a.f),a.a.setNetworkEngine(a.getNetworkEngine()),a.a.addDelegate(a)))};
bq=function(a,b){a.w=new Np(b);a.w.verify()["catch"](function(c){setTimeout(function(){a.g.error(ub+c);a.trigger(new _.L(_.ne,{detail:new _.P(_.Q,7,7101)}));a.destroy()},1E3)})};
aq=function(a){if(!a.P){a.P=!0;a.h.getMedia()||a.h.getCastElement();a.w||(a.w=new Np(a.f.license));var b=Object.keys(a.M);$p(a.w,{getConfiguration:a.getConfiguration.bind(a),le:a.le.bind(a),getDrmInfo:a.getDrmInfo.bind(a),ik:function(){return b},isLive:a.isLive.bind(a)}).then(function(){a.g.debug("License verified remotely")})["catch"](function(c){setTimeout(Lp,1E3,{release:a.release.bind(a),destroy:a.destroy.bind(a),onError:a.onError.bind(a)},c)})}};
dq=function(a,b){a.K=b;for(var c=_.u(a.K),d=c.next();!d.done;d=c.next()){d=d.value;var e=d.id();e&&(a.M[e]=d)}a.vc("onPlayerCreated")};
fq=function(a){var b,c;return _.E(function(d){if(1==d.a){if(a.I)return a.g.debug("The player is already released. No-op"),d["return"](new Promise(function(e){return e()}));a.off(_.Tf,a.C);a.A.off(a,_.Tf,a.C);a.A.off(document,yg);a.trigger(new _.L(_.Gf));a.P=!1;a.h&&a.h.release();return a.j?_.x(d,a.j.dispose(),3):d.F(2)}2!=d.a&&(a.j=null);if(a.a)return b=null,c=a.a.on(_.Tf,function(e){b=e}),d["return"](a.vc(_.Xe).then(function(){a.a.removeDelegate(a);return Promise.all([a.a.release(),a.B.release()])}).then(function(){a.g.debug("Releasing player completed");
b&&(a.g.debug("Re-post state change event after release"),a.trigger(b))})["finally"](function(){a.a.off(_.Tf,c);a.trigger(new _.L(Ff))}));a.trigger(new _.L(Ff));return d["return"](new Promise(function(e){return e()}))})};
gq=function(a,b,c){return new Promise(function(d,e){var f;if(b){for(var g=f=null,h=0;h<b.length;h++);h=Object.values(_.xh);for(var l=0;l<b.length;l++)for(var m=0;m<h.length;m++){var n={Pb:h[m],confidence:h[m].canPlay(b[l],c)};if(null===f||f.confidence<n.confidence)f=n,g=l}f&&typeof g===_.k&&0<f.confidence?(_.yh.debug("Player Factory '"+f.Pb.a()+"' can play",b[g]),f=new vh(f.Pb,g)):(_.yh.error("No compatible Player Factory found for sources:",b),f=null)}else f=null;f?(g=f.Pb.create(),d(new wh(g,f.a))):
(f=new _.L(_.ne,{detail:new _.P(_.Q,7,7003)}),a.trigger(f),e(f))})};iq=function(a){var b;return _.E(function(c){if(1==c.a){if(!a.a)return a.g.warn(Hb),c["return"]();b=a.a;if(!b.lg)return a.g.warn(Nb),c["return"]();a.trigger(new _.L(Ge));return _.x(c,b.lg(),2)}return _.x(c,_.hq(a),0)})};
_.kq=function(a,b){var c,d,e,f;return _.E(function(g){switch(g.a){case 1:_.rn(lf);if(a.H)throw Error("Player is already destroyed.");if(!a.h)throw Error("No surface associated with this player!");return _.x(g,a.release(),2);case 2:a.o=_.Zo(b);c=_.Cl(b);a.f=_.Bl(a.T,c?b:{},{source:a.o});if(0===a.o.length)throw Error("Invalid request to load: could not find source to load");a.I=!1;e=0;if(!a.J&&2===a.canPlay(a.o[0],a.f)){g.F(3);break}return _.x(g,gq(a,a.o,a.f),4);case 4:f=g.f,d=f.player,e=f.a,a.J=!1;
case 3:d?_.eq(a,d):a.a.addDelegate(a);jq(a);a.a&&a.a.setCdnErrorCallback(a.G);a.j=pp(a,a.f).create(a);a.setSourceIndex(e);if(a.f.pauseWhenInBackground)a.A.on(document,yg,function(){document.hidden?(a.g.debug("Player is hidden: pausing..."),a.pause()):(a.g.debug("Player is visible: resuming..."),a.play())});Ll(a);return _.x(g,a.vc("onContentWillLoad",a.f.source[e]),5);case 5:_.rn(kf),_.sn("player.beforeLoad",lf,kf),_.y(g)}})};
_.lq=function(a){return _.E(function(b){a.h.getMedia()||a.h.getCastElement();a.A.on(a,_.Tf,a.C);a.trigger(new _.L(Ge));return _.x(b,Promise.all([a.a.load(a.f),a.j.load()]),0)})};
mq=function(a){var b=_.Th(a.f.preferredTextLanguage).filter(function(f){return f}),c=a.f.preferForcedSubtitles,d=a.getTrackManager().fa().filter(function(f){return c?f.kind===_.oe:f.kind!==_.oe});if(0===d.length)c&&a.g.warn("Forced subtitles are configured to be preferred, but no forced subtitles are available.");else{if(c&&0===b.length){var e=a.getTrackManager().ja();e&&e.language?(e=_.Ni(e.language||""),b.push(e)):(e=a.getTrackManager().Ia())&&e.language&&(e=_.Ni(e.language||""),b.push(e));0===
b.length&&a.g.warn("Forced subtitles are configured to be preferred, but neither the preferred text language is set, nor the audio or video track language is available to determine which forced subtitles language to select.")}b.some(function(f){var g=_.Ni(f);if(f=d.find(function(h){h=_.Ni(h.language||"");return _.Oi(h,g)}))return a.getTrackManager().La(f),!0;c&&a.g.warn("Forced subtitles are configured to be preferred, but no forced subtitles match the preferred languages: ",b);return!1})}};
_.hq=function(a){var b,c,d,e;return _.E(function(f){switch(f.a){case 1:_.rn(jf);b=[];if(a.f.remoteTextTracks)for(c=_.u(a.f.remoteTextTracks),d=c.next();!d.done;d=c.next())e=d.value,b.push(a.getTrackManager().addTextTrack(e));return _.x(f,Promise.all(b),2);case 2:return mq(a),Ml(),_.x(f,a.vc("onContentLoaded"),3);case 3:if(!a.f.autoplay){f.F(4);break}return _.x(f,a.play(),4);case 4:_.rn(hf),_.sn("player.afterLoad",jf,hf),_.y(f)}})};
jq=function(a){a.a&&a.a.setDrmCustomDataModifier(function(b){return _.E(function(c){if(!a.Pc||!a.$e)return c.F(0);a.$e=!1;return _.x(c,a.Pc(b),0)})})};_.nq=function(a){a&&(0<=cq.indexOf(a)||cq.push(a))};oq=function(a){this.a=a.map(function(b){return{videoId:b.getSurface().getMedia().id,player:b,Xd:!0,ready:Promise.resolve()}});this.g=new _.K("clpp.plist.PlayerPool")};
rq=function(a){_.tl.call(this);var b=this;this.w=_.N.oa({transition:_.cf,preloadMedia:!1},a);this.h=[];this.a=0;var c=pq(a.anchorId);this.o=new oq(c);this.f=null;this.j=!1;this.l=new Map;this.A=a.toggleVisible;this.g=new _.K(Hd);this.o.a.forEach(function(d){return qq(b,d.player,!1)})};tq=function(a){return Promise.all(Array.from(a.l.keys()).map(function(b){return sq(a,b)}))};
sq=function(a,b){var c;return _.E(function(d){if(1==d.a){c=a.l.get(b);if(!c)return d.F(0);a.g.info("Stop preloading item (index: "+b+")");return c.player?_.x(d,a.o.release(c.player),3):d.F(3)}a.l["delete"](b);_.y(d)})};vq=function(a,b){var c;return _.E(function(d){if(1==d.a)return a.g.info("Stop current playback (index: "+b.index+")"),c=b.player,b.player=null,b.videoEl=null,b.role=uq,c.pause(),_.x(d,a.o.release(c),2);qq(a,c,!1);_.y(d)})};
xq=function(a,b){var c;return _.E(function(d){return 1==d.a?_.x(d,a.o.get(),2):3!=d.a?(c=d.f,a.f=b,b.role=wq,a.f.player=c,a.f.videoEl=c.getSurface().getMedia(),qq(a,c,!0),_.x(d,c.load(b.config),3)):b.config.autoplay?d.F(0):_.x(d,c.play(),0)})};
yq=function(a,b){return _.E(function(c){switch(c.a){case 1:if(!b.player)return c["return"]();if(b.state!==zf){c.F(2);break}a.g.info(mc);_.A(c,3);return _.x(c,b.preloadPromise,5);case 5:_.ah(c,2);break;case 3:_.C(c);case 2:a.f=b;b.role=wq;qq(a,b.player,!0);if(b.state===yf)return _.rn(vf),a.w.preloadMedia?_.x(c,b.player.play(),11):_.x(c,iq(b.player),11);if(b.state!==xf){c.F(7);break}return _.x(c,b.player.load(b.config),7);case 11:_.rn(uf),_.sn("playlist.next",vf,uf);case 7:if(b.config.autoplay)c.F(0);
else return _.x(c,b.player.play(),0)}})};Aq=function(a){var b;return _.E(function(c){b=a.a+1;a.g.info("Preload following item (index: "+b+")");return _.x(c,zq(a,b),0)})};Bq=function(a){var b;return _.E(function(c){b=a.a-1;a.g.info("Preload preceding item (index: "+b+")");return _.x(c,zq(a,b),0)})};
Cq=function(a){var b;_.E(function(c){if(0===a.a)return _.x(c,Aq(a),0);if(a.a===a.h.length-1)return _.x(c,Bq(a),0);b=[a.a-1,a.a+1];a.g.info("Preload items (indices: "+b+")");return _.x(c,Promise.all(b.map(function(d){return zq(a,d)})),0)})};
zq=function(a,b){var c,d,e;return _.E(function(f){switch(f.a){case 1:return _.x(f,a.o.get(),2);case 2:return c=f.f,d=a.h[b],d.player=c,d.videoEl=c.getSurface().getMedia(),d.role=uq,d.state=zf,a.trigger(new _.L(jg)),_.A(f,3),a.l.set(b,d),a.w.preloadMedia?(d.config.autoplay&&(a.g.warn("Autoplay should not be used for preloaded streams. Force disabling autoplay (index: "+(b+")")),d.config.autoplay=!1),d.preloadPromise=c.load(d.config)):d.preloadPromise=c.preload(d.config),_.x(f,d.preloadPromise,5);case 5:d.state=
yf;a.trigger(new _.L(jg));_.ah(f,0);break;case 3:e=_.C(f),7001===e.code?(a.g.info("Preload aborted (index: "+b+")"),d.state=wf):(a.g.warn("Preload failed (index: "+b+")",e),a.trigger(new _.L(_.ne,{detail:e})),d.state=xf),a.trigger(new _.L(jg)),_.y(f)}})};qq=function(a,b,c){var d=b.getSurface().getMedia();b=b.getSurface().getUniqueCssClass();d&&(c?(a.g.info(Yb+b),d.classList.add(Bd)):(a.g.info(ib+b),d.classList.remove(Bd)),a.A&&a.A(d,c))};
Dq=function(a){var b;return _.E(function(c){if(1==c.a)return _.x(c,a.o.destroy(),2);b=document.getElementById(a.w.anchorId);if(!b)return c["return"]();b.classList.remove(yd);b.innerHTML="";_.y(c)})};
pq=function(a){var b=document.getElementById(a);if(!b)throw Error("Anchor element not found");b.classList.add(yd);return Array.from({length:3}).map(function(){var c=document.createElement(_.sg);c.classList.add(Ad);var d=document.createElement(_.Yd);d.classList.add(zd);d.appendChild(c);b.appendChild(d);return new X(c)})};
Gq=function(a){_.tl.call(this);var b=this;this.o=_.N.oa({Lk:2},a);this.j=[];var c=Eq(a.anchorEl,this.o.Lk+1,this.o.Jj);this.l=new oq(c);this.a=null;this.h=!1;this.f=new Map;this.A=!1;this.w=a.toggleVisible;this.g=new _.K("clpp.interstitial.MultiController");this.l.a.forEach(function(d){return Fq(b,d.player,!1)})};
Hq=function(a){var b;return _.E(function(c){if(1==c.a)return(b=a.a)?"loaded"===b.state?c.F(2):_.x(c,b.Kd,2):c["return"]();if(4!=c.a)return _.x(c,b.player.play(),4);b.state=_.of;b.uc&&b.uc();_.y(c)})};Iq=function(a,b){a.A=b;var c=a.a&&a.a.player;c&&Fq(a,c,!b)};
Jq=function(a,b){var c=b.transition;if(c){if(c.tc){var d=c.tc,e=function(){a.g.info("Transition onEnded to (ID: "+d+")");a.play(d)};b.player.on(_.me,e);b.jc.push(function(){b.player.off(_.me,e)})}if(c.mh){var f=function(l){var m=c.mh.find(function(n){return n.cueId===l.detail.id});m&&(a.g.info("Transition onCue to (ID: "+m.itemId+")"),a.play(m.itemId))};b.player.on(_.Rh,f);b.jc.push(function(){b.player.off(_.Rh,f)})}if(c.sh){var g=c.sh,h=function(){b.player.getPosition()>=g.position&&(a.g.info("Transition onPosition to (ID: "+
g.itemId+")"),a.play(g.itemId))};b.player.on(_.eg,h);b.jc.push(function(){b.player.off(_.eg,h)})}}};Mq=function(a){a.a&&(a.a.jc.forEach(function(b){return b()}),a.a.jc=[],Jq(a,a.a),Kq(a),Lq(a,a.a.next))};Kq=function(a){return Promise.all(Array.from(a.f.keys()).map(function(b){return Nq(a,b)}))};
Nq=function(a,b){var c;return _.E(function(d){if(1==d.a){c=a.f.get(b);if(!c)return d.F(0);a.g.info("Stop preloading item (ID: "+b+")");return c.player?_.x(d,a.l.release(c.player),3):d.F(3)}a.f["delete"](b);_.y(d)})};Pq=function(a,b){var c;return _.E(function(d){if(1==d.a)return a.g.info("Stop current playback (ID: "+b.id+")"),b.jc.forEach(function(e){return e()}),b.jc=[],c=b.player,b.player=null,b.videoEl=null,b.role=Oq,c.pause(),_.x(d,a.l.release(c),2);Fq(a,c,!1);_.y(d)})};
Rq=function(a,b){return _.E(function(c){if(1==c.a)return _.x(c,Qq(a,b),2);if(3!=c.a)return b.config.autoplay?c.F(3):_.x(c,b.player.play(),3);b.state=_.of;_.y(c)})};Qq=function(a,b){var c,d;return _.E(function(e){if(1==e.a)return _.x(e,a.l.get(),2);if(3!=e.a)return c=e.f,a.a=b,b.role=Sq,a.a.player=c,a.a.videoEl=c.getSurface().getMedia(),Fq(a,c,!0),b.primary&&a.trigger(new _.L(Af,{detail:{player:c}})),b.state="loading",d=b,_.x(e,c.load(b.config),3);d.Kd=e.f;b.state="loaded";_.y(e)})};
Tq=function(a,b){return _.E(function(c){switch(c.a){case 1:if(!b.player)return c["return"]();if(b.state!==zf){c.F(2);break}a.g.info(mc);_.A(c,3);return _.x(c,b.preloadPromise,5);case 5:_.ah(c,2);break;case 3:_.C(c);case 2:a.a=b;b.role=Sq;Fq(a,b.player,!0);b.state="loading";if(b.state===yf)return _.x(c,b.player.play(),7);if(b.state!==xf){c.F(7);break}return _.x(c,b.player.load(b.config),7);case 7:if(b.config.autoplay){c.F(11);break}return _.x(c,b.player.play(),11);case 11:b.state=_.of,_.y(c)}})};
Lq=function(a,b){var c;_.E(function(d){if(0===b.length)return d["return"]();a.g.info("Preload items (IDs: "+b+")");c=a.j.filter(function(e){return b.includes(e.id)})||[];return _.x(d,Promise.all(c.map(function(e){return Uq(a,e)})),0)})};
Uq=function(a,b){var c,d,e;return _.E(function(f){switch(f.a){case 1:return c=b.id,_.x(f,a.l.get(),2);case 2:return d=f.f,b.player=d,b.videoEl=d.getSurface().getMedia(),b.role=Oq,b.state=zf,a.trigger(new _.L(jg)),_.A(f,3),a.f.set(c,b),b.config.autoplay&&(a.g.warn("Autoplay should not be used for preloaded streams. Force disabling autoplay (ID: "+(c+")")),b.config.autoplay=!1),b.primary&&a.trigger(new _.L(Af,{detail:{player:d}})),b.preloadPromise=d.load(b.config),_.x(f,b.preloadPromise,5);case 5:b.state=
yf;a.trigger(new _.L(jg));_.ah(f,0);break;case 3:e=_.C(f),7001===e.code?(a.g.info("Preload aborted (ID: "+c+")"),b.state=wf):(a.g.warn("Preload failed (ID: "+c+")",e),a.trigger(new _.L(_.ne,{detail:e})),b.state=xf),a.trigger(new _.L(jg)),_.y(f)}})};
Fq=function(a,b,c){if(!a.A){var d=b.getSurface().getMedia();b=b.getSurface().getUniqueCssClass();d&&(c?(a.g.info(Yb+b),d.classList.add(Bd),d.classList.remove("clpp-hide")):(a.g.info(ib+b),d.classList.remove(Bd),d.classList.add("clpp-hide")),a.w&&a.w(d,c))}};Vq=function(a){var b;return _.E(function(c){if(1==c.a)return _.x(c,a.l.destroy(),2);b=a.o.anchorEl;if(!b)return c["return"]();b.classList.remove(yd);b.innerHTML="";_.y(c)})};
Eq=function(a,b,c){a.classList.add(yd);return Array.from({length:b}).map(function(){var d=document.createElement(_.sg);d.classList.add(Ad);var e=document.createElement(_.Yd);e.classList.add(zd);e.appendChild(d);a.appendChild(e);return new X(d,c)})};
$q=function(a){_.tl.call(this);var b=this;this.f=_.N.oa({prerollMarginSec:.5,resolutionOffsetSec:35},a);this.g=new _.K(Fd);this.l=null;this.a=new Gq({Jj:this.f.config,anchorEl:a.anchorEl,preloadMedia:!0});Iq(this.a,!0);this.a.on(we,function(c){var d=c.detail;d.primary&&(b.l=d.player.getDuration());b.trigger(new _.L(Wq,c));Xq(b);d.primary&&Yq(b,d.player)});this.h=[];this.a.on(Af,function(c){b.trigger(new _.L(Zq,{detail:{player:c.detail.player}}))});this.j=[]};
br=function(a,b,c){var d,e,f,g;return _.E(function(h){if(1==h.a){if(!b.source)return a.g.error("Config must be of type cl.api.PlayerConfiguration"),h["return"]();a.a.Wd([{id:Bf,primary:!0,config:_.N.Oa(b),next:[]}]);return _.x(h,a.a.load(Bf),2)}d=a.a.zb();if(!d||!d.he())return a.g.error("Failed to get cue timeline after load"),h["return"]();e=d.he();f=Array.from(e.cues());if(g=ar(a,f,c))return h.F(0);Iq(a.a,!1);return c?h.F(0):_.x(h,Hq(a.a),0)})};
ar=function(a,b,c){function d(g){return g.startTime<a.f.prerollMarginSec}var e=b.filter(function(g){return g.schemeIdUri===Nd&&g.Wa});a.g.info("Interstitial cues found",e);if(!cr(a,e))return!1;b=e.find(d);var f=e.filter(function(g){return g.startTime<a.f.resolutionOffsetSec&&!d(g)});e=e.filter(function(g){return!(g.startTime<a.f.resolutionOffsetSec)});b&&dr(a,b,c);0<f.length&&f.forEach(function(g){return er(a,g)});e.forEach(function(g){return fr(a,g)});a.trigger(new _.L(gr,{detail:a.zd()}));return!!b};
fr=function(a,b){var c=b.Wa[tc];c={cueId:b.id,startTime:b.startTime,endTime:b.endTime,state:hr,$f:b.Wa[qc],ag:b.Wa[rc],Ea:null,resumePosition:null==c?b.endTime:b.startTime+c,playoutLimit:b.Wa[sc]};a.j.push(c);return c};
dr=function(a,b,c){var d,e,f;_.E(function(g){if(1==g.a)return d=fr(a,b),_.x(g,ir(a,d),2);e=g.f;f=d.Ea?d.Ea.length:0;if(e&&0<f)return jr(a,d,c),g.F(0);e?a.g.warn("Preroll interstitial has no assets, skipping"):a.g.error("Preroll interstitial failed, skipping");Iq(a.a,!1);return c?g.F(0):_.x(g,Hq(a.a),0)})};
er=function(a,b){var c,d,e,f;return _.E(function(g){if(1==g.a)return c=fr(a,b),a.g.info(jb+c.cueId+aa+(c.startTime+" s")),_.x(g,ir(a,c),2);if(d=g.f){e=a.a.getCurrentItem();if(!e)return a.g.error("Cannot schedule interstitial "+(c.cueId+", no primary content not found in playlist")),g["return"]();if(!e.player)return g["return"]();f=e.player;e.state===_.of?kr(a,c,f):e.uc=function(){kr(a,c,f)}}_.y(g)})};Xq=function(a){a.h.forEach(function(b){return b()});a.h=[]};
Yq=function(a,b){function c(){a.trigger(new _.L(lr))}function d(){var e,f,g;return _.E(function(h){if(1==h.a){e=b.getPosition();f=mr(a,e);if(!f)return h.F(0);a.g.info(jb+f.cueId+aa+(f.startTime+" s"));return _.x(h,ir(a,f),3)}(g=h.f)&&kr(a,f,b);_.y(h)})}b.addEventListener(_.eg,d);a.h.push(function(){b.removeEventListener(_.eg,d)});b.on(_.me,c);a.h.push(function(){b.off(_.me,c)})};
cr=function(a,b){for(var c=b.sort(function(m,n){return m.startTime-n.startTime}),d=a.f.resolutionOffsetSec,e=[],f=0;f<c.length-1;f++){var g=c[f],h=c[f+1];h&&h.startTime-g.endTime<d&&e.push(lb+g.id+" and "+h.id+" are too close to each other (less than "+(d+" s)."));h&&h.startTime<=g.endTime&&e.push(lb+g.id+" and "+h.id+" overlap.")}var l=[];b.forEach(function(m){var n=m.Wa[rc],p=m.Wa[sc];m.Wa[qc]||n?null!=p&&1>p&&a.g.warn(kb+m.id+" is invalid X-PLAYOUT-LIMIT is less than 1 s.",m):l.push(kb+m.id+" is invalid it contains neither X-ASSET-LIST nor X-ASSET-URI.")});
0<l.length?a.g.error("Invalid interstitials, all interstitials will be skipped. "+l.join(" ")):0<e.length&&a.g.warn("Unsupported format of interstitials, playback may not behave correctly. "+e.join(" "));return 0===l.length};mr=function(a,b){return a.j.find(function(c){var d=c.startTime-b;return c.state===hr&&0<d&&d<=a.f.resolutionOffsetSec})||null};
ir=function(a,b){var c,d,e;return _.E(function(f){switch(f.a){case 1:b.state=nr;c={id:b.cueId,startTime:b.startTime,endTime:b.endTime,resumePosition:b.resumePosition,itemCount:-1,playoutLimit:b.playoutLimit};a.trigger(new _.L(or,{detail:c}));if(!b.$f){b.ag?(b.Ea=[{URI:b.ag,DURATION:b.endTime-b.startTime}],b.state=pr):b.state=qr;f.F(2);break}_.A(f,3,4);a.g.info("Load X-ASSET-LIST for "+b.cueId);a.trigger(new _.L(rr,{detail:c}));d=b;return _.x(f,sr(a,b.$f),6);case 6:d.Ea=f.f,b.state=pr,c.itemCount=
b.Ea.length;case 4:_.bh(f);a.trigger(new _.L(tr,{detail:c}));_.ch(f,2);break;case 3:e=_.C(f);a.g.error("Failed to load X-ASSET-LIST",e);b.state=qr;f.F(4);break;case 2:return f["return"](b.state===pr)}})};jr=function(a,b,c){var d,e;_.E(function(f){if(1==f.a){d=a.a.getCurrentItem();if(!d)return f["return"]();e=ur(a,b,"preroll");a.a.Wd(e);vr(a,d,b,e,!0);Mq(a.a);b.state=pr;return c?_.x(f,a.a.load(e[0].id),3):_.x(f,a.a.play(e[0].id),3)}Iq(a.a,!1);_.y(f)})};
kr=function(a,b,c){if(b.Ea)if(0===b.Ea.length){var d=function(){c.seek(b.resumePosition)};c.on(_.Rh,d);a.h.push(function(){c.off(_.Rh,d)});a.g.info(jb+b.cueId+" scheduled to be skipped")}else{var e=a.a.getCurrentItem();if(e){var f=ur(a,b);a.a.Wd(f);var g=f[0].id;vr(a,e,b,f,!1);e.next=[g];e.transition={mh:[{cueId:b.cueId,itemId:g}]};Mq(a.a);b.state=pr;a.g.info(jb+b.cueId+" scheduled for "+(b.startTime+" s"));a.trigger(new _.L(wr,{detail:{id:b.cueId,startTime:b.startTime,endTime:b.endTime,resumePosition:b.resumePosition,
itemCount:f.length,playoutLimit:b.playoutLimit}}))}}};
ur=function(a,b,c){c=void 0===c?"":c;var d=0,e=b.Ea.map(function(l,m){var n=b.cueId+"-"+m,p=m===b.Ea.length-1?Bf:b.cueId+"-"+(m+1);d+=l.DURATION;n={id:n,config:{source:{url:l.URI,type:_.dl}},next:[p],transition:{tc:p},duration:l.DURATION,zg:d,fn:b.cueId};return a.f.interstitialAssetConverter?a.f.interstitialAssetConverter(n):n});e.forEach(function(l,m){l.uc=function(){a.g.info(Lb+l.id,l);a.trigger(new _.L(xr,{detail:{id:l.id,podId:b.cueId,uri:l.config.source.url,duration:l.duration,podOrder:m+1,podCount:b.Ea.length}}))}});
if(null!=b.playoutLimit){var f=b.playoutLimit;a.g.info("Playout limit for "+b.cueId+" is "+(f+" s"));e=e.filter(function(l){return l.zg-l.duration<=f});var g=e[e.length-1],h=Math.abs(g.zg-f);1>h?g.transition.tc=Bf:(g.transition.tc=void 0,g.transition.sh={position:g.duration-h,itemId:Bf});g.next=[Bf]}e[0].uc=function(){a.g.info("Playing interstitial "+c+" "+b.cueId+" with "+(b.Ea.length+" assets and will resume primary content at ")+(b.resumePosition+" s."),e);a.g.info(Lb+e[0].id,e[0]);a.trigger(new _.L(yr,
{detail:{id:b.cueId,startTime:b.startTime,endTime:b.endTime,resumePosition:b.resumePosition,itemCount:e.length,playoutLimit:b.playoutLimit}}));a.trigger(new _.L(xr,{detail:{id:e[0].id,podId:b.cueId,uri:b.Ea[0].URI,duration:b.Ea[0].DURATION,podOrder:1,podCount:b.Ea.length}}))};return e};
vr=function(a,b,c,d,e){b.uc=function(){a.g.info("Resuming primary content at "+(b.config.startTime+" s."));a.trigger(new _.L(zr,{detail:{id:c.cueId}}));c.state=Ar;a.a.removeItems(d.map(function(f){return f.id}));b.next=[];e&&a.trigger(new _.L(Br))};b.config.startTime=c.resumePosition};
sr=function(a,b){var c,d,e,f,g,h;return _.E(function(l){if(1==l.a){c=a.a.zb();if(!c)throw Error("No player found");d=c.getNetworkEngine();e=_.rj(b);return _.x(l,Mj(d,e),2)}f=l.f;g=Cr(f);if(!g)throw new ki("Invalid X-ASSET-LIST list response");h=f;return l["return"](Promise.resolve(h.ASSETS))})};Cr=function(a){return a&&a.ASSETS&&Array.isArray(a.ASSETS)?a.ASSETS.every(function(b){return typeof b.URI===_.Wf&&typeof b.DURATION===_.k}):!1};Dr=function(){};Er=function(){};Fr=function(){};Gr=function(){};
op=function(){};Hr=function(){};_.Ir=function(){};Jr=function(){this.a=null;this.g=new _.K("clpp.drm.eme.StandardEmeManager")};Kr=function(){};Lr=function(){this.size=0;this.a=void 0;this.g=new _.K("clpp.drm.eme.MediaKeyStatusMap")};Mr=function(a,b){a.size=void 0===b?0:1;a.g.debug("Setting key status to",b);a.a=b};Nr=function(){};Or=function(){};Pr=function(){this.a=this.f=null};
Qr=function(a,b){this.keySystem=a;if(a.startsWith(_.Md))for(var c=_.u(b),d=c.next();!d.done;d=c.next()){var e=d.value;if(e.persistentState===_.If)d=null;else{d={audioCapabilities:[],videoCapabilities:[],persistentState:_.$e,distinctiveIdentifier:_.$e,initDataTypes:e.initDataTypes,sessionTypes:[ag],label:e.label};var f=!1,g=!1;if(e.audioCapabilities)for(var h=_.u(e.audioCapabilities),l=h.next();!l.done;l=h.next())l=l.value,l.contentType&&(f=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,l.contentType.split(";")[0])&&
(d.audioCapabilities.push(l),g=!0));if(e.videoCapabilities)for(e=_.u(e.videoCapabilities),l=e.next();!l.done;l=e.next())h=l.value,h.contentType&&(f=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,h.contentType.split(";")[0])&&(d.videoCapabilities.push(h),g=!0));f||(g=WebKitMediaKeys.isTypeSupported(this.keySystem,_.ug));d=g?d:null}if(d){this.a=d;return}}c=Error(hc);c.name=Fb;c.code=DOMException.NOT_SUPPORTED_ERR;throw c;};
Rr=function(a){this.f=null;this.h=new WebKitMediaKeys(a);this.a=new _.Eh;this.j=0;this.g=new _.K(Ed);this.g.info("Created Media Keys for "+a)};
Sr=function(a,b){a.f=b;_.Hh(a.a);if(!b)return Promise.resolve();a.a.on(b,ke,function(c){_.th("AppleEmeManager.cancelNativeMediaEncryptedEvent_",c);"MediaEncryptedEvent"in window&&c instanceof MediaEncryptedEvent&&(a.g.info("Cancel native MediaEncryptedEvent when using Apple-prefixed EME"),c.stopImmediatePropagation())});a.a.on(b,Gg,function(c){a.g.debug("Handle webkitNeedKey event");c=_.Ui(c.initData);if(_.aj(c).getUint32(0,!0)+4!==c.byteLength)throw new RangeError("Malformed FairPlay init data");
c=_.R.mc(c.subarray(4),!0);c=_.R.Va(c);var d=new Event(ke);d.initDataType="skd";d.initData=bj(c);a.f.dispatchEvent(d)});Go(b,HTMLMediaElement.HAVE_METADATA,a.a,function(){return b.webkitSetMediaKeys(a.h)});return Promise.resolve()};Tr=function(a,b){_.tl.call(this);this.a=null;this.o=a;this.f=this.h=null;this.j=new _.Eh;this.sessionId=b;this.expiration=NaN;this.closed=new _.wj;this.l=!1;this.keyStatuses=new Lr;this.g=new _.K(Ed)};Ur=function(a,b){Mr(a.keyStatuses,b);a.dispatchEvent(new _.L(xe))};
Vr=function(){};Wr=function(){this.f=this.a=null;this.h="";HTMLMediaElement.prototype.webkitGenerateKeyRequest&&(this.h="webkit")};
Xr=function(a,b,c,d){this.h=a;this.a=this.keySystem=c;a=!1;c===_.af&&(this.a=Cg,a=!1);var e=!1;d=_.u(d);for(var f=d.next();!f.done;f=d.next()){f=f.value;var g=[],h=[],l=!1;if(f.audioCapabilities)for(var m=_.u(f.audioCapabilities),n=m.next();!n.done;n=m.next())n=n.value,n.contentType&&(l=!0,b.canPlayType(n.contentType.split(";")[0],this.a)&&(g.push(n),e=!0));if(f.videoCapabilities)for(g=_.u(f.videoCapabilities),n=g.next();!n.done;n=g.next())m=n.value,m.contentType&&(l=!0,b.canPlayType(m.contentType,
this.a)&&(h.push(m),e=!0));l||(e=b.canPlayType(_.ug,this.a)||b.canPlayType("video/webm",this.a));f.persistentState!==_.If||a||(e=!1);if(e){this.f=f;return}}b=hc;if(c===_.af||c===_.Rd)b="None of the requested configurations were supported.";c=Error(b);c.name=Fb;c.code=DOMException.NOT_SUPPORTED_ERR;throw c;};Yr=function(a,b){this.h=a;this.o=b;this.a=null;this.f=new _.Eh;this.j=[];this.l=new Map};
as=function(a,b){a.a=b;_.Hh(a.f);b&&(a.f.on(b,a.h+"needkey",function(c){var d=new Event(ke);d.initDataType=_.rd;d.initData=bj(c.initData);a.a.dispatchEvent(d)}),a.f.on(b,a.h+"keymessage",function(c){var d=Zr(a,c.sessionId);if(d){var e=void 0===d.keyStatuses.getStatus();c=new _.L(_.Ke,{messageType:e?Ae:ze,message:c.message});_.th("WebkitEmeManager.MediaKeySession.generated");d.f&&(d.f.resolve(),d.f=null);d.dispatchEvent(c)}else _.uh("Session not found",c.sessionId)}),a.f.on(b,a.h+"keyadded",function(c){(c=
Zr(a,c.sessionId))&&c.ready()}),a.f.on(b,a.h+"keyerror",function(c){var d=Zr(a,c.sessionId);if(d){var e=Error("EME v0.1b key error"),f=c.errorCode;f.systemCode=c.systemCode;e.errorCode=f;!c.sessionId&&d.f?(45===c.systemCode&&(e.message="Unsupported session type."),d.f.reject(e),d.f=null):c.sessionId&&d.a?(d.a.reject(e),d.a=null):(e=c.systemCode,c.errorCode.code===MediaKeyError.MEDIA_KEYERR_OUTPUT?$r(d,_.bf):1===e?$r(d,"expired"):$r(d,_.ve))}}))};
Zr=function(a,b){var c=a.l.get(b);return c?c:(c=a.j.shift())?(c.sessionId=b,a.l.set(b,c),c):null};bs=function(a,b,c,d){_.tl.call(this);this.w=a;this.j=b;this.o=!1;this.a=this.f=null;this.h=c;this.l=d;this.sessionId="";this.expiration=NaN;this.closed=new _.wj;this.keyStatuses=new Lr};
ds=function(a,b,c){if(a.o)return Promise.reject(Error("The session is already initialized."));a.o=!0;try{if(a.l===_.ef)if(c)var d=_.Ui(_.R.Va("LOAD_SESSION|"+c));else{var e=_.R.Va("PERSISTENT|"),f=new Uint8Array(e.byteLength+b.byteLength);f.set(e,0);f.set(_.Ui(b),e.byteLength);d=f}else d=_.Ui(b)}catch(h){return Promise.reject(h)}a.f=new _.wj;var g=cs(a,"generateKeyRequest");try{a.j[g](a.h,d)}catch(h){if(h.name!==nb)return a.f=null,Promise.reject(h);(new _.uk(function(){try{a.j[g](a.h,d)}catch(l){a.f.reject(l),
a.f=null}})).aa(.01)}return a.f};es=function(a,b,c){if(a.a)a.a.then(function(){return es(a,b,c)})["catch"](function(){return es(a,b,c)});else{a.a=b;if(a.h===Cg){var d=_.R.Z(c);var e=JSON.parse(d);"oct"!==e.keys[0].kty&&(a.a.reject(Error("Response is not a valid JSON Web Key Set.")),a.a=null);d=_.fj(e.keys[0].k);e=_.fj(e.keys[0].kid)}else d=_.Ui(c),e=null;var f=cs(a,"addKey");try{a.j[f](a.h,d,e,a.sessionId)}catch(g){a.a.reject(g),a.a=null}}};$r=function(a,b){Mr(a.keyStatuses,b);a.dispatchEvent(new _.L(xe))};
cs=function(a,b){return a.w?a.w+b.charAt(0).toUpperCase()+b.slice(1):b};fs=function(){};
gs=function(a,b,c,d,e){_.$l.call(this,hb);this.l=a;this.j=b;this.h=c;this.a=d;this.o=e;this.g=new _.K(Dd);_.R.empty(this.l)?this.g.warn(_.oc):this.Ta(_.Rd,{licenseUrl:this.l,videoRobustness:[_.Vb,void 0],audioRobustness:[_.Ub,void 0],persistentStateRequired:!1,distinctiveIdentifierRequired:!1,serverCertificate:null,modifiers:{licenseRequest:this.Md.bind(this)}});_.R.empty(this.j)?this.g.warn(_.Gb):this.Ta(_.Pd,{licenseUrl:this.j,videoRobustness:["3000"],audioRobustness:["2000"],modifiers:{licenseRequest:this.Md.bind(this)}});
_.R.empty(this.h)?this.g.warn(_.cb):_.R.empty(this.a)?this.g.warn(_.bb):this.Ta(_.Md,{licenseUrl:this.h,certificateUrl:this.a,modifiers:{licenseRequest:this.oh.bind(this),licenseResponse:this.ph.bind(this),certificateRequest:this.Md.bind(this),extractContentId:this.Eg.bind(this)}})};hs=function(){};is=function(a){var b=a.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if(typeof Event===_.qe)var c=new Event(b,a);else c=document.createEvent("Event"),c.initEvent(b,a.bubbles,a.cancelable);a.target.dispatchEvent(c)};
js=function(a){a=a.target;if(a.webkitPresentationMode===ff){document.pictureInPictureElement=a;var b=new Event("enterpictureinpicture");a.dispatchEvent(b)}else document.pictureInPictureElement===a&&(document.pictureInPictureElement=null),b=new Event("leavepictureinpicture"),a.dispatchEvent(b)};ks=function(){return this.webkitSupportsPresentationMode(ff)?(this.webkitSetPresentationMode(ff),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))};
ls=function(){var a=document.pictureInPictureElement;return a?(a.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))};ms=function(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}};ns=function(a,b,c){return new window.TextTrackCue(a,b,c)};
os=function(a,b,c){return new window.TextTrackCue(a+"-"+b+"-"+c,a,b,c)};qs=function(a,b,c){if("input"===a)switch(this.type){case "range":a=ud}ps.call(this,a,b,c)};ss=function(){this.a=rs()};ts=function(a){return rs()-a.a};us=function(a){var b=new ss;b.a=a.a;return b};rs=function(){return window.performance&&window.performance.now?window.performance.now():Date.now()};_.vs=function(a){var b=[];a=_.u(a);for(var c=a.next();!c.done;c=a.next()){c=_.u(c.value.variants);for(var d=c.next();!d.done;d=c.next())b.push(d.value)}return b};
ws=function(a){var b=void 0===b?2:b;this.a=new Uint8Array(a);this.h=b;this.f=0};xs=function(a,b){var c=a.f+b.byteLength;if(c>a.a.byteLength){var d=a.a;a.a=new Uint8Array(Math.max(Math.ceil(a.a.buffer.byteLength*a.h),c));a.a.set(d)}a.a.set(b,a.f);a.f+=b.byteLength};_.ys=function(a,b,c){this.h=a;this.j=b;this.f=c||this.h.getMedia();this.a=null};_.As=function(){this.a=new Blob([zs],{type:_.ug})};
_.Cs=function(a,b,c,d){var e,f;return _.E(function(g){if(1==g.a)return _.A(g,2),_.x(g,Bs(a,b,c,d),4);if(2!=g.a)return e=g.f,g["return"](new e);f=_.C(g);f.a(_.Q);throw f;})};
Bs=function(a,b,c,d){var e,f,g,h;return _.E(function(l){if(1==l.a){if(d){if(e=_.Ds[d.toLowerCase()])return l["return"](e);_.J("Could not determine manifest type using MIME type ",d)}if(f=_.Es(a)){if(g=_.Fs[f])return l["return"](g);_.J("Could not determine manifest type for extension ",f)}else _.J("Could not find extension for ",a);return d?l.F(2):_.x(l,Gs(a,b,c),3)}if(2!=l.a&&(d=l.f)){if(h=_.Ds[d])return l["return"](h);_.J("Could not determine manifest type using MIME type",d)}throw new _.P(_.Q,4,
4E3,{url:a});})};Gs=function(a,b,c){var d,e,f;return _.E(function(g){if(1==g.a)return d=_.rj(a),pj(d,c),d.type=1,d.method="HEAD",_.x(g,b.fetch(d).O,2);e=g.f;f=e.headers["content-type"];return g["return"](f?f.toLowerCase():"")})};_.Es=function(a){a=(new _.qi(a)).Ba.split("/").pop().split(".");return 1==a.length?"":a.pop().toLowerCase()};Hs=function(a){this.a=new Uint8Array(a||65536);this.f=0;this.h=new ss};
Js=function(a,b,c){return b.read().then(function(d){var e=d.done;d=d.value;null!=d&&(Is(a,d),uj(c,d.byteLength,ts(a.h)),a.h.a=rs());return e?(e=a.a.buffer,a.a.byteLength!==a.f&&(e=e.slice(0,a.f)),Promise.resolve(e)):Promise.resolve().then(function(){return Js(a,b,c)})})};Is=function(a,b){var c=a.f+b.byteLength;if(a.a.byteLength<c){for(var d=a.a.byteLength;d<c;)d*=2;c=new Uint8Array(d);c.set(a.a);a.a=c}a.a.set(b,a.f);a.f+=b.byteLength};
Gj=function(a){var b=a.uris[a.uriIndex],c=new Ks,d=new ss,e=us(d),f=0,g,h=new _.wj;c.open(a.method,b,!0);c.responseType="arraybuffer";c.timeout=a.timeout;c.withCredentials=a.allowCrossSiteCredentials;var l=!1,m=!1;c.onreadystatechange=function(p){p=p.target;p.readyState>=XMLHttpRequest.LOADING&&0===f&&(g=ts(e));p.readyState>=XMLHttpRequest.HEADERS_RECEIVED&&!l&&(p=p.getResponseHeader(xa),tj(a,p),l=!0)};c.onload=function(p){p=p.target;var q=(p.getAllResponseHeaders()||"").trim().split("\r\n"),t={};
q=_.u(q);for(var v=q.next();!v.done;v=q.next())v=v.value.split(": "),t[v[0].toLowerCase()]=v.slice(1).join(": ");try{var z=ts(e);m||uj(a,p.response?p.response.length:0,z);var D=_.sj(t,p.response,p.status,b,p.responseURL,a,z,g);a.rateLimitBps?vj(a.rateLimitBps,ts(e),a.bytesLoaded).then(function(){h.resolve(D)}):h.resolve(D)}catch(G){h.reject(G)}};c.onerror=function(p){p=p.target;if(0>=p.status)h.reject(new _.P(1,1,1002,{url:b,request:a,status:p.status}));else{var q=p.getAllResponseHeaders(),t={};if(q){q=
_.u(q.trim().split("\r\n"));for(var v=q.next();!v.done;v=q.next())v=v.value.split(": "),t[v[0].toLowerCase()]=v.slice(1).join(": ")}p=_.sj(t,p.response,p.status,b,p.responseURL,a,ts(e),g);h.resolve(p)}};c.ontimeout=function(){h.reject(new _.P(1,1,1003,{url:b,request:a}))};c.onprogress=function(p){var q=ts(d);d.a=rs();if(100<q||p.lengthComputable&&p.loaded===p.total)uj(a,p.loaded-f,q),f=p.loaded,m=!0};for(var n in a.headers)c.setRequestHeader(n.toLowerCase(),a.headers[n]);c.send(a.body);return{O:h,
request:a,abort:function(){c.abort();h.reject(new _.P(1,1,7001,{url:b,request:a}));return Promise.resolve()}}};Ls=function(a,b){a=void 0===a?1E6:a;b=void 0===b?!0:b;this.j=new ws(a);this.length=a;this.A=b;this.f=this.a=this.h=0;this.l=null;this.o=-1;this.w=new ss};
Ps=function(a,b,c,d){return b.read().then(function(e){var f=e.done;e=e.value;d&&e&&(d(e.byteLength,ts(a.w)),a.w.a=rs());if(f)return f=Ns(a),(f=c(!0,f))?f.then(function(){return a.j.a.buffer}):Promise.resolve(a.j.a.buffer);var g=Promise.resolve();if(null!=e){xs(a.j,e);a.a=a.h;a.f=a.j.f;a.l=new DataView(a.j.a.buffer,0,a.j.f);e=Os(a);for(f=[];e;)f.push(e),e=Os(a);if(!a.A)f.forEach(function(m){g=g.then(function(){return c(!1,m)})});else if(0<f.length){e=f[0];if(1<f.length){e=f[0];var h=f[f.length-1],
l=h.end-e.start;e={start:e.start,end:h.end,length:l,data:new DataView(a.j.a.buffer,e.start,l),count:f.length}}(f=c(!1,e))&&(g=f)}}return g.then(function(){return Ps(a,b,c,d)})})};Os=function(a){if(0<=a.o&&a.f<a.o)return null;for(var b=Qs(a);null!==b;){if(b.name===_.Ie){var c={start:a.h,end:b.end,length:b.end-a.h,data:new DataView(a.j.a.buffer,a.h,b.end-a.h),count:1};a.h=b.end;return c}b=Qs(a)}return null};
Qs=function(a){var b=a.a;if(a.a+4>=a.f)return a.a=a.f,null;var c=Rs(a);if(a.a+4>=a.f)return a.a=a.f,null;var d=Rs(a);d=String.fromCharCode(d>>24&255,d>>16&255,d>>8&255,d&255);switch(c){case 0:c=a.f-b;break;case 1:if(a.a+8>=a.f)return a.a=a.f,null;try{var e=a.l.getUint32(a.a,!1);var f=a.l.getUint32(a.a+4,!1)}catch(g){throw new _.P(_.Q,3,3E3);}if(2097151<e)throw new _.P(_.Q,3,3E3);a.a+=8;c=e*Math.pow(2,32)+f}c=b+c;a.o=c;return a.f>=c?(a.a=c,{name:d,start:b,end:c}):null};
Rs=function(a){var b=a.l.getUint32(a.a,!1);a.a+=4;return b};Ns=function(a){var b=null;a.h!==a.f&&(b={start:a.h,end:a.f,length:a.f-a.h,data:new DataView(a.j.a.buffer,a.h,a.f-a.h),count:-1});return b};Ts=function(a){_.xj.call(this,new _.wj,function(){return Promise.resolve()});this.B=a;this.h=null;this.w=this.O;this.f=-1;this.j=this.l=this.o=null;Ss(this)};Us=function(a,b,c){a.o=setTimeout(b,c)};
Ss=function(a){a.h=a.B.then(function(e){a.j=e.request;e.request.uriIndex=e.request.currentAttempt%e.request.uris.length;if(0<e.request.currentAttempt){-1===a.f&&(a.f=Vs(e.request.baseDelay,1E3));var f=a.f*(1+(2*Math.random()-1)*Vs(e.request.fuzzFactor,.5));a.f*=Vs(e.request.backoffFactor,2);if(0<f)return(new Promise(function(g,h){a.l=h;Us(a,function(){g(e.plugin(e.request))},f)}))["catch"](function(g){if(!a.a)throw g;})}if(a.a)throw new _.P(1,1,7001,{url:e.request.uris[e.request.uriIndex],request:e.request});
return e.plugin(e.request)});var b=0,c=0,d=0;return a.h.then(function(e){var f=e.request;f.currentAttempt+=1;b=f.currentAttempt;c=f.maxAttempts;d=f.uris.length;return e.O}).then(function(e){a.w.resolve(e)})["catch"](function(e){if(e instanceof _.P){var f=b<d,g=7001!==e.code,h=b<c;if((1===e.severity||f)&&g&&h)return Ss(a);g&&e.a(_.Q);a.w.reject(e)}else a.w.reject(e)})};Vs=function(a,b){return null===a||void 0===a?b:a};_.Xs=function(a){this.a=!1;this.h=a;this.j=Ws(this);this.h.hd(this.j);this.f=null};
Ws=function(a){return function(b){if(a.a&&(b=_.N.lk(b.headers))){try{var c=new Map,d=b.split(";");for(b=0;b<d.length;b++){var e=Ys(d[b]),f=e.key,g=e.value;Object.values(Zs).includes(f)&&c.set(f,g)}var h=c}catch(l){$s.error("CmsdManager parseCmsdDynamicHeader_ failed:",l),h=null}a.f=h}}};
Ys=function(a){var b=a.split("\x3d"),c=b[0];b=b[1];if(!c)throw new ki("Parsing CMSD, missing parameter or wrong format");if(c&&!b)return{key:c,value:!0};var d=b[0];if('"'===d&&'"'===b[b.length-1])return{key:c,value:b.replaceAll(/(^")|("$)/g,"")};if(/^[-0-9]/.test(d))return{key:c,value:parseInt(b,10)};if(/^[a-zA-Z*]/.test(d))return{key:c,value:b};throw new ki("Parsing CMSD, not recognized value type of "+a);};
Hj=function(a){var b=new at,c;for(c in a.headers)b.append(c.toLowerCase(),a.headers[c]);var d=new bt,e={nd:!1,Qh:!1};b={O:ct(a.uris[a.uriIndex],a,{body:a.body||void 0,headers:b,method:a.method,signal:d.signal,credentials:a.allowCrossSiteCredentials?"include":void 0},e),request:a,abort:function(){e.nd||(e.nd=!0,d.abort());return Promise.resolve()}};if(a=a.timeout){var f=window.setTimeout(function(){e.Qh=!0;d.abort()},a);b.O=b.O["finally"](function(){window.clearTimeout(f)})}return b};
ct=function(a,b,c,d){var e,f,g,h,l,m,n,p,q,t,v,z,D,G,F,B;return _.E(function(I){switch(I.a){case 1:return e=dt,l=new ss,m=us(l),_.A(I,2),_.x(I,e(a,c),4);case 4:f=I.f;h=ts(l);n=f.headers.get(xa);tj(b,n);p=n?parseInt(n,10):0;if(b.onFragment&&!b.disableFragmentSupport&&2===b.type)return v=f.body.getReader(),z=new Ls(p,!b.disableMergedFragments),D=function(O,M){if(d.nd)return null;M&&M.data&&(uj(b,M.data.byteLength,ts(l)),l.a=rs());return b.onFragment&&M?b.rateLimitBps?vj(b.rateLimitBps,ts(m),b.bytesLoaded).then(function(){return b.onFragment(M)}):
b.onFragment(M):null},_.x(I,Ps(z,v,D,b.onProgress),10);q=f.body.getReader();t=new Hs(p);return _.x(I,Js(t,q,b),7);case 7:g=I.f;if(!b.rateLimitBps){I.F(6);break}return _.x(I,vj(b.rateLimitBps,ts(m),g.byteLength),6);case 10:g=I.f;case 6:_.ah(I,3);break;case 2:G=_.C(I);if(d.nd)throw new _.P(1,1,7001,{url:a,request:b});if(d.Qh)throw new _.P(1,1,1003,{url:a,request:b});_.uh("Error while fetching data:",G);throw new _.P(1,1,1002,{url:a,error:G,request:b,status:-1},G);case 3:F={};B=f.headers;B.forEach(function(O,
M){F[M.trim()]=O});if(d.nd)throw new _.P(1,1,7001,{url:a,request:b});return I["return"](_.sj(F,g,f.status,a,f.url,b,ts(m),h))}})};Cj=function(a){try{var b=a.uris[a.uriIndex],c=_.et(b);return{O:Promise.resolve({uri:b,data:c.data,request:a,headers:{"content-type":c.contentType}}),request:a,abort:function(){return Promise.resolve()}}}catch(d){return{O:Promise.reject(d),request:a,abort:function(){return Promise.resolve()}}}};
_.et=function(a){var b=a.split(":");if(2>b.length||"data"!==b[0])throw _.uh("Bad data URI, failed to parse scheme"),new _.P(_.Q,1,1004,{uri:a});b=b.slice(1).join(":").split(",");if(2>b.length)throw _.uh("Bad data URI, failed to extract encoding and MIME type"),new _.P(_.Q,1,1004,{uri:a});var c=b[0];a=window.decodeURIComponent(b.slice(1).join(","));b=c.split(";");c=b[0];var d=!1;1<b.length&&"base64"===b[b.length-1]&&(d=!0,b.pop());return{data:d?_.fj(a).buffer:_.R.Va(a).buffer,contentType:c}};
_.gt=function(a){delete _.ft[a]};
_.ht=function(a){a=a.getConfiguration();a=_.N.Oa(a.textStyle||a.textstyle||{});this.K=typeof a.backgroundColor===_.Wf?a.backgroundColor:null;this.V=typeof a.windowColor===_.Wf?a.windowColor:null;this.P=typeof a.fontColor===_.Wf?a.fontColor:null;this.T=typeof a.fontFamily===_.Wf?a.fontFamily:null;this.I=typeof a.fontSize===_.Wf?a.fontSize:null;this.B=typeof a.fontSizePercent===_.k?a.fontSizePercent:null;this.H=typeof a.edgeColor===_.Wf?a.edgeColor:"rgba(0, 0, 0, 1)";this.o=null;typeof a.edgeType===
_.Wf&&(this.o=a.edgeType)};_.mt=function(a){if(!a.o)return null;var b=a.H;switch(a.o){case it:return"-2px -2px 0 "+b+", -1px -1px 0 "+b;case jt:return"2px 2px 0 "+b+", 1px 1px 0 "+b;case kt:return"-1px 0 "+b+", 0 1px "+b+", 1px 0 "+b+", 0 -1px "+b;case lt:return"2px 2px 3px "+b+", 2px 2px 4px "+b+", 2px 2px 5px "+b;default:return _.Se}};nt=function(a){this.f=a;this.a=null;this.g=new _.K("clpp.text.Mp4TextParser")};
_.pt=function(a){_.ht.call(this,a);this.l=a.getSurface().getMedia();this.f="clpp-video-"+ot++;this.h=document.createElement(_.Yf);this.j=this.w=!1;_.rp(this.l,this.f);document.head.appendChild(this.h);this.ub()};qt=function(){};_.rt=function(){};_.Lg=[];Pg=typeof Object.create==_.qe?Object.create:function(a){function b(){}b.prototype=a;return new b};
if(typeof Object.setPrototypeOf==_.qe)st=Object.setPrototypeOf;else{var tt;a:{var Dt={ci:!0},Lt={};try{Lt.__proto__=Dt;tt=Lt.ci;break a}catch(a){}tt=!1}st=tt?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var Qg=st,Ug=typeof Object.defineProperties==_.qe?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},Sg="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;Vg.prototype.toString=function(){return this.a};var Tg=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new Vg("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}();
Yg.prototype.A=function(a){this.f=a};Yg.prototype["return"]=function(a){this.h={"return":a};this.a=this.l};Yg.prototype.F=function(a){this.a=a};
jh("Promise",function(a){function b(g){this.f=0;this.l=void 0;this.a=[];var h=this.j();try{g(h.resolve,h.reject)}catch(l){h.reject(l)}}function c(){this.a=null}function d(g){return g instanceof b?g:new b(function(h){h(g)})}if(a)return a;c.prototype.f=function(g){if(null==this.a){this.a=[];var h=this;this.h(function(){h.l()})}this.a.push(g)};var e=Sg.setTimeout;c.prototype.h=function(g){e(g,0)};c.prototype.l=function(){for(;this.a&&this.a.length;){var g=this.a;this.a=[];for(var h=0;h<g.length;++h){var l=
g[h];g[h]=null;try{l()}catch(m){this.j(m)}}}this.a=null};c.prototype.j=function(g){this.h(function(){throw g;})};b.prototype.j=function(){function g(m){return function(n){l||(l=!0,m.call(h,n))}}var h=this,l=!1;return{resolve:g(this.C),reject:g(this.h)}};b.prototype.C=function(g){if(g===this)this.h(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof b)this.G(g);else{a:switch(typeof g){case _.Te:var h=null!=g;break a;case _.qe:h=!0;break a;default:h=!1}h?this.B(g):this.o(g)}};
b.prototype.B=function(g){var h=void 0;try{h=g.then}catch(l){this.h(l);return}typeof h==_.qe?this.H(h,g):this.o(g)};b.prototype.h=function(g){this.w(2,g)};b.prototype.o=function(g){this.w(1,g)};b.prototype.w=function(g,h){if(0!=this.f)throw Error("Cannot settle("+g+", "+h+"): Promise already settled in state"+this.f);this.f=g;this.l=h;this.A()};b.prototype.A=function(){if(null!=this.a){for(var g=0;g<this.a.length;++g)f.f(this.a[g]);this.a=null}};var f=new c;b.prototype.G=function(g){var h=this.j();
g.Yd(h.resolve,h.reject)};b.prototype.H=function(g,h){var l=this.j();try{g.call(h,l.resolve,l.reject)}catch(m){l.reject(m)}};b.prototype.then=function(g,h){function l(q,t){return typeof q==_.qe?function(v){try{m(q(v))}catch(z){n(z)}}:t}var m,n,p=new b(function(q,t){m=q;n=t});this.Yd(l(g,m),l(h,n));return p};b.prototype["catch"]=function(g){return this.then(void 0,g)};b.prototype.Yd=function(g,h){function l(){switch(m.f){case 1:g(m.l);break;case 2:h(m.l);break;default:throw Error("Unexpected state: "+
m.f);}}var m=this;null==this.a?f.f(l):this.a.push(l)};b.resolve=d;b.reject=function(g){return new b(function(h,l){l(g)})};b.race=function(g){return new b(function(h,l){for(var m=_.u(g),n=m.next();!n.done;n=m.next())d(n.value).Yd(h,l)})};b.all=function(g){var h=_.u(g),l=h.next();return l.done?d([]):new b(function(m,n){function p(v){return function(z){q[v]=z;t--;0==t&&m(q)}}var q=[],t=0;do q.push(void 0),t++,d(l.value).Yd(p(q.length-1),n),l=h.next();while(!l.done)})};return b});var lh=this||self;
lh.a=!0;_.N={$h:20,Oa:function(a){var b=_.N.R,c=_.N.dh,d=_.N.oa;return b(a)||c(a)?a:d(a)}};_.H("clpp.utils.obj.cloneItem",_.N.Oa);_.N.oa=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];c={};for(var d=0;d<b.length;d++)null!=b[d]&&(c=_.N.gh(c,{merging:b[d]},1));return c.merging||null};_.H("clpp.utils.obj.merge",_.N.oa);_.N.Cd=function(a){for(var b in a)if(void 0!==a[b])return!0;return!1};
_.N.gh=function(a,b,c){var d=_.N.R,e=_.N.dh,f=_.N.gh,g=_.N.rb,h=_.N.Dk,l=_.N.bh,m=_.N.zk,n=_.N.Wc;c+=1;if(d(a)||!n(a))a={};for(var p in b)n=b[p],e(n)||d(n)||g(n)||m(n)?a[p]=n:h(n)?a[p]=n.subarray(0):n instanceof Array?a[p]=f([],n,c):!d(n)&&l(n)&&c<_.N.$h&&(a[p]=f(a[p],n,c));return a};_.N.dh=function(a){a=typeof a;return a===_.Wf||a===_.k||a===_.hd};_.N.zk=function(a){return a instanceof Element};_.N.R=function(a){return null===a||"undefined"===typeof a};_.N.Wc=function(a){return typeof a===_.Te};
_.N.rb=function(a){return typeof a===_.qe};_.N.$=function(a){return typeof a===_.Wf};_.N.na=function(a){return typeof a===_.k};_.N.Zg=function(a){return typeof a===_.hd};_.N.bh=function(a){var b=_.N.Wc,c=_.N.R;if(c(a)||!b(a))return!1;a=Object.getPrototypeOf(a);return a===Object.prototype||null===a};_.N.Dk=function(a){var b=_.N.Wc,c=_.N.rb;return!!(b(a)&&a.buffer&&a.buffer instanceof ArrayBuffer&&c(a.subarray))};
_.N.ta=function(a,b,c,d){if(a===b||null===a&&null===b||void 0===a&&void 0===b)return!0;if(null===a&&null!==b||null!==a&&null===b||void 0!==a&&void 0===b||void 0===a&&void 0!==b||!_.N.Wc(a)||!_.N.Wc(b))return!1;for(var e=c||Object.keys(a),f={},g=0;g<e.length;g++){var h=e[g];if(_.N.R(d)||0>d.indexOf(h))if(f[h]=!0,a[h]!==b[h])return!1}if(_.N.R(c))for(a=Object.keys(b),b=0;b<a.length;b++)if(c=a[b],(_.N.R(d)||0>d.indexOf(c))&&!f[c])return!1;return!0};
_.N.isNaN=function(a){return(Number.hasOwnProperty("isNaN")?Number.isNaN:function(b){return b!==b})(a)};_.N.Ak=function(a,b,c){return a>=b&&a<=c};_.N.Yf=function(a){for(var b=new Map,c=_.u(Object.keys(a)),d=c.next();!d.done;d=c.next())d=d.value,b.set(d,a[d]);return b};_.N.Zf=function(a){var b={};a.forEach(function(c,d){b[d]=c});return b};_.N.lk=function(a){a=_.u(Object.entries(a));for(var b=a.next();!b.done;b=a.next()){var c=_.u(b.value);b=c.next().value;c=c.next().value;if("cmsd-dynamic"===b.toLowerCase())return c}return null};var ph={DEFAULT:-1,NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};_.H("clpp.log.Level",ph);var nh=3,mh={},Mt=[];_.H("clpp.log.getLoggers",function(){return _.N.Oa(mh)});_.H("clpp.log.addInterceptor",function(a){a&&Mt.push(a)});_.H("clpp.log.removeInterceptor",function(a){a&&(a=Mt.indexOf(a),0<=a&&Mt.splice(a,1))});_.H("clpp.log.getTagLevel",oh);_.H("clpp.log.hasTagLevel",function(a){return void 0===a?!1:0<=mh[a]});_.H("clpp.log.setTagLevel",function(a,b){a&&(_.N.$(b)&&(b=qh(b)),mh[a]=b)});
_.H("clpp.log.setLogLevel",function(a){-1===a&&(a=3);_.N.$(a)&&(a=qh(a));nh=a});_.H("clpp.log.getLogLevel",function(){return nh});_.r=_.K.prototype;
_.r.log=function(a,b){if(window.console){if(1<arguments.length){var c=arguments[0];Array.prototype.shift.call(arguments)}else c=3;var d=oh(this.tag);if(0<=d){if(d<c)return}else if(nh<c)return;this.tag&&Array.prototype.unshift.call(arguments,"["+this.tag+"]");d=new Date;d.toISOString&&(d=d.toISOString().substring(11).replace("Z",""),Array.prototype.unshift.call(arguments,d));4===c?console.log.apply(console,arguments):3===c?console.info.apply(console,arguments):2===c?console.warn.apply(console,arguments):
1===c?console.error.apply(console,arguments):console.log.apply(console,arguments);d=_.u(Mt);for(var e=d.next();!e.done;e=d.next())e=e.value,e.call(e,c,arguments)}};_.r.info=function(a){Array.prototype.unshift.call(arguments,3);this.log.apply(this,arguments)};_.r.debug=function(a){Array.prototype.unshift.call(arguments,4);this.log.apply(this,arguments)};_.r.warn=function(a){Array.prototype.unshift.call(arguments,2);this.log.apply(this,arguments)};
_.r.error=function(a){Array.prototype.unshift.call(arguments,1);this.log.apply(this,arguments)};_.r.Ej=function(a){return a?this.tag?new _.K(this.tag+"."+a):new _.K(a):this};_.H("clpp.log.Logger",_.K);_.K.prototype.createChild=_.K.prototype.Ej;_.K.prototype.error=_.K.prototype.error;_.K.prototype.warn=_.K.prototype.warn;_.K.prototype.debug=_.K.prototype.debug;_.K.prototype.info=_.K.prototype.info;_.K.prototype.log=_.K.prototype.log;var rh=new _.K("clpp");_.H("clpp.log.info",_.sh);
_.H("clpp.log.debug",_.th);_.H("clpp.log.warn",_.J);_.H("clpp.log.error",_.uh);(function(){var a=console.assert;a?a.bind||(console.assert=function(){a.apply(console,arguments)}):console.assert=function(){}})();_.yh=new _.K("clpp.players");_.xh={};_.r=_.Bh.prototype;_.r.push=function(a,b){a in this.a?this.a[a].push(b):this.a[a]=[b]};_.r.get=function(a){return(a=this.a[a])?a.slice():[]};_.r.remove=function(a,b){var c=this.a[a];if(!c)return!1;for(var d=!1,e=0;e<c.length;++e)c[e]==b&&(c.splice(e,1),--e,d=!0);return d};_.r.clear=function(){this.a={}};_.r.forEach=function(a){for(var b in this.a)a(b,this.a[b])};Ch.prototype.dc=function(a){try{this.Lc.handleEvent?this.Lc.handleEvent(a):this.Lc.call(this.a,a)}catch(b){_.uh("clpp","Uncaught exception in event handler for event '"+this.f+"'",b,b?b.message:null,b?b.stack:null)}};_.L.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)};_.L.prototype.stopImmediatePropagation=function(){this.f=!0};_.L.prototype.stopPropagation=function(){};_.r=Dh.prototype;
_.r.trigger=function(a){var b=this.a.get(a.type);if(b)for(var c=0;c<b.length&&(a.target=this.f,a.currentTarget=this.f,b[c].dc(a),b[c].bm&&this.a.remove(a.type,b[c]),!a||!a.f);c++);};_.r.on=function(a,b,c){this.a.push(a,new Ch(a,b,c||this.f));return b};_.r.one=function(a,b,c){this.a.push(a,new Ch(a,b,c||this.f,!0));return b};_.r.off=function(a,b){var c=this.a.get(a),d=!1;if(c)for(var e=0;e<c.length;e++)c[e].Lc===b&&(d=this.a.remove(a,c[e])||d);return d};_.r.clear=function(){this.a.clear()};_.Eh.prototype.release=function(){_.Hh(this)};_.Eh.prototype.on=function(a,b,c,d){a=new Ih(a,b,c,void 0===d?!1:d);this.a.push(b,a)};_.Eh.prototype.one=function(a,b,c){function d(f){e.off(a,b,d);return c(f)}var e=this;this.on(a,b,d)};_.Eh.prototype.off=function(a,b,c){for(var d=this.a.get(b)||[],e=0;e<d.length;++e){var f=d[e];f.target!=a||c!=f.a&&c||(Gh(f),this.a.remove(b,f))}};Jh.prototype.release=function(){this.f.release();this.h=[];this.a=null};Jh.prototype.destroy=function(){var a=this;return _.E(function(b){a.release();a.l=null;a.j=null;_.y(b)})};Jh.prototype.getTimelineCues=function(){return this.h};_.di.prototype.ta=function(a){return this.payload===a.payload&&this.startTime===a.startTime&&this.endTime===a.endTime&&this.payloadType===a.payloadType};_.H("clpp.text.Cue",_.di);_.di.positionAlign={LEFT:_.Ce,RIGHT:_.De,CENTER:_.sd,AUTO:"auto"};_.Yh=_.bg;_.di.payloadType={TEXT:_.Yh,VTT_XML:_.zg,TTML_XML:_.gg};_.Zh=_.sd;_.Nt={LEFT:_.ye,RIGHT:_.Kf,CENTER:_.Zh,START:_.ye,END:_.Kf};_.di.textAlign=_.Nt;var ci="ltr";_.di.direction={HORIZONTAL_LEFT_TO_RIGHT:ci,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};_.$h="horizontal-tb";
_.di.writingMode={HORIZONTAL_TOP_TO_BOTTOM:_.$h,VERTICAL_LEFT_TO_RIGHT:_.qg,VERTICAL_RIGHT_TO_LEFT:_.rg};_.ai=0;_.di.lineInterpretation={LINE_NUMBER:_.ai,PERCENTAGE:1};_.bi=_.Sf;_.Ot={CENTER:_.sd,START:_.bi,END:_.le};_.di.lineAlign=_.Ot;_.H("clpp.text.CueRegion",_.gi);_.ei=1;_.gi.units={PX:0,PERCENTAGE:_.ei,LINES:2};var fi="";_.gi.scrollMode={NONE:fi,UP:"up"};_.gi.displayAlign={BEFORE:"flex-end",CENTER:_.sd,AFTER:"flex-start"};
_.gi.writingMode={HORIZONTAL_TOP_TO_BOTTOM:_.Kd,VERTICAL_LEFT_TO_RIGHT:"row-reverse",VERTICAL_RIGHT_TO_LEFT:"row"};hi.prototype.destroy=function(){this.a.release();this.j=!1;this.l=this.a=this.h=this.f=null;return Promise.resolve()};hi.prototype.start=function(a){var b=this;this.j?this.g.warn("Already started. Ignoring request..."):(this.j=!0,this.h=a,this.f=this.h.textTracks,this.a.on(this.f,_.Kc,function(c){return ii(b,c)}),this.a.on(this.f,ud,function(){for(var c=b.f,d=0;d<c.length;d++){var e=c[d];e.mode===_.Nf&&(e.mode=_.se)}}))};
hi.prototype.o=function(a){var b=new _.di(a.startTime,a.endTime,a.text,_.zg);if(_.N.$(a.vertical))switch(a.vertical){case "lr":b.writingMode=_.qg;break;case "rl":b.writingMode=_.rg}_.N.na(a.size)&&(b.size=a.size);if(_.N.$(a.align))switch(a.align){case _.ye:case _.Sf:b.textAlign=_.ye;break;case _.sd:b.textAlign=_.Zh;break;case _.Kf:case _.le:b.textAlign=_.Kf}_.N.na(a.position)&&(b.position=a.position);if(_.N.$(a.positionAlign))switch(a.positionAlign){case _.Ce:b.positionAlign=_.Ce;break;case _.sd:b.positionAlign=
_.sd;break;case _.De:b.positionAlign=_.De}_.N.na(a.line)&&(b.line=a.line);if(_.N.$(a.lineAlign))switch(a.lineAlign){case _.Sf:b.lineAlign=_.bi;break;case _.sd:b.lineAlign=_.sd;break;case _.le:b.lineAlign=_.le}_.N.Zg(a.snapToLines)&&(b.lineInterpretation=a.snapToLines?_.ai:1);return b};_.w(_.P,Error);_.P.prototype.a=function(a){this.severity!==a&&(this.severity=a,this.message=ji(this.severity,this.category,this.code,this.data))};_.P.prototype.toString=function(){var a=this.message;this.cause&&(a+="\n Caused by "+this.cause);return a};_.H("clpp.Error",_.P);_.Q=2;_.P.Severity={RECOVERABLE:1,FATAL:_.Q};_.P.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,PLUGIN:9,ADS:10};
_.P.Code={UNSUPPORTED_SCHEME:1E3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_MODIFIER_ERROR:1006,RESPONSE_MODIFIER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2E3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,FETCH_OR_APPEND_ERROR:2010,INVALID_MP4:2011,
TEXT_PARSER_MISSING:2012,THUMBNAILS_FAILED_TO_LOAD:2013,THUMBNAIL_ERROR:2014,BUFFER_READ_OUT_OF_BOUNDS:3E3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,
MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,MP4_PARSER_ERROR:3019,MEDIA_LOAD_ERROR:3100,INVALID_TRACK_TYPE:3101,UNKNOWN_TRACK:3102,MEDIA_DECRYPTION_ERROR:3103,PLAY_NOT_ALLOWED:3200,UNABLE_TO_GUESS_MANIFEST_TYPE:4E3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,
DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,
DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,SMOOTH_INVALID_MANIFEST_XML:4033,SMOOTH_EMPTY_PRESENTATION:4034,SMOOTH_MEDIA_PROCESSING_ERROR:4035,SMOOTH_INVALID_VERSION:4036,SMOOTH_INVALID_FRAGMENT_METADATA:4037,SMOOTH_REQUIRED_ATTRIBUTE_MISSING:4038,SMOOTH_TRUNCATED_MEDIA_FILE:4039,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4040,HLS_MSE_ENCRYPTED_TS_NOT_SUPPORTED:4041,HLS_PLAYLIST_NOT_UTF8:4042,HLS_PLAYLIST_EMPTY:4043,HLS_INVALID_VALUE:4044,
HLS_DISCONTINUITY_NOT_SUPPORTED:4045,HLS_UNSUPPORTED_FEATURE:4046,HLS_INCOMPATIBLE_PLAYLIST_UPDATE:4047,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6E3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,
EXPIRED:6014,REQUESTED_DRM_ENVIRONMENT_UNAVAILABLE:6015,INIT_DATA_TRANSFORM_ERROR:6016,CERTIFICATE_REQUEST_FAILED:6100,NO_CONTENT_ID:6101,SERVER_CERTIFICATE_REQUIRED:6102,EXTRACT_CONTENT_ID_MODIFIER_ERROR:6103,FAILED_TO_PERSIST_SESSION:6200,FAILED_TO_REMOVE_SESSION:6201,INVALID_SESSION_STORAGE_IMPLEMENTATION:6202,LOAD_INTERRUPTED:7E3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CANNOT_LOAD_SOURCE:7003,MEDIA_ELEMENT_NOT_FOUND:7004,INVALID_MEDIA_ELEMENT:7005,INVALID_CONTAINER_ELEMENT:7006,INVALID_CONFIGURATION:7100,
INVALID_LICENSE:7101,NO_ELEMENT:7102,USER_ID_NOT_PROVIDED:7103,KEY_LOAD_ERROR:7104,TIZEN_INTERNAL_ERROR:7200,CAF_INTERNAL_ERROR:7300,INTERNAL_CAST_ERROR:8E3,CAST_API_NOT_READY:8001,NO_RECEIVERS_AVAILABLE:8002,ALREADY_CASTING:8003,NO_CAST_SESSION:8004,CONVIVA_SDK_NOT_LOADED:9E3,CONVIVA_INVALID_CONFIGURATION:9001,CONVIVA_RUNTIME_ERROR:9002,GL_CONTEXT_ERROR:9003,GL_SHADER_ERROR:9004,YOUBORA_SDK_MISSING:9100,YOUBORA_INVALID_CONFIGURATION:9101,YOUBORA_SDK_VERSION_NOT_SUPPORTED:9102,VIMOND_INVALID_CONFIGURATION:9200,
VIMOND_SESSION_ERROR:9201,MUXDATA_INVALID_CONFIGURATION:9300,MUX_SDK_MISSING:9301,MUXDATA_INIT_ERROR:9302,IMA_SDK_MISSING:1E4,IMA_INVALID_CONFIGURATION:10001,IMA_UNSUPPORTED_PLATFORM:10002,AD_ERROR:10003,SIMID_CONTAINER_MISSING:10100,BROADPEAK_SDK_MISSING:11E3,BROADPEAK_SESSION_ERROR:11001,FREEWHEEL_SDK_MISSING:12E3,FREEWHEEL_INVALID_CONFIGURATION:12001,CONTENT_TRANSFORMATION_FAILED:14E3};_.w(ki,Error);var vi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;_.r=_.qi.prototype;_.r.fb="";_.r.zc="";_.r.Pa="";_.r.bd=null;_.r.Ba="";_.r.lc="";_.r.toString=function(){var a=[],b=this.fb;b&&a.push(yi(b,Pt,!0),":");if(b=this.Pa){a.push("//");var c=this.zc;c&&a.push(yi(c,Pt,!0),"@");a.push(encodeURIComponent(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.bd;null!=b&&a.push(":",String(b))}if(b=this.Ba)this.Pa&&"/"!=b.charAt(0)&&a.push("/"),a.push(yi(b,"/"==b.charAt(0)?Qt:Rt,!0));(b=this.a.toString())&&a.push("?",b);(b=this.lc)&&a.push("#",yi(b,St));return a.join("")};
_.r.resolve=function(a){var b=new _.qi(this);"data"===b.fb&&(b=new _.qi);var c=!!a.fb;c?ri(b,a.fb):c=!!a.zc;c?b.zc=a.zc:c=!!a.Pa;c?b.Pa=a.Pa:c=null!=a.bd;var d=a.Ba;if(c)si(b,a.bd);else if(c=!!a.Ba){if("/"!=d.charAt(0))if(this.Pa&&!this.Ba)d="/"+d;else{var e=b.Ba.lastIndexOf("/");-1!=e&&(d=b.Ba.substr(0,e+1)+d)}if(".."==d||"."==d)d="";else if(-1!=d.indexOf("./")||-1!=d.indexOf("/.")){e=0==d.lastIndexOf("/",0);d=d.split("/");for(var f=[],g=0;g<d.length;){var h=d[g++];"."==h?e&&g==d.length&&f.push(""):
".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),e&&g==d.length&&f.push("")):(f.push(h),e=!0)}d=f.join("/")}}c?b.Ba=d:c=""!==a.a.toString();c?_.ti(b,ui(a.a)):c=!!a.lc;c&&(b.lc=a.lc);return b};var Pt=/[#\/\?@]/g,Rt=/[#\?:]/g,Qt=/[#\?]/g,zi=/[#\?@]/g,St=/#/g;_.xi.prototype.a=null;_.xi.prototype.h=null;
_.xi.prototype.add=function(a,b){if(!this.a&&(this.a={},this.h=0,this.f))for(var c=this.f.split("\x26"),d=0;d<c.length;d++){var e=c[d].indexOf("\x3d"),f=null;if(0<=e){var g=c[d].substring(0,e);f=c[d].substring(e+1)}else g=c[d];g=decodeURIComponent(g.replace(/\+/g," "));f=f||"";this.add(g,decodeURIComponent(f.replace(/\+/g," ")))}this.f=null;(c=this.a.hasOwnProperty(a)&&this.a[a])||(this.a[a]=c=[]);c.push(b);null!==this.h&&this.h++;return this};
_.xi.prototype.toString=function(){if(this.f)return this.f;if(!this.a)return"";var a=[],b;for(b in this.a)for(var c=encodeURIComponent(b),d=this.a[b],e=0;e<d.length;e++){var f=c;""!==d[e]&&(f+="\x3d"+encodeURIComponent(d[e]));a.push(f)}return this.f=a.join("\x26")};_.fp={VIDEO:_.sg,AUDIO:_.$c,TEXT:_.bg,Dm:_.Rc,IMAGE:_.ue,bi:_.Zf};_.Tt=1/15;var Ci={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]};_.Fi={text:{mp4:Uc,m4s:Uc,m4i:Uc,cmft:Uc,vtt:_.cg,ttml:_.Xc},video:{mp4:_.ug,m4s:_.ug,m4i:_.ug,m4v:_.ug,cmfv:_.ug,ts:_.tg},audio:{mp4:_.dd,m4s:_.dd,m4i:_.dd,m4a:_.dd,cmfa:_.dd,ts:_.tg,aac:_.ad,ec3:_.cd,ac3:_.bd},image:{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}};_.Hi.prototype.toString=function(){function a(d){return d.name+"\x3d"+(isNaN(Number(d.value))?'"'+d.value+'"':d.value)}var b="#"+this.name,c=this.attributes?this.attributes.map(a):[];this.value&&c.unshift(this.value);0<c.length&&(b+=":"+c.join(","));return b};_.Hi.prototype.getAttribute=function(a){var b=this.attributes.filter(function(c){return c.name==a});return b.length?b[0]:null};_.Li.prototype.getPosition=function(){return this.position};_.Li.prototype.f=Mg(0);_.w(_.Mi,_.Li);var Pi=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze",
"cs"],["dan","da"],["deu","de"],[_.Yd,"dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice",
"is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao",
"mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san",
"sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie",
"vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);var Vi=function Ut(a){var c;return _.ih(Ut,function(d){1==d.a&&(c=0);if(3!=d.a)return c<a?_.x(d,c,3):d.F(0);c++;return d.F(2)})};_.H("clpp.utils.BufferUtils",Si);Si.toArrayBuffer=bj;Si.toDataView=_.aj;Si.toInt32Array=_.$i;Si.toUint32Array=Zi;Si.toUint16Array=Yi;Si.toUint8Array=_.Ui;Si.equal=Wi;_.R={};_.R.Xc=new _.K("clpp.utils.strings");_.R.Zh=16E3;_.R.fromCharCode=function(a){for(var b=_.R.Zh,c="",d=0;d<a.length;d+=b)c+=String.fromCharCode.apply(null,a.subarray(d,d+b));return c};_.R.Z=function(a){if(!a)return"";a=_.Ui(a);239===a[0]&&187===a[1]&&191===a[2]&&(a=a.subarray(3));if("TextDecoder"in window){a=(new TextDecoder).decode(a);if(a.includes("\ufffd"))throw Error($a);return a}a=escape(_.R.fromCharCode(a));try{return decodeURIComponent(a)}catch(b){throw Error($a);}};
_.H("clpp.utils.strings.fromUtf8",_.R.Z);
_.R.mc=function(a,b,c){if(!a)return"";var d=_.R.Xc;if(!c&&0!==a.byteLength%2)throw d.error("Data has an incorrect length, must be even."),Error("Data does not seem to be UTF-16 encoded!");c=_.Ui(a);if(b&&255===c[0]&&254===c[1]||254===c[0]&&255===c[1])a=c.subarray(2);a instanceof ArrayBuffer?d=a:(c=new Uint8Array(a.byteLength),c.set(_.Ui(a)),d=c.buffer);a=Math.floor(a.byteLength/2);c=new Uint16Array(a);d=new DataView(d);for(var e=0;e<a;e++)c[e]=d.getUint16(2*e,b);return _.R.fromCharCode(c)};
_.R.yd=function(a,b){if(_.N.$(a))return a;var c="",d=!!b,e=_.Ui(a);239==e[0]&&187==e[1]&&191==e[2]?c=_.R.Z(e):254==e[0]&&255==e[1]?c=_.R.mc(e.subarray(2),!1):255==e[0]&&254==e[1]&&(c=_.R.mc(e.subarray(2),!0));var f=function(g,h){return g.byteLength<=h||32<=g[h]&&126>=g[h]}.bind(null,e);_.R.Xc.debug("Unable to find byte-order-mark, making an educated guess.");0==e[0]&&0==e[2]?c=_.R.mc(a,!1):0==e[1]&&0==e[3]?c=_.R.mc(a,!0):f(0)&&f(1)&&f(2)&&f(3)&&(c=_.R.Z(a));if(c)return d&&(c=escape(c)),c;throw Error("Unable to detect text encoding");
};_.H("clpp.utils.strings.fromBytesAutoDetect",_.R.yd);_.R.Va=function(a){if("TextEncoder"in window)return(new TextEncoder).encode(a);a=encodeURIComponent(a);a=unescape(a);for(var b=new Uint8Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b};_.H("clpp.utils.strings.toUtf8",_.R.Va);_.R.Ce=function(a,b){for(var c=new Uint8Array(2*a.length),d=new DataView(c.buffer),e=0;e<a.length;++e)d.setUint16(2*e,a.charCodeAt(e),b);return c.buffer};_.H("clpp.utils.strings.toUtf16",_.R.Ce);
_.R.ed=function(a,b){var c=b||1,d=a.length,e=new ArrayBuffer(d*c),f;4===c?f=Zi(e):2===c?f=Yi(e):f=_.Ui(e);for(c=0;c<d;c++)f[c]=a.charCodeAt(c);return e};_.H("clpp.utils.strings.toByteArray",_.R.ed);_.R.startsWith=function(a,b){return String.prototype.startsWith?a.startsWith(b):0===a.indexOf(b)};_.H("clpp.utils.strings.startsWith",_.R.startsWith);_.R.endsWith=function(a,b){if(String.prototype.endsWith)return a.endsWith(b);var c=a.length-b.length,d=a.lastIndexOf(b,c);return-1!==d&&d===c};
_.H("clpp.utils.strings.endsWith",_.R.endsWith);_.R.ue=function(a){return!!(a&&0<a.length)};_.R.empty=function(a){return!a||0===a.length};_.R.Xm=function(a){return a.replace(/([A-Z])/g,"-$1").toLowerCase()};_.R.$m=function(a){return a.replace(/-(\w)/g,function(b,c){return c.toUpperCase()})};
_.R.Re=function(a){if(void 0===a||null===a||""===a)return"";try{var b=Number(a);if(_.N.isNaN(b))return"";a="bps";1E3<=Math.abs(b)&&(a="Kbps",b/=1E3);1E3<=Math.abs(b)&&(a="Mbps",b/=1E3);return b.toFixed(2).replace(/[.,]00$/,"")+a}catch(c){return""}};_.H("clpp.utils.strings.bitrateToString",_.R.Re);
_.R.Lj=function(a,b){function c(h){return function(l,m){return d(h,m.length-1)}}function d(h,l){return h.length<l?d("0"+h,l):h}b=void 0===b?"%h:%mm:%ss":b;if(null===a||void 0===a)a=0;if(null===b||void 0===b)b="%h:%mm:%ss";var e=Math.floor(a/3600),f=Math.floor((a-3600*e)/60),g=Math.floor(a-3600*e-60*f);return b.replace(/(%h+)/,c(String(e))).replace(/(%m+)/,c(String(f))).replace(/(%s+)/,c(String(g)))};_.H("clpp.utils.strings.durationToString",_.R.Lj);
_.R.Nj=function(a,b){for(var c in b)if(b[c]===a)return c;return""};_.R.sk=function(a){var b=0;if(0===a.length)return b;for(var c=0;c<a.length;c++)b=(b<<5)-b+a.charCodeAt(c),b|=0;return b};_.H("clpp.utils.strings.hashCode",_.R.sk);_.R.wm=function(a){_.R.Mh.innerHTML=a;return _.R.Mh.textContent};_.R.Mh=document.createElement("span");_.R.Pf=function(a){a=a.replace(/<[^>]+>/gi,"");a=_.R.wm(a);return a=a.replace(/<[^>]+>/gi,"")};_.R.ih=function(a){return a.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")};_.H("clpp.utils.Uint8ArrayUtils",_.cj);_.cj.toStandardBase64=_.dj;_.cj.concat=_.jj;_.cj.equal=_.ij;_.cj.toHex=_.hj;_.cj.fromHex=_.gj;_.cj.fromBase64=_.fj;_.cj.toBase64Url=_.ej;_.Y={Qb:function(a,b){return a.filter(function(c){return c.name===b})},cf:function(a,b){var c=Array.isArray(b)?b:[b];return a.filter(function(d){d=_.Ji(d,_.bc);return c.includes(d)})},Wb:function(a,b){return a.some(function(c){return c.name===b})},Ra:function(a,b,c){c=void 0===c?{}:c;a=a.find(function(d){return d.name===b})||null;if(!a&&c.required)throw new _.P(_.Q,4,4024,{missingTag:b});return a},Rg:function(a,b){return _.Y.Ra(a,b,{required:!0})},ek:function(a,b,c){c=void 0===c?0:c;return(a=_.Y.Ra(a,
b))?Number(a.value):c},dn:function(a,b,c){return a.filter(function(d){var e=d.getAttribute(_.bc);d=d.getAttribute(_.db);return e.value==b&&d.value==c})},Rl:function(a){a=_.Y.Ra(a,"EXT-X-TILES");if(!a)return{Sg:1,Th:1,durationPerTile:null};var b=_.Ii(a,"LAYOUT")||"1x1";a=(a=_.Ii(a,_.Ga))?Number(a):null;var c=_.u(b.split("x").map(function(d){return parseInt(d,10)}));b=c.next().value;c=c.next().value;return{Sg:b,Th:c,durationPerTile:a}},rd:function(a,b){return _.Bi([a],[b])[0]},$g:function(a){return/^#(?!EXT)/m.test(a)},
eh:function(a,b){Array.isArray(a)||(a=[a]);a.forEach(function(c){for(var d=_.u(_.Y.Ae(c)),e=d.next();!e.done;e=d.next())b(e.value,c)})},Ae:function(a){var b=new Set;a.variants.forEach(function(c){c.audio&&b.add(c.audio);c.video&&b.add(c.video)});a.textStreams.forEach(function(c){return b.add(c)});a.thumbStreams.forEach(function(c){return b.add(c)});return Array.from(b)},tk:function(a){return a.some(function(b){return _.Y.Wb(b.W,Oa)})},ji:function(a){return _.Y.Ae(a).filter(_.Y.Yg)},Ql:function(a){var b=
_.Y.Ra(a,Ua);if(_.Y.Ra(a,Oa))return _.lc;if(!b)return"LIVE";if(b.value===_.lc)return _.lc;if("EVENT"===b.value)return"EVENT";throw new _.P(_.Q,4,4044,"Invalid EXT-X-PLAYLIST-TYPE value: "+b.value);},vg:function(a){a={AUDIO:_.$c,VIDEO:_.sg,SUBTITLES:_.bg,"CLOSED-CAPTIONS":_.bg}[a.toUpperCase()];if(!a)throw new _.P(_.Q,4,4044,"EXT-X-MEDIA tag has an invalid TYPE attribute.");return a},Cj:function(a){var b=_.Ji(a,_.bc).toUpperCase();if(_.Y.vg(b)!==_.bg)return null;a=a.getAttribute("FORCED");a=!(!a||
!a.value||"YES"!==a.value.toUpperCase());var c=_.Zf;b===_.sa&&(c=_.md);a&&(c=_.oe);return c},yh:function(a,b,c){c=void 0===c?!1:c;var d=0,e=null;if(a){d=a.split("@");a=Number(d[0]);if(0>=a)throw new _.P(_.Q,4,4044,"Byte range length must be positive.");if(d[1]){if(d=Number(d[1]),0>d)throw new _.P(_.Q,4,4044,"Byte range start byte must not be negative.");}else{if(c)throw new _.P(_.Q,4,4044,"Invalid byte range, offset is required but missing.");if(null==b)throw new _.P(_.Q,4,4044,"Invalid byte range, cannot calculate offset based on previous byte ranges.");
d=b+1}e=d+a-1}return{wa:d,ia:e}},Ah:function(a,b){var c=_.Y.Ra(a,Ka);return _.Y.yh(c?c.value:null,b)},Ll:function(a){a=_.Y.Rg(a,"EXTINF").value.split(",");return{duration:Number(a[0]),title:a[1]||null}},Bh:function(a,b){function c(f){return null==f?null:Number(f)}b=void 0===b?{}:b;var d={Zd:!1,ni:!1,oi:null,uk:null,Ch:null},e=_.Y.Ra(a,Xa,{required:b.Ih});if(!e)return d;d.Zd="YES"===_.Ii(e,"CAN-BLOCK-RELOAD");d.ni="YES"===_.Ii(e,"CAN-SKIP-DATERANGES");d.oi=c(_.Ii(e,"CAN-SKIP-UNTIL"));d.uk=c(_.Ii(e,
"HOLD-BACK"));d.Ch=c(_.Ii(e,"PART-HOLD-BACK",void 0,{required:b.Ih}));return d},zh:function(a,b,c){c=void 0===c?!1:c;a=_.Ii(a,"BYTERANGE");return _.Y.yh(a,b,c)},Ol:function(a){var b=_.Y.Qb(a,"EXT-X-MEDIA"),c=_.Y.Qb(a,_.Ya);a=_.Y.Qb(a,"EXT-X-IMAGE-STREAM-INF");return{Yc:{hi:_.Y.cf(b,["AUDIO",_.kc]),closedCaptions:_.Y.cf(b,_.sa),sm:_.Y.cf(b,_.Tb)},Qd:c,jf:a}},Fj:function(a,b){var c=_.Y.Ah(a.W,null);return new _.Mi(0,0,0,function(){return[a.a]},c.wa,c.ia,0,b)},ff:function(a,b){if(null==a)return null;
var c=Object.assign({},a);null==c.iv&&(c.iv=_.jj(new Uint8Array(12),new Uint8Array([b>>24&255,b>>16&255,b>>8&255,b&255])));return c},nk:function(a){var b=a.S;a=b[0].startTime;b=b[b.length-1].endTime;return{Zb:a,te:b,duration:b-a}},kk:function(a){var b=Infinity,c=Infinity;_.Y.ji(a).forEach(function(d){d=_.Y.nk(d);b=Math.min(b,d.Zb);c=Math.min(c,d.duration)});return{Zb:b,duration:c}},Yg:function(a){return a.type===_.$c||a.type===_.sg},Oj:function(a){return a.filter(_.Y.Yg)},jk:function(a){return a.map(function(b){return _.Y.kk(b).duration}).reduce(function(b,
c){return b+c},0)},bk:function(a,b){return a&&b?_.qo(a.drmInfos,b.drmInfos)?_.po(a.drmInfos,b.drmInfos):null:a?a.drmInfos:b?b.drmInfos:null},Gj:function(a,b){return(b?b.Ub():"")+" - "+(a?a.Ub():"")},xg:function(a){return(a.video?a.video.Kb:"")+" - "+(a.audio?a.audio.Kb:"")},Nl:function(a,b,c,d){if(b===_.lc)return{delay:0,yc:0};b=_.Y.Ra(a,Sa);if(c&&b)return c=Number(_.Ji(b,"PART-TARGET")),null!=d?{delay:d,yc:c}:{delay:_.Y.Bh(a,{Ih:!0}).Ch,yc:c};a=_.Y.Rg(a,Za);a=Number(a.value);return null!=d?{delay:d,
yc:a}:{delay:3*a,yc:a}},hk:function(a){var b=[];_.Y.eh(a,function(c){b.push(c.Hk)});return{delay:Math.max.apply(Math,_.Og(b.map(function(c){return c.delay}))),yc:Math.min.apply(Math,_.Og(b.map(function(c){return c.yc})))}},um:function(a){var b=new Map;a.forEach(function(c){var d=c.fk();b.has(d)?(d=b.get(d),d.includes(c)||d.push(c)):b.set(d,[c])});return b},Og:function(a){return _.Ni(a||_.hg)},Hl:function(a){var b=new Map;a=_.u(a);for(var c=a.next();!c.done;c=a.next()){c=c.value;var d=_.Ii(c,_.sb);
d=_.Y.Og(d);var e=_.Ji(c,_.db);c=_.Ji(c,"INSTREAM-ID");b.has(e)||b.set(e,new Map);b.get(e).set(c,d)}return b},Kj:function(a){a=_.u(a.audio.concat(a.video));for(var b=a.next();!b.done;b=a.next()){b=b.value;var c=b.ak().filter(function(d){return"mp4a.40.34"!==d});b.im(c)}},Sl:function(a){if(null==a.getAttribute("FRAME-RATE")&&null==a.getAttribute(_.Pb))return null;var b=_.Ii(a,"FRAME-RATE");a=_.Ii(a,_.Pb);var c=_.u(a?a.split("x"):[null,null]);a=c.next().value;c=c.next().value;return{frameRate:Qi(b),
width:Qi(a),height:Qi(c)}},Ek:function(a){return"EXT-X-MEDIA"!==a.name?!0:_.Ii(a,_.bc)===_.Tb},Il:function(a,b){var c=_.Ii(a,"ID"),d=_.Ii(a,"START-DATE");if(null===c||null===d)return _.Y.g.warn("Invalid  EXT-X-DATERANGE missing mandatory ID or START-DATE attribute, ignoring the EXT-X-DATERANGE tag.",a),null;var e=new Date(d);d=e.getTime()/1E3-b;c={id:c,startTime:d,startDate:e};var f=Qi(_.Ii(a,_.Ga));void 0!==f&&0<=f&&(c.duration=f);var g=Qi(_.Ii(a,"PLANNED-DURATION"));void 0!==g&&0<=g&&(c.plannedDuration=
g);var h=_.Ii(a,"CLASS");null!==h&&(c.schemeIdUri=h);var l=_.Ii(a,"END-DATE");l=l?new Date(l):null;null!==l&&l.getTime()>=e.getTime()&&(c.endDate=l);e=_.Y.Gl(a)||{};if(h===Nd){h=_.Y.Ml(a);if(null===h)return _.Y.g.warn("Invalid interstitial attributes, ignoring the EXT-X-DATERANGE tag.",a),null;e=Object.assign(e,h)}_.N.Cd(e)&&(c.Wa=e);c.endTime=l?l.getTime()/1E3:f?d+f:g?d+g:d;c.type=Vt;return c},Gl:function(a){var b=a.attributes;if(null==b)return null;a={};b=_.u(b);for(var c=b.next();!c.done;c=b.next())c=
c.value,c.name.startsWith("X-")&&(a[c.name]=c.value);return _.N.Cd(a)?a:null},Ml:function(a){var b=a.attributes;if(null==b)return null;a={};b=_.u(b);for(var c=b.next();!c.done;c=b.next())switch(c=c.value,c.name){case rc:a[rc]=c.value;break;case qc:a[qc]=c.value;break;case tc:a[tc]=Qi(c.value);break;case sc:a[sc]=Qi(c.value);break;case "X-SNAP":a["X-SNAP"]=c.value.split(",");break;case "X-RESTRICT":a["X-SNAP"]=c.value.split(",")}return a[rc]&&a[qc]||!a[rc]&&!a[qc]?(_.Y.g.warn("Invalid EXT-X-DATERANGE Interstitial attributes X-ASSET-URI, X-ASSET-LIST"),
null):_.N.Cd(a)?a:null},Gg:function(a,b){if(!a)return null;var c=a.Kb;return b.find(function(d){return d.Ub()===c})||null}};_.Y.g=new _.K("clpp.hls.Utils");_.Wt=new Set([_.Na,Oa,"EXT-X-I-FRAMES-ONLY",_.Ra,Sa,Ua,Xa,Za]);_.Xt=new Set(["EXTINF",Ka,_.Ma,_.Pa,_.Qa,_.Wa]);_.Yt=new Set(["EXT-X-PART",_.Va]);_.Zt=new Set([_.La]);var nj=[403,401];_.H("clpp.net.DEFAULT_FATAL_STATUS_CODES",nj);_.H("clpp.net.makeRequest",_.rj);_.qj=6;_.H("clpp.net.RequestType",{MANIFEST:1,SEGMENT:2,LICENSE:3,APP:4,TIMING:5,OTHER:_.qj});_.wj.prototype.resolve=function(){};_.wj.prototype.reject=function(){};_.xj.prototype.abort=function(){this.a=!0;return this.A()};_.xj.prototype.$d=function(a,b){function c(){e.reject(new _.P(_.Q,7,7001));return d.abort()}var d=this,e=new _.wj;this.O.then(function(f){d.a?e.reject(new _.P(_.Q,7,7001)):a?c=zj(a,f,e):e.resolve(f)},function(f){b?c=zj(b,f,e):e.reject(f)});return new _.xj(e,function(){return c()})};_.xj.aborted=function(){var a=Promise.reject(new _.P(_.Q,7,7001));a["catch"](function(){});return new _.xj(a,function(){return Promise.resolve()})};
_.xj.prototype.chain=_.xj.prototype.$d;_.Aj.prototype.destroy=function(){for(var a=[],b=_.u(this.a),c=b.next();!c.done;c=b.next())c=c.value,c.O["catch"](function(){}),a.push(c.abort());this.a=[];return Promise.all(a)};_.r=_.Kj.prototype;_.r.nm=function(a){0<a?_.J("Rate limit set to "+a+"bps"):_.J("Rate limit disabled");this.j=a};_.r.release=function(){return this.l.destroy()};_.r.destroy=function(){this.o=!0;this.f=[];this.h=[];return this.l.destroy()};_.r.Xf=function(a){this.f.push(a)};_.r.hd=function(a){this.h.push(a)};_.r.Fh=function(a){this.f=this.f.filter(function(b){return b!==a})};_.r.ze=function(a){this.h=this.h.filter(function(b){return b!==a})};
_.r.fetch=function(a){var b=this;if(this.o)return new Ts(Promise.reject(new _.P(1,1,7001,{url:a.uris[a.uriIndex],request:a})));this.j&&0<this.j&&(a.rateLimitBps=this.j);for(var c=[],d=_.u(this.f),e=d.next();!e.done;e=d.next())c.push(e.value);if(a.requestModifiers)for(d=_.u(a.requestModifiers),e=d.next();!e.done;e=d.next())c.push(e.value);a.requestModifiers=c;c=[];d=_.u(this.h);for(e=d.next();!e.done;e=d.next())c.push(e.value);if(a.responseModifiers)for(d=_.u(a.responseModifiers),e=d.next();!e.done;e=
d.next())c.push(e.value);a.responseModifiers=c;d=c=new _.wj;try{var f={},g=_.u(a.requestModifiers);for(e=g.next();!e.done;f={Je:f.Je},e=g.next())f.Je=e.value,d=d.then(function(m){return function(n){if(h.a)throw new _.P(_.Q,1,7001,n?{url:n.uris[n.uriIndex],request:n}:null);return m.Je(n)||n}}(f))["catch"](function(m){if(m instanceof _.P)throw m;throw new _.P(_.Q,1,1006,null,m);});d=d.then(function(m){var n=new _.qi(m.uris[m.uriIndex]),p=n.fb;p||(p=location.protocol,p=p.slice(0,-1),ri(n,p),m.uris[m.uriIndex]=
n.toString());p=b.a[p];if(!p)throw new _.P(_.Q,1,1E3,{url:n.toString()});return{request:m,plugin:p}});var h=new Ts(d);g={};var l=_.u(a.responseModifiers);for(e=l.next();!e.done;g={Ud:g.Ud},e=l.next())g.Ud=e.value,h.then(function(m){return function(n){function p(){if(h.a)throw new _.P(_.Q,1,7001,n?{url:n.request.uris[n.request.uriIndex],request:n.request}:null);}p();var q=m.Ud(n)||n;p();return q}}(g))["catch"](function(m){return function(n){if(n instanceof _.P&&n.data&&n.data.response){var p=m.Ud(n.data.response);
if(p&&p.then)return p.then(function(){return Promise.reject(n)})}return Promise.reject(n)}}(g))["catch"](function(m){if(m instanceof _.P)throw m;throw new _.P(_.Q,1,1007,null,m);});_.Bj(this.l,h);c.resolve(a);return h}catch(m){return new Ts(Promise.reject(m))}};_.H("clpp.net.NetworkEngine",_.Kj);_.Kj.prototype.fetch=_.Kj.prototype.fetch;_.Kj.prototype.removeResponseModifier=_.Kj.prototype.ze;_.Kj.prototype.removeRequestModifier=_.Kj.prototype.Fh;_.Kj.prototype.addResponseModifier=_.Kj.prototype.hd;
_.Kj.prototype.addRequestModifier=_.Kj.prototype.Xf;_.Kj.prototype.setRateLimit=_.Kj.prototype.nm;var Rj;_.Oj.prototype.ta=function(a){return this.type===a.type&&this.channelsCount===a.channelsCount&&this.frameRate===a.frameRate&&this.trickPlay===a.trickPlay&&this.kind===a.kind&&this.label===a.label&&this.language===a.language&&this.mimeType===a.mimeType&&Wh(this.roles,a.roles)&&Wh(this.accessibility,a.accessibility,Vj)};_.Oj.prototype.toString=function(){return"Track type: "+this.type+" id: "+this.id+"\n        renditions size: "+this.renditions.length};_.H("clpp.Track",_.Oj);
_.Oj.prototype.toString=_.Oj.prototype.toString;_.H("clpp.Rendition",_.Wj);_.Tj=1;_.Qj=_.sg;_.T=_.$c;_.S=_.bg;Rj=_.Le;_.$t={VIDEO:_.Qj,AUDIO:_.T,TEXT:_.S,METADATA:Rj};_.Oj.Type=_.$t;_.H("clpp.utils.url.queryString",_.Zj);ck.prototype.h=function(a,b){var c=this,d,e,f,g,h,l,m;return _.E(function(n){switch(n.a){case 1:return d=null,_.A(n,2),_.x(n,ik(c,a),4);case 4:d=n.f;_.ah(n,3);break;case 2:return e=_.C(n),c.g.warn("Failed to fetch playlist in order metadata from HLS playlist.",e.message),n["return"](Promise.resolve({}));case 3:f={};_.A(n,5);if(!b.enableHlsVideoTrackInfo){n.F(7);break}return _.x(n,fk(c,d,a),8);case 8:g=n.f,f.renditions=g.renditions,f.mimeType=g.mimeType;case 7:_.ah(n,6);break;case 5:h=_.C(n),c.g.warn("Failed to parse video metadata from HLS playlist.",
h.message);case 6:return _.A(n,9),_.x(n,hk(d),11);case 11:l=n.f;f.Yc=l;_.ah(n,10);break;case 9:m=_.C(n),c.g.warn("Failed to parse metadata from HLS playlist.",m.message);case 10:return n["return"](f)}})};_.ok=[];_.r=_.U.prototype;_.r.Ue=function(){return!0};_.r.Uj=function(a){return this.getVideoTracks().find(function(b){return _.N.ta(b,a,a&&Object.keys(a))})};_.r.Qj=function(a){return this.getAudioTracks().find(function(b){return _.N.ta(b,a,a&&Object.keys(a))})};_.r.Sj=function(a){return this.fa().find(function(b){return _.N.ta(b,a,a&&Object.keys(a))})};_.r.Tj=function(a){return this.getVideoTracks().flatMap(function(b){return b.renditions}).find(function(b){return _.N.ta(b,a,a&&Object.keys(a))})};
_.r.Pj=function(a){return this.getAudioTracks().flatMap(function(b){return b.renditions}).find(function(b){return _.N.ta(b,a,a&&Object.keys(a))})};_.r.Rj=function(a){return this.fa().flatMap(function(b){return b.renditions}).find(function(b){return _.N.ta(b,a,a&&Object.keys(a))})};_.H("clpp.TrackManager",_.U);_.U.prototype.isAbrEnabled=_.U.prototype.ma;_.U.prototype.addTextTrack=_.U.prototype.addTextTrack;_.U.prototype.findTextRendition=_.U.prototype.Rj;_.U.prototype.findAudioRendition=_.U.prototype.Pj;
_.U.prototype.findVideoRendition=_.U.prototype.Tj;_.U.prototype.findTextTrack=_.U.prototype.Sj;_.U.prototype.findAudioTrack=_.U.prototype.Qj;_.U.prototype.findVideoTrack=_.U.prototype.Uj;_.U.prototype.setTextRendition=_.U.prototype.hb;_.U.prototype.setAudioRendition=_.U.prototype.gb;_.U.prototype.setVideoRendition=_.U.prototype.Ya;_.U.prototype.setTextTrack=_.U.prototype.La;_.U.prototype.setAudioTrack=_.U.prototype.za;_.U.prototype.setVideoTrack=_.U.prototype.ib;_.U.prototype.getTextTrack=_.U.prototype.ua;
_.U.prototype.getAudioTrack=_.U.prototype.ja;_.U.prototype.getVideoTrack=_.U.prototype.Ia;_.U.prototype.getLoadingTextRendition=_.U.prototype.nb;_.U.prototype.getLoadingAudioRendition=_.U.prototype.mb;_.U.prototype.getLoadingVideoRendition=_.U.prototype.bb;_.U.prototype.getTextRendition=_.U.prototype.Ha;_.U.prototype.getAudioRendition=_.U.prototype.Qa;_.U.prototype.getVideoRendition=_.U.prototype.ka;_.U.prototype.getTextTracks=_.U.prototype.fa;_.U.prototype.getAudioTracks=_.U.prototype.getAudioTracks;
_.U.prototype.getVideoTracks=_.U.prototype.getVideoTracks;_.U.prototype.canSelectVideoTracks=_.U.prototype.Ue;_.au=new Map;_.bu=(new Map).set(_.Jd,_.Jd).set("frameRate","framerate").set("bandwidth","bitrate").set(_.Hg,_.Hg).set(_.re,_.re).set("channelsCount","channels");_.sk.prototype.aa=function(a){return tk(this,a,!1)};_.sk.prototype.jb=function(a){return tk(this,a,!0)};_.sk.prototype.stop=function(){this.a&&(this.a(),this.a=null)};_.uk.prototype.Rf=function(){this.stop();this.f();return this};_.uk.prototype.aa=function(a){var b=this;this.stop();this.a=(new _.sk(function(){b.f()})).aa(a);return this};_.uk.prototype.jb=function(a){var b=this;this.stop();this.a=(new _.sk(function(){b.f()})).jb(a);return this};_.uk.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)};_.H("clpp.utils.Timer",_.uk);_.uk.prototype.stop=_.uk.prototype.stop;_.uk.prototype.tickEvery=_.uk.prototype.jb;_.uk.prototype.tickAfter=_.uk.prototype.aa;
_.uk.prototype.tickNow=_.uk.prototype.Rf;_.H(Id,vk);vk.getInfo=_.Fj;
var Fk=null,Ek=null,Hk=new _.K(Id),Ok="android",Nk="ios",Tk="linux",Pk="osx",Qk="windows",Rk="tizen",Sk="webos",Mk=ig,Wk=ig,Vk={windows:{os_version:/windows\s+?nt\s([\d.]+)/i,ie:/windows\s+?nt.+?trident\/[\d.]+.*rv:([\d.]+)/i,edge:/windows\s+?nt.+?edge?\/([\d.]+)/i,chrome:/windows\s+?nt.+?chrome\/([\d.]+)/i,firefox:/windows\s+?nt.+?firefox\/([\d.]+)/i,opera:/windows\s+?nt.+?opr\/([\d.]+)/i},osx:{os_version:/macintosh.+?([\d._]+)/i,safari:/macintosh.+?version\/([\d._]+).+?safari/i,edge:/macintosh.+?edge?\/([\d._]+)/i,
chrome:/macintosh.+?chrome\/([\d._]+)/i,firefox:/macintosh.+?firefox\/([\d._]+)/i,opera:/macintosh.+?opr\/([\d._]+)/i},unknown:{ie:/.+?trident\/([\d.]+)/i,edge:/.+?edge?\/([\d.]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,chrome:/.+?chrome\/([\d._]+)/i,firefox:/.+?firefox\/([\d._]+)/i,opera:/.+?opr\/([\d._]+)/i},android:{os_version:/android.+?([\d._]+)/i,chrome:/android.+?chrome\/([\d._]+)/i,firefox:/android.+?firefox\/([\d._]+)/i,opera:/android.+?opr\/([\d._]+)/i},ios:{os_version:/(?:iPad|iPhone).+?([\d._]+)/i,
chrome:/.+?CriOS\/([\d._]+)/i,firefox:/.+?FxiOS\/([\d._]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,opera:/.+?opr\/([\d._]+)/i},linux:{os_version:/linux.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i},tizen:{os_version:/tizen.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i},
webos:{os_version:/linux.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i}};_.w(Xk,_.U);_.r=Xk.prototype;_.r.Ue=function(){return!_.Bk()};
_.r.Af=function(a,b){var c=this,d,e,f,g,h,l,m,n,p,q,t,v,z,D,G,F,B,I;return _.E(function(O){if(1==O.a){if(!b)return c.g.warn(Ab),O["return"]();d=b.track;if(!d)return c.g.warn(Cb),O["return"]();e=a===_.T;f=a===_.Qj;g=a===_.S;h=e||f;l=b.target;if(m=c.h.find(function(M){return ll(M,d,a)}))return c.g.warn("Track from event already exists",d,m),O["return"]();n=Uj(a,d);p=pl(d);if(g){if(d.kind===_.Le)return O["return"]();void 0!==d.id?q=c.o[d.id]:(t=Object.values(c.o),q=t.find(function(M){return ll(n,M,a)}));
n.kind&&"captions"===n.kind&&(n.mimeType=_.Sc);q&&(n.src=q.url,n.mimeType=q.mimeType)}else if(m=c.h.find(function(M){return M.type===a&&_.N.ta(M,n,["kind","label","language"])}))return m.id=d.id,p&&(c.g.debug(Xb+a+" track active"),c.a.set(a,m)),c.g.debug("Track from event seems to already exists, flipped native track to",d),O["return"]();_.A(O,2);v=new _.Wj(n.id,n);n.renditions.push(v);c.h.push(n);z=c.m.getConfiguration().safari;return al(c,a,z)?_.x(O,el(c,n,z),5):bl(c,a,z)?_.x(O,fl(c,n,z),5):O.F(5)}if(2!=
O.a)return c.g.debug(a+" Track added",n),c.m.trigger(new _.L(_.cu)),D=il(c,a).length,G=!(!l||!l.length),F=l&&l.length||0,B=function(){c.g.debug(Xb+a+" track active. Native track active: "+(p+". Number of tracks: ")+D,d);c.a.set(a,n)},p?B():1===D&&h&&(f?B():G&&1!==F||B()),_.ah(O,0);I=_.C(O);c.g.error("Error while converting track data",I);_.y(O)})};
_.r.Cf=function(a,b){if(b){var c=b.track;if(!c)this.g.warn(Cb);else if(a===_.S&&c.kind!==_.Le){var d=this.h.find(function(e){return ll(e,c,a)});d&&(this.h.splice(this.h.indexOf(d),1),(this.a.get(a)||null)===d&&(this.a.set(a,null),rl(this)),this.g.debug(a+" Track removed, id: ",d.id))}}else this.g.warn(Ab)};
_.r.Bf=function(a,b){this.g.debug(a+" Track changed",b);a===_.S&&rl(this);var c=hl(this,a);if(c)for(var d={Ec:0};d.Ec<c.length;d={Ec:d.Ec},++d.Ec)if(pl(c[d.Ec])){if(d=this.h.find(function(e){return function(f){return ll(f,c[e.Ec],a)}}(d)))this.a.set(a,d),this.g.debug("Track change detected, id:",d.id),d===this.l.get(a)&&this.l.set(a,null),a===_.T?this.m.trigger(new _.L(_.ml)):a===_.S&&this.m.trigger(new _.L(_.nl));break}};_.r.initialize=function(a){this.m=a;this.j=new ck(a.getNetworkEngine())};
_.r.load=function(){this.A=!1;var a=gl(this,_.S);a&&(this.f.on(a,_.Kc,this.J),this.f.on(a,Hf,this.M),this.f.on(a,ud,this.K));if(a=gl(this,_.T))this.f.on(a,_.Kc,this.G),this.f.on(a,Hf,this.I),this.f.on(a,ud,this.H);if(a=gl(this,_.Qj))this.f.on(a,_.Kc,this.P),this.f.on(a,Hf,this.V),this.f.on(a,ud,this.T);this.f.one(this.m,ld,this.jj.bind(this))};_.r.release=function(){this.A=!0;this.h=[];this.o={};this.a.clear();this.l.clear();this.f.release()};_.r.destroy=function(){this.release();this.m=null};
_.r.getVideoTracks=function(){return il(this,_.Qj)};_.r.getAudioTracks=function(){return il(this,_.T)};_.r.fa=function(){return il(this,_.S)};_.r.ka=function(){var a=this,b=this.a.get(_.Qj)||null;if(!b)return null;if(this.w){var c=b.renditions.find(function(d){return d.width===a.w.width&&d.height===a.w.height});if(c)return c}return b.renditions[0]||null};_.r.Qa=function(){return jl(this,_.T)};_.r.Ha=function(){return jl(this,_.S)};_.r.bb=function(){return kl(this,_.Qj)};
_.r.mb=function(){return kl(this,_.T)};_.r.nb=function(){return kl(this,_.S)};_.r.Ia=function(){return this.a.get(_.Qj)||null};_.r.ja=function(){return this.a.get(_.T)||null};_.r.ua=function(){return this.a.get(_.S)||null};_.r.ib=function(a){ol(this,_.Qj,a)};_.r.za=function(a){ol(this,_.T,a)};_.r.La=function(a){ol(this,_.S,a)};_.r.Ya=function(a){ol(this,_.Qj,a&&a.track)};_.r.gb=function(a){ol(this,_.T,a&&a.track)};_.r.hb=function(a){ol(this,_.S,a&&a.track)};
_.r.addTextTrack=function(a){var b=this,c;return _.E(function(d){return a.mimeType.match(/text\/vtt/)?(c="External_"+b.B++,b.o[c]=a,Yk(b,a,c),d.F(0)):_.x(d,Zk(b,a),0)})};_.r.ma=function(){return 1>=this.getVideoTracks().flatMap(function(a){return a.renditions}).length};
_.r.jj=function(){var a=this,b,c,d;return _.E(function(e){if(1==e.a){b=a.m.getConfiguration();ql(a,_.T,b.preferredAudioLanguage);c=hl(a,_.S);if(c.some(function(f){return pl(f)}))return e.F(2);d=gl(a,_.S);return _.x(e,new Promise(function(f){a.f.one(d,ud,f);(new _.uk(f)).aa(1)}),2)}if(a.A)return e["return"]();ql(a,_.S,b.preferredTextLanguage);_.y(e)})};Xk.prototype.isAbrEnabled=Xk.prototype.ma;Xk.prototype.addTextTrack=Xk.prototype.addTextTrack;Xk.prototype.setTextRendition=Xk.prototype.hb;
Xk.prototype.setAudioRendition=Xk.prototype.gb;Xk.prototype.setVideoRendition=Xk.prototype.Ya;Xk.prototype.setTextTrack=Xk.prototype.La;Xk.prototype.setAudioTrack=Xk.prototype.za;Xk.prototype.setVideoTrack=Xk.prototype.ib;Xk.prototype.getTextTrack=Xk.prototype.ua;Xk.prototype.getAudioTrack=Xk.prototype.ja;Xk.prototype.getVideoTrack=Xk.prototype.Ia;Xk.prototype.getLoadingTextRendition=Xk.prototype.nb;Xk.prototype.getLoadingAudioRendition=Xk.prototype.mb;Xk.prototype.getLoadingVideoRendition=Xk.prototype.bb;
Xk.prototype.getTextRendition=Xk.prototype.Ha;Xk.prototype.getAudioRendition=Xk.prototype.Qa;Xk.prototype.getVideoRendition=Xk.prototype.ka;Xk.prototype.getTextTracks=Xk.prototype.fa;Xk.prototype.getAudioTracks=Xk.prototype.getAudioTracks;Xk.prototype.getVideoTracks=Xk.prototype.getVideoTracks;Xk.prototype.canSelectVideoTracks=Xk.prototype.Ue;_.r=_.sl.prototype;_.r.start=function(a){if(this.f)return this.f.start(a);if(a<this.a.length)return this.a[a].start;throw Error(cc);};_.r.end=function(a){if(this.f)return this.f.end(a);if(a<this.a.length)return this.a[a].end;throw Error(cc);};_.r.wb=function(){return!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)?null:1===this.length&&0>this.start(0)?0:this.start(0)};_.r.Fa=function(){return!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)?null:this.end(this.length-1)};
_.r.qc=function(a,b,c){b=void 0===b?!0:b;c=void 0===c?0:c;if(!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)||a>this.end(this.length-1))return!1;if(b)return c+a>=this.start(0)&&a<=this.end(this.length-1);for(b=0;b<this.length;b++)if(c+a>=this.start(b)&&a<=this.end(b))return!0;return!1};
_.r.Na=function(a,b){b=void 0===b?!1:b;if(!this.length||1===this.length&&1E-6>this.end(0)-this.start(0))return 0;var c=0;if(b){var d=this.Fa();null!=d&&(c=Math.max(0,d-a))}else for(d=this.length-1;0<=d&&this.end(d)>a;--d)c+=this.end(d)-Math.max(this.start(d),a);return c};_.r.toString=function(){for(var a="",b=0;b<this.length;b++)0<b&&(a+=" "),a+=this.start(b).toFixed(3)+"-"+this.end(b).toFixed(3);return a};_.H("clpp.BufferInfo",_.sl);_.sl.prototype.bufferedAheadOf=_.sl.prototype.Na;
_.sl.prototype.isBuffered=_.sl.prototype.qc;_.sl.prototype.bufferEnd=_.sl.prototype.Fa;_.sl.prototype.bufferStart=_.sl.prototype.wb;_.sl.prototype.end=_.sl.prototype.end;_.sl.prototype.start=_.sl.prototype.start;_.r=_.tl.prototype;_.r.addEventListener=function(a,b){this.on(a,b)};_.r.removeEventListener=function(a,b){this.off(a,b)};_.r.on=function(a,b,c){return this.xd.on(a,b,c)};_.r.one=function(a,b,c){return this.xd.one(a,b,c)};_.r.off=function(a,b){return this.xd.off(a,b)};_.r.addDelegate=function(a){a&&(0<=this.ud.indexOf(a)||this.ud.push(a))};_.r.dispatchEvent=function(a){this.trigger(a);return a.defaultPrevented};_.r.removeDelegate=function(a){a&&(a=this.ud.indexOf(a),0<=a&&this.ud.splice(a,1))};
_.r.trigger=function(a){this.xd.trigger(a);for(var b=_.u(this.ud),c=b.next();!c.done;c=b.next())c.value.dispatchEvent(a)};_.tl.prototype.off=_.tl.prototype.off;_.tl.prototype.one=_.tl.prototype.one;_.tl.prototype.on=_.tl.prototype.on;_.tl.prototype.removeEventListener=_.tl.prototype.removeEventListener;_.tl.prototype.addEventListener=_.tl.prototype.addEventListener;_.H("clpp.events.ERROR",_.ne);_.H("clpp.events.LOADEDMETADATA",_.Fe);_.H("clpp.events.BUFFERING_ENDED",_.id);_.H("clpp.events.BUFFERING_STARTED",_.jd);_.H("clpp.events.STATE_CHANGED",_.Tf);_.ml="audiotrackchanged";_.H("clpp.events.AUDIO_TRACK_CHANGED",_.ml);_.nl="texttrackchanged";_.H("clpp.events.TEXT_TRACK_CHANGED",_.nl);_.H("clpp.events.VIDEO_TRACK_CHANGED",_.wg);_.H("clpp.events.BITRATE_CHANGED",_.gd);_.cu="tracksadded";_.H("clpp.events.TRACKS_ADDED",_.cu);_.H("clpp.events.LOAD_START",Ge);
_.H("clpp.events.RELEASING",_.Gf);_.H("clpp.events.RELEASED",Ff);_.H("clpp.events.DESTROYING","destroying");_.H("clpp.events.DESTROYED","destroyed");_.H("clpp.events.VIDEO_BUFFER_CHANGED",_.vg);_.H("clpp.events.AUDIO_BUFFER_CHANGED",_.ed);_.H("clpp.events.DOWNLOAD_TRACE","downloadtrace");_.H("clpp.events.DRM_SESSION_UPDATE",_.he);_.H("clpp.events.DRM_SESSION_PERSISTED",_.ge);_.H("clpp.events.DRM_RENEWAL_STARTED",fe);_.H("clpp.events.DRM_EXPIRATION_UPDATE",_.ee);
_.H("clpp.events.AUTOPLAY_NOT_ALLOWED",_.fd);_.H("clpp.events.PLAY",_.gf);_.H("clpp.events.SEEKING",_.Mf);_.H("clpp.events.SEEKED",_.Lf);_.H("clpp.events.USER_SEEKING",_.og);_.H("clpp.events.USER_SEEKED",_.mg);_.Po={SEEKING:1,NO_DATA:2};_.H("clpp.events.BufferingReasons",_.Po);_.H("clpp.events.ADS_TIMELINE_CHANGED",_.Nc);_.H("clpp.events.AD_LOADED",_.Bc);_.H("clpp.events.AD_BREAK_STARTED",_.uc);_.H("clpp.events.AD_STARTED",_.Hc);_.H("clpp.events.AD_BUFFERING",_.wc);_.H("clpp.events.AD_PROGRESS",_.Ec);
_.H("clpp.events.AD_FIRST_QUARTILE",_.zc);_.H("clpp.events.AD_MIDPOINT",_.Cc);_.H("clpp.events.AD_THIRD_QUARTILE",_.Jc);_.H("clpp.events.AD_PAUSED",_.Dc);_.H("clpp.events.AD_RESUMED",_.Fc);_.H("clpp.events.AD_SKIPPED",_.Gc);_.H("clpp.events.AD_CLICKED",_.xc);_.H("clpp.events.AD_IMPRESSION",_.Ac);_.H("clpp.events.AD_COMPLETED",_.yc);_.H("clpp.events.AD_STOPPED",_.Ic);_.H("clpp.events.AD_BREAK_STOPPED",_.vc);_.H("clpp.events.SIMID_CREATIVE_STARTED",_.Of);_.H("clpp.events.SIMID_CREATIVE_STOPPED",_.Pf);
_.H("clpp.events.CASTING_STARTED",_.nd);_.H("clpp.events.CASTING_ENDED","castingended");_.H("clpp.events.CAST_STATUS_CHANGED",_.od);_.H("clpp.events.AIRPLAY_STATUS_CHANGED",_.Qc);_.H("clpp.events.AIRPLAY_CASTING_STARTED",_.Pc);_.H("clpp.events.AIRPLAY_CASTING_ENDED",_.Oc);_.Ph="timeline-cue-added";_.H("clpp.events.TIMELINE_CUE_ADDED",_.Ph);_.Rh="timeline-cue-enter";_.H("clpp.events.TIMELINE_CUE_ENTER",_.Rh);_.Sh="timeline-cue-exit";_.H("clpp.events.TIMELINE_CUE_EXIT",_.Sh);
_.H("clpp.events.MPD_TYPE_CHANGED",_.Qe);_.H("clpp.events.VIMOND_RESPONSE",_.xg);_.H("clpp.events.PLAYLIST_ITEM_CHANGED",_.pf);_.H("clpp.events.PLAYLIST_MODIFIED",_.tf);_.H("clpp.events.CDN_SWITCH_SUCCESS",_.pd);_.H("clpp.events.ONLINE_STATUS_CHANGED",Ze);var ul=["play() failed because the user didn't interact","The play method is not allowed by the user agent","The request is not allowed by the user agent or the platform"];var Vt;_.H("clpp.version",_.ja);_.H("clpp.name",_.wa);_.dl="application/x-mpegurl";_.H("clpp.Type",{DASH:_.Tc,HLS:_.dl,SMOOTH_STREAMING:_.Yc,MP4:_.ug});_.Oh="scte35";Vt="hls-daterange";_.Mh=ig;_.H("clpp.TimelineCueType",{SCTE35:_.Oh,DASH_CALLBACK:_.Re,HLS_DATERANGE:Vt,UNKNOWN:_.Mh});_.H("clpp.SpeedUpMode",{DECODER:_.Vd,SEEK:"seek"});_.H("clpp.utils.PlayerConfiguration",wl);wl.create=_.Bl;var du=["abort",kd,ld,je,"emptied",ke,_.me,_.ne,"interruptbegin","interruptend",_.Ee,_.Fe,Ge,"mozaudioavailable",_.cf,_.gf,_.of,_.Cf,_.Ef,_.Lf,_.Mf,Rf,"suspend",_.eg,"volumechange",_.Ag,_.Bg,_.Jf,Gg,Fg,Dg,Eg];_.w(_.Dl,_.tl);_.r=_.Dl.prototype;_.r.init=function(a,b){this.configuration=this.fe=b;this.C=a;this.log.info("Initializing Player surface");var c=this.C.getMedia();this.log.info("Attaching media element listeners");for(var d=_.u(du),e=d.next();!e.done;e=d.next())e=e.value,this.T.on(c,e,this.Cm,e!==_.ne);this.gd||(this.gd=this.yg());this.gd.initialize(this);this.C.showMediaElement()};_.r.release=function(){this.P&&(this.P.destroy(),this.P=null);return Promise.resolve()};
_.r.destroy=function(){this.T.release();return this.nf.release()};_.r.canPlay=function(a,b){return _.xh[this.namespace()].canPlay(a,b)};
_.r.play=function(){var a=this;if(!this.w)return Promise.reject("No sources specified yet. You need to load content before calling play.");var b=this.C.getMedia().play();return Promise.resolve(b)["catch"](function(c){a.log.info("Caught play promise exception",c);var d={name:c.name||"",message:c.message||"",stack:c.stack||""};vl(d)?(a.trigger(new _.L(_.fd)),a.log.warn(_.oa)):d.name===Eb&&a.log.warn('Unrecognized "NotAllowedError" on play(). '+(c.name+": "+c.message));throw c;})};
_.r.pause=function(){var a=this;return this.w?new Promise(function(b,c){var d=a.getState();if(d!==_.Mo&&d!==_.Oo&&d!==_.Vo&&d!==_.Uo)c();else if(a.C.getMedia().pause(),a.getState()===_.Vo)a.T.one(a,_.Tf,function(){b()});else b()}):Promise.reject("No sources specified yet. You need to load content before calling pause.")};_.r.isPaused=function(){return this.C.getMedia().paused};_.r.isEnded=function(){return this.C.getMedia().ended};_.r.getConfiguration=function(){return this.configuration};
_.r.setDrmCustomDataModifier=function(a){this.Pc=a};_.r.setCdnErrorCallback=function(a){this.Hc=a};_.r.Sc=function(){return this.Pc};_.r.getSurface=function(){return this.C};_.r.getBufferInfo=function(a){var b=this.getSurface().getMedia();return new _.sl(b?b.buffered:void 0,a)};_.r.getPosition=function(){var a=this.C.getMedia();if(a)return a.currentTime;this.log.warn("No media element available, can not report current time!");return 0};
_.r.seek=function(a){var b=this,c=this.getPosition();if(void 0===a||null===a||typeof a!==_.k||a===c)return Promise.resolve();var d=this.C.getMedia();if(!d)return this.log.warn("No media element available, can not set current time!"),Promise.reject();var e=a-c;return.1>=Math.abs(e)?(this.log.info("Skip seek. Delta "+Math.abs(e)+" \x3c 0.1"),Promise.resolve()):new Promise(function(f,g){function h(){if(d.readyState>HTMLMediaElement.HAVE_NOTHING)m();else b.T.one(d,_.Fe,m)}function l(n){var p=b.getPosition(),
q=.1>=Math.abs(a-p),t=.25<p-a,v=d.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA,z=n.type===_.Lf,D=n.type===_.Cf,G=n.type===_.eg,F=D&&v;t=z||q&&F||G&&t;b.log.debug("Checking seeking state after "+n.type+" event. Seek completed:",t,"Current Time:",p,"Target Time:",a,"Native Event:",z,"Time reached",q,"Timeupdate:",G,"Progress:",D,"ReadyState:",v,"Progress Ready:",F);t?(b.rf=!1,b.se=!1,b.T.off(d,_.Lf,l),b.T.off(d,_.eg,l),b.T.off(d,_.Cf,l),b.wh(),b.trigger(new _.L(_.mg)),f()):D&&c===p&&(b.log.debug("Seek seemed to have been ignored. Trying again"),
d.currentTime=a)}function m(){b.trigger(new _.L(_.og));b.T.on(d,_.Lf,l);b.T.on(d,_.eg,l);b.T.on(d,_.Cf,l);b.log.info("Seeking to "+a+". Delta "+e);b.rf=!0;b.se=!0;d.currentTime=a}b.getState()===_.Ho?(b.log.debug("Player is in IDLE state. Postpone seek."),b.T.one(b,_.Tf,function(){switch(b.getState()){case _.Mo:case _.Vo:case _.Uo:b.log.debug("Valid seek state reached.");h();break;default:b.log.warn("Invalid seek target state. Aborting seek"),g()}})):h()})};
_.r.getVolume=function(){var a=this.C.getMedia();if(a)return a.volume;this.log.warn("No media element available, can not report volume!");return null};_.r.setVolume=function(a){var b=this.C.getMedia();b?_.N.na(a)?0>a||1<a?this.log.warn(ua+a+".\n          Value must be between 0 and 1."):b.volume=a:this.log.warn(ua+a+". Volume must be a number"):this.log.warn("No media element available, can not set volume !")};_.r.isMuted=function(){return this.C.getMedia().muted};
_.r.setMuted=function(a){var b=this.C.getMedia();typeof a===_.hd&&(b.muted=a)};_.r.getDuration=function(){return this.w?this.C.getMedia().duration:-1};_.r.getTrackManager=function(){return this.gd};_.r.getPlaybackRate=function(){var a=this.C.getMedia();return a&&a.playbackRate||1};_.r.setPlaybackRate=function(a){var b=this.C.getMedia();void 0!==a&&b&&(b.playbackRate=a)};_.r.setSourceIndex=function(a){this.ge=a};_.r.getSourceIndex=function(){return this.ge};
_.r.getLoadedSource=function(){return this.w&&-1!==this.ge?this.w[this.ge]:null};_.r.getPeriods=function(){return[]};_.r.getNetworkEngine=function(){return this.nf};_.r.setNetworkEngine=function(a){this.nf=a};_.r.getTextDisplayer=function(){return this.P};_.r.getTimelineCues=function(){return[]};_.r.resetAbr=function(){};
_.r.am=function(a){var b=this.getSurface().getMedia(),c=this.getPosition(),d="Received Video Element Event: '"+a.type+"' with playhead at: "+c;if(a.type===_.eg||a.type===_.Cf)this.Vh.debug(d);else{var e="";switch(a.type){case _.Ef:e="Rate: "+this.getPlaybackRate();break;case je:e="Duration: "+this.getDuration();break;case "volumechange":e="Volume: "+this.getVolume()+" Muted: "+this.isMuted();break;case _.gf:case _.of:case "suspend":case _.Ag:case Rf:case _.Mf:case _.Lf:case _.eg:case _.Cf:case kd:case ld:b=
this.getBufferInfo().Na(c);e="State "+this.getSurface().getMedia().readyState+" Buffer: "+b;break;case _.Jf:null!=b&&(e="Size: "+b.videoWidth+"x"+b.videoHeight)}e&&(d+=". "+e);this.Vh.info(d)}a.type!==_.ne&&this.trigger(new _.L(a.type,{detail:a}))};_.r.wh=function(){};_.Dl.prototype.getTextDisplayer=_.Dl.prototype.getTextDisplayer;_.Dl.prototype.setNetworkEngine=_.Dl.prototype.setNetworkEngine;_.Dl.prototype.getNetworkEngine=_.Dl.prototype.getNetworkEngine;var Gl;Gl=new _.K("clpp.Components");_.El=new Map;_.H("clpp.install",function(a){Ol(a)});_.H("clpp.uninstall",function(a){Pl(a)});Ql.prototype.release=function(){this.a=this.f=null};_.H("clpp.drm.WidevineRobustnessLevel",{SW_SECURE_CRYPTO:_.Ub,SW_SECURE_DECODE:_.Vb,HW_SECURE_CRYPTO:fb,HW_SECURE_DECODE:gb,HW_SECURE_ALL:eb});_.H("clpp.drm.PlayreadyRobustnessLevel",{SL150:"150",SL2000:"2000",SL3000:"3000"});_.H("clpp.drm.KeySystem",{NONE:_.Se,CLEAR_KEY:_.af,WIDEVINE:_.Rd,PLAYREADY:_.Pd,FAIRPLAY:_.Md,PRIMETIME:_.Ld});_.Ul={};_.H("clpp.drm.registerDrmEnvironment",_.Vl);var Yl={V1_STAGING:[10,191,2,8,3,18,16,40,112,52,84,192,8,246,54,24,173,231,68,61,182,196,200,24,139,231,249,144,5,34,142,2,48,130,1,10,2,130,1,1,0,181,33,18,184,208,93,2,63,204,93,149,226,194,81,193,198,73,180,23,124,216,210,190,239,53,91,176,103,67,222,102,30,61,42,188,49,130,183,153,70,213,95,220,8,223,233,84,7,129,94,154,98,116,179,34,162,199,245,224,103,187,95,10,192,122,137,212,90,234,148,178,81,111,7,91,102,239,129,29,13,38,225,185,166,184,148,242,185,133,121,98,170,23,28,79,102,99,13,62,76,
96,39,24,137,127,94,30,249,182,170,245,173,77,186,42,126,20,23,109,241,52,161,211,24,91,90,33,138,192,90,76,65,240,129,239,255,128,163,160,64,197,11,9,187,199,64,238,220,216,241,77,103,90,145,152,15,146,202,125,220,100,106,6,173,173,81,1,247,74,14,73,140,192,31,0,83,43,172,33,120,80,189,144,94,144,146,54,86,183,223,239,239,66,72,103,103,243,62,246,40,61,79,66,84,171,114,88,147,144,190,229,88,8,241,214,104,8,13,69,216,147,194,188,162,247,77,96,160,192,208,160,153,60,239,1,96,71,3,51,76,54,56,19,148,
134,188,157,175,36,253,103,160,127,154,217,67,2,3,1,0,1,58,18,115,116,97,103,105,110,103,46,103,111,111,103,108,101,46,99,111,109,18,128,3,152,62,48,53,38,117,244,11,167,21,252,36,155,218,229,212,172,114,73,162,102,101,33,228,54,85,115,149,41,114,31,248,128,224,170,239,197,226,123,201,128,218,234,218,191,63,195,134,208,132,160,44,130,83,120,72,204,117,63,244,151,176,17,167,218,151,120,138,0,226,170,107,132,205,125,113,192,122,72,235,246,22,2,204,165,163,243,32,48,167,41,92,48,218,145,91,145,220,24,
185,188,149,147,184,222,139,181,15,13,237,193,41,56,184,233,224,57,205,222,24,250,130,232,27,176,50,99,15,233,85,216,90,86,108,225,84,48,11,246,212,193,189,18,105,102,53,107,40,125,101,123,24,206,99,208,239,212,95,197,38,158,151,234,177,28,181,99,229,86,67,178,111,244,159,16,156,33,1,175,202,243,91,131,47,40,143,13,157,69,150,14,37,158,133,251,93,36,219,210,207,130,118,76,93,217,191,114,126,251,233,200,97,248,105,50,31,106,222,24,144,95,77,146,249,166,218,101,54,219,132,117,135,29,22,142,135,11,178,
48,60,247,12,110,151,132,201,61,45,232,69,173,130,98,190,126,13,78,46,74,7,89,206,248,45,16,157,37,146,199,36,41,248,192,23,66,186,226,179,222,202,219,195,60,62,95,75,175,94,22,236,183,78,173,186,252,183,198,112,95,122,158,59,111,57,64,56,63,156,81,22,210,2,162,12,146,41,238,150,156,37,25,113,131,3,181,13,1,48,195,53,46,6,176,20,216,56,84,15,138,12,34,124,0,17,224,245,179,142,78,41,142,210,203,48,30,180,86,73,101,245,92,93,121,117,122,37,10,78,185,200,74,179,230,83,159,107,111,223,86,137,158,162,
153,20],V1_PROD:[10,193,2,8,3,18,16,23,5,185,23,204,18,4,134,139,6,51,58,47,119,42,140,24,130,180,130,146,5,34,142,2,48,130,1,10,2,130,1,1,0,153,237,91,59,50,125,171,94,36,239,195,182,42,149,181,152,82,10,213,188,203,55,80,62,6,69,184,20,216,118,184,223,64,81,4,65,173,140,227,173,177,27,184,140,78,114,90,94,74,158,7,149,41,29,88,88,64,35,167,225,175,14,56,169,18,121,57,48,8,97,11,111,21,140,135,140,126,33,191,251,254,234,119,225,1,158,30,87,129,232,164,95,70,38,61,20,230,14,128,88,168,96,122,220,
224,79,172,132,87,177,55,168,214,124,205,235,51,112,93,152,58,33,251,78,236,189,74,16,202,71,73,12,164,126,170,93,67,130,24,221,186,241,202,222,51,146,241,61,111,251,100,66,253,49,225,191,64,176,198,4,209,196,186,76,149,32,164,191,151,238,189,96,146,154,252,238,245,91,186,245,100,226,208,231,108,215,197,92,115,160,130,185,150,18,11,131,89,237,206,36,112,112,130,104,13,111,103,198,216,44,74,197,243,19,68,144,167,78,236,55,175,75,47,1,12,89,232,40,67,226,88,47,11,107,159,93,176,252,94,110,223,100,251,
211,8,180,113,27,207,18,80,1,156,159,90,9,2,3,1,0,1,58,20,108,105,99,101,110,115,101,46,119,105,100,101,118,105,110,101,46,99,111,109,18,128,3,174,52,115,20,181,168,53,41,127,39,19,136,251,123,184,203,82,119,210,73,130,60,221,209,218,48,185,51,57,81,30,179,204,189,234,4,185,68,185,39,193,33,52,110,253,189,234,201,212,19,145,126,110,193,118,161,4,56,70,10,80,59,193,149,43,155,164,228,206,15,196,191,194,10,152,8,170,175,75,252,209,156,29,207,205,245,116,204,172,40,209,180,16,65,108,249,222,136,4,48,
28,189,179,52,202,252,208,212,9,120,66,58,100,46,84,97,61,240,175,207,150,202,74,146,73,216,85,228,43,58,112,62,241,118,127,106,155,211,109,107,248,43,231,107,191,12,186,79,222,89,210,171,204,118,254,182,66,71,184,92,67,31,188,165,34,102,182,25,252,54,151,149,67,252,169,203,189,187,250,250,14,26,85,231,85,163,199,188,230,85,249,100,111,88,42,185,207,112,170,8,185,121,248,103,246,58,11,43,127,219,54,44,91,196,236,213,85,216,91,202,169,197,147,195,131,200,87,212,157,170,183,126,64,183,133,29,223,210,
73,152,128,142,53,178,88,231,93,120,234,192,202,22,247,4,115,4,194,13,147,237,228,232,255,28,111,23,230,36,62,63,61,168,252,23,9,135,14,196,95,186,130,58,38,63,12,239,161,247,9,59,25,9,146,131,38,51,55,5,4,58,41,189,166,249,180,52,44,200,223,84,60,177,161,24,47,124,95,255,51,241,4,144,250,202,91,37,54,11,118,1,94,156,90,6,171,142,224,47,0,210,232,213,152,97,4,170,204,77,212,117,253,150,238,156,228,227,38,242,27,131,199,5,133,119,179,135,50,205,218,188,106,107,237,19,251,13,73,211,138,69,235,135,165,
244],V2:[10,187,2,8,3,18,16,160,220,209,96,48,44,4,19,213,32,118,162,12,129,36,76,24,191,132,241,238,5,34,142,2,48,130,1,10,2,130,1,1,0,188,93,207,198,77,28,25,14,217,103,5,56,106,241,93,252,216,61,104,36,3,52,23,246,32,9,11,77,12,188,251,189,53,137,249,11,36,52,104,185,13,221,170,204,238,44,227,192,167,199,144,75,188,190,7,211,16,145,75,13,132,119,167,164,29,39,107,69,76,50,161,131,132,248,207,237,214,130,27,113,204,37,77,14,232,248,26,85,213,126,147,7,183,241,23,44,117,142,192,109,70,192,86,166,
21,58,231,13,118,215,58,166,74,44,51,103,50,120,198,197,213,64,34,105,66,115,72,235,88,51,28,238,54,93,147,140,187,28,173,50,109,5,234,155,141,29,52,234,135,38,55,103,111,116,98,171,210,13,211,129,249,70,57,64,155,151,38,8,225,188,229,3,247,234,26,46,91,211,250,252,38,87,111,205,37,108,74,168,112,74,116,191,73,170,243,167,54,36,20,23,72,67,35,181,159,241,102,250,221,22,18,92,161,54,236,172,183,214,18,160,199,92,46,171,180,211,90,64,62,144,121,201,77,74,211,17,244,49,124,244,120,116,148,234,184,79,
136,12,176,34,231,39,149,87,28,219,2,3,1,0,1,58,12,99,97,115,116,108,97,98,115,46,99,111,109,64,1,18,128,3,50,97,151,165,120,63,210,172,84,187,10,36,166,202,149,32,118,107,37,251,186,217,170,254,4,95,20,85,66,157,43,154,24,66,136,147,101,223,78,204,173,228,175,111,100,168,97,164,222,84,160,51,79,233,227,223,105,252,85,11,242,129,199,206,11,9,236,118,163,118,204,179,159,69,108,223,229,114,176,8,26,36,9,23,103,233,62,55,162,154,209,96,98,102,80,173,114,233,213,36,56,135,65,188,245,176,95,70,189,199,
143,81,72,182,124,207,225,238,28,172,144,110,89,44,12,137,51,52,239,130,117,119,15,207,200,229,142,166,8,80,79,111,255,191,70,47,189,108,75,234,184,241,119,21,255,98,167,124,132,30,239,102,113,7,132,96,39,134,123,220,209,255,110,222,35,147,0,77,125,253,129,139,66,158,126,221,13,117,113,163,143,235,9,130,180,3,133,94,152,45,199,69,168,182,95,122,82,25,203,10,99,191,186,193,238,225,224,140,156,142,171,110,26,214,32,240,6,218,138,10,47,114,133,17,1,151,43,213,223,198,210,186,81,18,50,221,84,177,180,
26,58,164,235,113,177,235,207,22,230,8,119,76,167,166,176,173,209,214,53,116,116,231,227,221,238,174,87,249,19,166,195,81,47,210,172,15,75,251,202,192,80,85,213,23,17,178,104,181,193,115,239,91,72,230,167,55,143,10,250,26,54,8,60,13,213,206,235,3,215,179,205,232,1,144,158,35,48,196,149,117,219,63,196,130,117,40,165,193,65,215,122,44,201,218,67,216,6,131,178,5,168,229,21,137,112,215,254,127,48,160,181,68,49,255,64,46,247,236,85,155,146,208,5,219,252,37,174,31,218,136,135,55,119,112]};_.$l.prototype.Ta=function(a,b){this.f[a]=b};_.H("clpp.drm.DrmEnvironment",_.$l);_.$l.prototype.setDrmSystem=_.$l.prototype.Ta;_.am.prototype.getPosition=function(){return this.a};_.am.prototype.Ga=function(){return this.f.byteLength};_.am.prototype.seek=function(a){(0>a||a>=this.f.byteLength)&&_.bm();this.a=a};_.dm.prototype.getPosition=function(){return this.a};_.dm.prototype.Ga=function(){return this.f.byteLength};_.dm.prototype.skip=function(a){this.a+a>this.f.byteLength&&_.fm();this.a+=a};_.dm.prototype.seek=function(a){if(0>a||a>=this.f.byteLength)throw _.fm();this.a=a};_.H("clpp.utils.dataview.DataViewReader",_.dm);_.r=_.mm.prototype;_.r.L=function(a,b){var c=qm(a);this.h[c]=eu;this.f[c]=b;return this};_.r.Y=function(a,b){var c=qm(a);this.h[c]=fu;this.f[c]=b;return this};_.r.stop=function(){this.a=!0};_.r.parse=function(a,b){var c=_.Ui(a);c=new _.dm(new DataView(c.buffer,c.byteOffset,c.byteLength),!1);for(this.a=!1;_.em(c)&&!this.a;)this.ye(0,c,b)};
_.r.ye=function(a,b,c){var d=b.getPosition(),e=_.W(b),f=_.W(b),g=!1;this.g.debug("Parsing MP4 box",_.rm(f));switch(e){case 0:e=b.Ga()-d;break;case 1:e=_.jm(b),g=!0}var h=this.f[f];if(h){var l=null,m=null;this.h[f]==fu&&(m=_.W(b),l=m>>>24,m&=16777215);f=b.getPosition()-d;var n=d+e;c&&n>b.Ga()&&(n=b.Ga());n-=b.getPosition();b=0<n?_.lm(b,n):new Uint8Array(0);b=new _.dm(new DataView(b.buffer,b.byteOffset,b.byteLength),!1);h({parser:this,partialOkay:c||!1,version:l,flags:m,reader:b,size:e,start:d+a,headerSize:f,
has64BitSize:g})}else a=Math.min(d+e-b.getPosition(),b.Ga()-b.getPosition()),b.skip(a)};_.H("clpp.utils.Mp4Parser",_.mm);_.mm.typeToString=_.rm;_.mm.allData=_.pm;_.mm.sampleDescription=_.om;_.mm.children=_.nm;_.mm.prototype.parseNext=_.mm.prototype.ye;_.mm.prototype.parse=_.mm.prototype.parse;_.mm.prototype.stop=_.mm.prototype.stop;_.mm.prototype.fullBox=_.mm.prototype.Y;_.mm.prototype.box=_.mm.prototype.L;_.mm.headerSize=_.sm;var eu=0,fu=1;_.H("clpp.utils.FairplayUtils",tm);tm.parseFairPlayResponse=_.zm;tm.formatFairPlayRequest=_.ym;tm.createFairplayPayload=xm;tm.extractContentId=_.vm;tm.extractExtXKeyUri=um;var Mm=new _.K("clpp.drm.DrmToday"),Bm="PRODUCTION",Cm="STAGING",Fm="TEST",gu={PRODUCTION:Bm,STAGING:Cm,TEST:Fm};_.H("clpp.drm.DrmToday.Environment",gu);_.H("clpp.drm.DrmToday.WidevineCertificates",{V1_PROD:"V1_PROD",V1_STAGING:"V1_STAGING",V2:"V2"});
for(var Hm="/license-proxy-widevine/cenc/",Im="/license-proxy-headerauth/drmtoday/RightsManager.asmx",Jm="/license-server-fairplay/",Vm={"00000":"Success","01000":"General Internal Error","02000":"General Request Error","03000":"General Request Authentication Error",3E4:"General DRM error",4E4:"General Widevine Modular error",40001:"Widevine Device Certificate Revocation (wv 127)",40002:"Widevine Device Certificate Revocation - Permanently (wv 175)",41E3:"General Widevine Classic error",42E3:"General Playready error",
43E3:"General Fairplay error",44E3:"General OMA error",44001:"OMA Device registration failed",45E3:"General CDRM error",45001:"CDRM Device registration failed",6E4:"CSL",60001:"CSL - INVALID",60100:"CSL - Denied by Stream Limiting",7E4:"General Output Protection",70001:"All keys filtered by EOP settings",8E4:"TAKE DOWN",80001:"TAKE DOWN - Denied by Take Down",9E4:"General GBL error",90001:"License delivery prohibited in your region"},hu={video:[eb,gb,fb,_.Vb,_.Ub],audio:[_.Vb,_.Ub]},iu={video:["3000",
"2000","150"],audio:["2000","150"]},ju=_.u(Object.keys(gu)),ku=ju.next();!ku.done;ku=ju.next()){var Am=ku.value,lu=Da;Am!==Bm&&(lu+="_"+Am);var mu=new _.$l(lu),nu=null;switch(Am){case Bm:nu=Zl("V1_PROD");break;case Cm:nu=Zl("V2");break;case Fm:nu=null}mu.Ta(_.Rd,{licenseUrl:Km(_.Rd),videoRobustness:hu.video,audioRobustness:hu.audio,persistentStateRequired:!1,distinctiveIdentifierRequired:!1,serverCertificate:nu,modifiers:{licenseRequest:_.Pm,licenseResponse:_.Um}});mu.Ta(_.Md,{licenseUrl:Km(_.Md),
certificateUrl:Gm()+"/license-server-fairplay/cert/",modifiers:{licenseRequest:_.Rm,licenseResponse:_.Sm,extractContentId:_.Nm,certificateRequest:_.Tm}});mu.Ta(_.Pd,{licenseUrl:Km(_.Pd),videoRobustness:iu.video,audioRobustness:iu.audio,modifiers:{licenseRequest:Qm}});_.Vl(mu)};_.H("clpp.drm.eme.EmeFactory",Xm);var Ym=[];Xm.Apis={STANDARD:Sb,APPLE:"APPLE",WEBKIT:"WEBKIT",NOP:"NOP"};var gn;_.on=[154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149];gn=[237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237];_.w(fn,en);_.w(_.kn,en);var qn=!!(performance&&performance.mark&&performance.measure);tn.prototype.j=function(a){if(1<a.version)_.J("Unrecognized PSSH version found!");else{var b=_.hj(_.lm(a.reader,16)),c=[];if(0<a.version)for(var d=_.W(a.reader),e=0;e<d;++e){var f=_.hj(_.lm(a.reader,16));c.push(f)}d=_.W(a.reader);a.reader.skip(d);this.h.push.apply(this.h,c);this.f.push(b);this.a.push({start:a.start,end:a.start+a.size-1});a.reader.getPosition()!=a.reader.Ga()&&_.J("Mismatch between box size and data size!")}};_.r=_.xn.prototype;_.r.destroy=function(){var a=this;return _.E(function(b){if(1==b.a){if(a.j)return _.x(b,a.Da,0);a.j=!0;return _.x(b,En(a),4)}a.Da.resolve();return b.F(0)})};_.r.keySystem=function(){return this.a?_.co(this.a.keySystem):""};_.r.getDrmInfo=function(){return this.a};
_.r.vh=function(a){var b=this,c,d,e;return _.E(function(f){if(1==f.a){if(b.G&&b.J===Fn)return f["return"]();c=Math.floor(a.timeStamp);d="drm.msg."+c+ia;e="drm.msg."+c+".end";_.rn(d);return!b.h.delayLicenseRequestUntilPlayed||b.B&&!b.B.paused||b.Ma?_.x(f,oo(b,a),2):(b.ha.push(a),f.F(2))}_.rn(e);_.sn("drm.sess.msg."+c,d,e);_.y(f)})};
_.r.qh=function(a){var b=this,c=a.target;this.g.info("Key status changed for session",c.sessionId);var d=this.f.get(c),e=!1;c.keyStatuses.forEach(function(g,h){if(typeof h==_.Wf){var l=h;h=g;g=l}if(ko(b.a.keySystem)&&16===h.byteLength&&_.wk()){l=_.aj(h);var m=l.getUint32(0,!0),n=l.getUint16(4,!0),p=l.getUint16(6,!0);l.setUint32(0,m,!1);l.setUint16(4,n,!1);l.setUint16(6,p,!1)}d&&g!==Uf&&(d.loaded=!0);d&&d.Ja&&d.Ja.resolve();"expired"===g&&(e=!0);l=_.Ui(h);var q=_.hj(l);"00"===q&&d&&d.keyId?q=d.keyId:
b.a.keySystem.startsWith(_.Md)&&16!==l.byteLength&&(q=_.R.fromCharCode(l));(l=q||"")?b.g.info(rb+q+"': "+g):b.g.info("Key status global keys: "+g);b.l.set(l,g);d&&!d.keyId&&b.f.forEach(function(t,v){v===c||t.keyId!==q||t.loaded||(t.loaded=!0)})});d&&d.loaded&&d.$a.forEach(function(g){b.l.get(g)===Uf&&(b.g.warn(rb+g+fa),b.l.set(g,_.bf))});for(a=0;a<this.a.initData.length;a++){var f=this.a.initData[a];f.keyId&&this.l.get(f.keyId)===Uf&&_.ij(f.initData,d.initData)&&(this.g.warn(rb+f.keyId+fa),this.l.set(f.keyId,
_.bf))}a=c.expiration-Date.now();(0>a||e&&1E3>a)&&d&&!d.tb&&(this.g.debug("Session has expired",c.sessionId),(a=this.f.get(c))&&a.Nc&&a.Nc.stop(),this.f["delete"](c),c.close()["catch"](function(){}));fo(this)&&(this.H.resolve(),1!==this.f.size||e?this.ea.aa(.5):vn(this))};var Fn=0,un=3;_.so=new Map;_.to=new _.K("clpp.text");_.Co.prototype.getStats=function(){return{width:this.w,height:this.h,streamBandwidth:this.o,decodedFrames:this.j,droppedFrames:this.l,corruptedFrames:this.C,estimatedBandwidth:this.f,loadLatency:this.A,playTime:yo(this.a,_.Vo),pauseTime:yo(this.a,_.Uo),bufferingTime:yo(this.a,_.Mo),stateHistory:zo(this.a),switchHistory:Bo(this.B)}};_.Eo.prototype.value=function(){void 0==this.a&&(this.a=this.f());return this.a};var Fo=new _.Eo(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,_.Fe],[HTMLMediaElement.HAVE_CURRENT_DATA,_.Ee],[HTMLMediaElement.HAVE_FUTURE_DATA,kd],[HTMLMediaElement.HAVE_ENOUGH_DATA,ld]])});Ko.prototype.dc=function(a,b){this.m&&this.m.trigger(new _.L(a,{detail:b}))};Ko.prototype.getState=function(){return No(this,"")};Ko.prototype.U=function(a){(a=a&&a.detail)&&a.severity&&a.severity===_.Q&&Ro(this,_.So)};Ko.prototype.destroy=function(){this.g.debug("Stop watching for video events for "+this.m.namespace());this.a.release()};_.H("clpp.utils.media.detectType",Xo);var $o=new _.K("clpp.sources");_.w(ap,_.Dl);_.r=ap.prototype;_.r.init=function(a,b){_.Dl.prototype.init.call(this,a,b);this.j=new Ko(this);Ro(this.j,_.Ho)};_.r.namespace=function(){return Gd};
_.r.unload=function(){var a=this,b;return _.E(function(c){if(!a.w)return c.F(0);a.log.debug(_.Qb,a.w);a.G&&(a.G.stop(),a.G=null);(b=a.getTrackManager())&&b.release();a.B&&(a.B.destroy(),a.B=null);a.P&&(a.P.destroy(),a.P=null);a.l&&a.l.release();a.o&&(a.o.destroy(),a.o=null);_.Hh(a.h);a.f&&(a.f=new _.Co);a.H=null;a.w=null;a.I=!1;a.a&&(a.a.removeAttribute("src"),a.a.load());return _.x(c,ep(a),0)})};
_.r.release=function(){var a=this;return _.Dl.prototype.release.call(this).then(function(){return a.unload()}).then(function(){a.j&&Ro(a.j,_.Ho)})};
_.r.destroy=function(){var a=this;if(this.A)return this.log.warn("Player is already destroyed!"),Promise.resolve();this.A=!0;return _.Dl.prototype.destroy.call(this).then(function(){return a.release()}).then(function(){a.log.debug(Ha);var b=a.getTrackManager();b&&b.destroy();a.l&&(a.l.destroy()["catch"](function(c){a.log.warn("Error while disposing metadata handler",c)}),a.l=null);a.j&&(a.j.destroy(),a.j=null);a.f=null})};_.r.getDrmInfo=function(){return this.o?this.o.getDrmInfo():null};
_.r.detach=function(){};_.r.getTrackManager=function(){return this.gd};
_.r.load=function(a){var b=this,c,d,e,f,g;return _.E(function(h){switch(h.a){case 1:if(b.A)return h["return"](bp());if(!b.getSurface()||!b.getSurface().getMedia())return h["return"](Promise.reject("No surface or no media element in surface"));c=_.N;d=b.C.getMedia();b.J=Date.now()/1E3;b.f=new _.Co;b.h.on(b,_.Tf,function(){b.f&&_.xo(b.f.a,b.getState())});Ro(b.j,_.To);b.w=_.Zo(a);_.Cl(a)&&(b.configuration=_.Bl(b.fe,a));b.log.debug(_.vb,b.configuration);b.log.debug(_.Ib,b.w);e=_.vo(b.configuration,[_.te,
"native"]);b.P=e.create(b);b.P.setTextVisibility(!0);b.configuration.enableHtmlCue&&_.Fl(_.$f)&&!_.Dk()&&(b.B=new hi(b),b.B.start(d));b.l?b.l.release():b.l=new Jh(b);Lh(b.l,d);f=b.getTrackManager();f.load();d.loop=!!b.configuration.loop;c.R(b.configuration.volume)||b.setVolume(b.configuration.volume);c.R(b.configuration.muted)||b.setMuted(b.configuration.muted);b.h.one(d,kd,function(){b.trigger(new _.L(_.cu))});null==b.configuration.startTime&&jp(b,d);_.A(h,2);return _.x(h,dp(b,d),4);case 4:return _.x(h,
gp(b),5);case 5:return _.x(h,ip(b).O,6);case 6:_.ah(h,0);break;case 2:g=_.C(h),b.I=!1,b.onError(g),_.y(h)}})};_.r.onError=function(a){this.I||(a.severity===_.Q&&null!==this.j&&Ro(this.j,_.So),this.trigger(new _.L(_.ne,{detail:a})))};_.r.yg=function(){return new Xk};_.r.getState=function(){return null!==this.j?this.j.getState().currentState:_.Io};
_.r.getPresentationStartTime=function(){if(this.a&&this.a.getStartDate&&this.isLive()){var a=this.a.getStartDate();return isNaN(a.getTime())?(this.log.warn("EXT-X-PROGRAM-DATETIME required to get presentation start time as Date!"),null):a.getTime()/1E3}return null};_.r.getSeekRange=function(){var a=this.getSurface().getMedia();if(a&&a.src){a=a.seekable;if(a.length)return this.H=a={start:a.start(0),end:a.end(a.length-1)};if(this.H)return this.H}return{start:0,end:0}};
_.r.isLive=function(){return this.a&&this.a.src?Infinity===this.a.duration:!1};
_.r.getStats=function(){if(!this.f||!this.a)return _.Do();this.f&&_.xo(this.f.a,this.getState());var a=this.a,b=this.f,c=a.videoHeight;b.w=a.videoWidth;b.h=c;a.getVideoPlaybackQuality&&(a=a.getVideoPlaybackQuality(),b=this.f,c=Number(a.totalVideoFrames),b.l=Number(a.droppedVideoFrames),b.j=c,this.f.C=Number(a.corruptedVideoFrames));if(a=this.getTrackManager())if(a=a.ka())a.bandwidth&&(this.f.o=a.bandwidth),a.kd&&(this.f.f=a.kd);return this.f.getStats()};
_.r.getTimelineCues=function(){return this.l?this.l.getTimelineCues():[]};kp.prototype.a=function(){return Gd};kp.prototype.canPlay=function(a,b){var c=a.type||"",d=c===_.Tc,e=c===_.Yc,f=c===_.dl;return _.Ak()||d||e||f&&!_.Bk()?0:""!==Gk().canPlayType(c)?f&&_.Bk()&&(window.ManagedMediaSource||window.MediaSource&&MediaSource.isTypeSupported)&&!b.streaming.preferNativeHlsOnSafari?1:2:0};kp.prototype.create=function(){return new ap};_.zh(new kp);_.H("clpp.ads.PodType",{PREROLL:0,MIDROLL:1,POSTROLL:2});_.H("clpp.ads.Technology",{CLIENT_SIDE:0,SERVER_SIDE:1});_.H("clpp.ads.ErrorType",{LOAD:0,PLAY:1,OTHER:2});var mp=new _.K("clpp.ads"),lp=[];_.H("clpp.utils.dom.createHTMLElement",_.tp);up.prototype.set=function(a){this.h.clear();this.f&&(this.f.disconnect(),this.f=null);if(this.a=a)this.f=wp(this,a)};up.prototype.get=function(){return this.a};_.r=Ap.prototype;_.r.getMedia=function(){return this.f.get()};_.r.getContainer=function(){return this.a.get()};_.r.getSafeContainer=function(){return this.a};_.r.getId=function(){return this.l};_.r.getUniqueCssClass=function(){return this.o};_.r.getCastElement=function(){return this.h};_.r.isFullscreen=function(){return!!document.fullscreenElement};_.r.hideMediaElement=function(){var a=this.getMedia();a?_.rp(a,xd):this.g.debug("No media element available that could be hidden")};
_.r.showMediaElement=function(){var a=this.getMedia();a?a.classList.remove(xd):this.g.debug("No media element available that could be shown")};_.r.addElementToContainer=function(a,b,c){b=void 0===b?!1:b;c=void 0===c?!1:c;var d=this.getContainer();if(!d)throw Error("No container is available. Unable to add element");b&&_.rp(a,_.wd);c?d.insertBefore(a,d.firstElementChild):d.appendChild(a)};
_.r.removeElementFromContainer=function(a){var b=this.getContainer();if(!b)throw Error("No container is available. Unable to remove element");b.removeChild(a)};_.r.hide=function(a){_.rp(a,xd)};_.r.show=function(a){a.classList.remove(xd)};_.r.release=function(){this.j.release()};Ap.prototype.removeElementFromContainer=Ap.prototype.removeElementFromContainer;Ap.prototype.addElementToContainer=Ap.prototype.addElementToContainer;Ap.prototype.getCastElement=Ap.prototype.getCastElement;
Ap.prototype.getContainer=Ap.prototype.getContainer;Ap.prototype.getMedia=Ap.prototype.getMedia;var xp={disableContainer:!1,webOSStartupPatch:!0,crossorigin:"anonymous",containerEl:null},yp=1;Cp.prototype.release=function(){this.a.release();Gp(this);this.m=null};_.H("clpp.polyfill.installAll",Jp);var Ip=[];_.H("clpp.polyfill.register",_.Kp);Mp.prototype.verify=function(a,b){var c=_.R.Va,d={kty:"RSA",n:a.n,e:a.e},e=this.h+"."+this.f,f=this.j;return new Promise(function(g,h){try{var l=window&&window.crypto&&window.crypto.subtle}catch(n){}if(l){var m={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};l.importKey("jwk",d,m,!1,["verify"]).then(function(n){var p=c(e),q=_.fj(f);return l.verify(m,n,q.buffer,p.buffer)}).then(function(n){n?g():h(Zb)})["catch"](h)}else b?h("Web Crypto API is not supported"):g()})};var ou={n:"vXdoJIQCz6sZ9pbduNukEHOR0H2dHlwuuBUAR5Ot7WLEYvav5mn63yxr6F6TIl8RHTFw2siXQhHblZH2Y89o8vhcZRFkYXo6h0igEVafu-n0w52UEcH8Cqzlb8Q7x03Qb8OcKLngSzDkwe5Y2Aix6I66RRVNLLssqyjp2n5tXs4JQmYdqY6hhpGhmBN84naeCTdcPpAYhCw8jqbTSNrJp5hjU4GVvOiUtoYCvdESV9xrOR7fPCFXhWfLtC3i1k1zVoIM7YW5qD0F676jhqkF-GmDuCHpRY2I2Cxui-ytYEVIM6_pylSIlmYLjARmv2jXz9aV_WvHLh6B8Yx0slNGCQ",e:"AQAB"},xl="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJ1cmxzIjpbIjovL2Nhc3RsYWJzLmNvbSJdLCJ0eXBlIjoiV2ViIiwia2lkIjoxOTUwLCJpbHYiOmZhbHNlfQ.jzGGRcbFr_2QET-4tbMcpR5pSaj7eV7X2d1HWw_VKQpPg3zCwSZSDuqw225dIYyAYwLSiElbozbZPSArkBXOsoUm-KZRUPF4m7WG0T7Uza5G-QaQw57BbbfcSsooSpatC997kHKLMTjO71By9Olcu5ykN164nZpGQtZNzQjYag-bnUaMVI5vvhzjlvDihORQ9V_qRlEh0-mpoz6W0-36HGAbWIXWq0kxPh6inbovby-ZmFpqGrVjWOEFa55EARZXPNW9ERupW5xrrYHZdwwTpdRTY5IwEnobS85yTrLhK8Y2MV4jlQLTtQp372fKDsuU6q6_4XvmNq1SgAoKoaf41g";Np.prototype.verify=function(){var a=this;return(new Promise(function(b,c){try{var d=Op(a);b(d)}catch(e){c()}})).then(function(b){return b.verify(ou)})["catch"](function(b){if(b&&b!==Zb){var c=window.location.href;var d=new _.qi(c);c=d.fb||d.Pa?d:new _.qi("//"+c);if(/(^127\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)|(^192\.168\.)|(^localhost)/.test(c.Pa))return Promise.resolve()}throw b;})};var Zp="vod",Yp="live";_.w(X,_.tl);_.r=X.prototype;_.r.on=function(a,b,c){return _.tl.prototype.on.call(this,a,b,c)};_.r.one=function(a,b,c){return _.tl.prototype.one.call(this,a,b,c)};_.r.off=function(a,b){return _.tl.prototype.off.call(this,a,b)};_.r.init=function(){};_.r.onError=function(a){if(null!==this.a)this.a.onError(a);else this.trigger(new _.L(_.ne,{detail:a}))};_.r.nc=function(a){a=this.M[a];void 0===a&&(a=null);return a};_.r.getSurface=function(){return this.h};_.r.getConfiguration=function(){return _.N.Oa(this.f)};
_.r.getDrmInfo=function(){return this.a?this.a.getDrmInfo():null};_.r.unload=function(){return this.a?this.a.unload():Promise.resolve()};_.r.detach=function(){return this.a?this.a.detach():Promise.resolve()};_.r.release=function(){var a=this;if(null!=this.l)return this.g.info("Player release already in progress"),this.l;this.g.debug("Releasing player");this.l=fq(this);return this.l["finally"](function(){a.g.debug("Player released");a.l=null})};
_.r.destroy=function(){var a=this;if(this.H)return this.g.debug("The player is already destroyed. No-op"),new Promise(function(b){return b()});this.H=!0;return this.release().then(function(){a.g.debug(Ha);a.trigger(new _.L("destroying"));return a.vc(_.We)}).then(function(){a.a&&a.a.removeDelegate(a);a.xd.clear();a.V.release();if(a.a)return a.a.destroy()}).then(function(){return a.B.destroy()}).then(function(){Nl();a.a=null;a.trigger(new _.L("destroyed"))})};
_.r.load=function(a){var b=this,c;return _.E(function(d){switch(d.a){case 1:return _.A(d,2),_.rn(nf),_.x(d,_.kq(b,a),4);case 4:return _.x(d,_.lq(b),5);case 5:return _.x(d,_.hq(b),6);case 6:_.rn(mf);_.sn("player.load",nf,mf);_.ah(d,0);break;case 2:c=_.C(d);if(b.l)throw b.g.info("Load interrupted while a player release is pending"),new _.P(_.Q,7,7E3);throw c;}})};
_.r.preload=function(a){var b=this,c;return _.E(function(d){if(1==d.a)return _.x(d,_.kq(b,a),2);if(!b.a)return b.g.warn(Hb),d["return"]();c=b.a;return c.preload?_.x(d,c.preload(b.f),0):(b.g.warn(Nb),d["return"]())})};_.r.vc=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var e=this;d=this.K.map(function(f){var g=f[a];return g.call.apply(g,[f,e].concat(_.Og(c)))}).filter(function(f){return f instanceof Promise});return Promise.all(d)};_.r.use=function(a){(a=Ol(a))&&a.o(this)};
_.r.remove=function(a){return(this.getState()<=_.Ho||this.I)&&null!==Il(a)?(Pl(a),this.J=!0):!1};_.r.play=function(){return this.a?this.j&&this.a.namespace()!==_.Cd?this.j.start(this.a):this.a.play():Promise.reject("No player initialized. You need to load content before calling play.")};_.r.pause=function(){return this.a?this.a.pause():Promise.reject("No player initialized. You need to load content before calling pause.")};_.r.getTrackManager=function(){return this.a&&this.a.getTrackManager()};
_.r.getBufferInfo=function(a){return this.a?this.a.getBufferInfo(a):new _.sl};_.r.getState=function(){return this.a?this.a.getState():_.Ho};_.r.getPeriods=function(){return this.a?this.a.getPeriods():[]};_.r.isEnded=function(){return this.a&&this.a.isEnded()||!1};_.r.isPaused=function(){return this.a&&this.a.isPaused()||!1};_.r.getPosition=function(){return this.a?this.a.getPosition():0};
_.r.seek=function(a){return this.getState()===_.So?Promise.reject("Cannot seek in current state."):this.a?this.a.seek(a):Promise.reject("delegate does not exist")};_.r.getPresentationStartTime=function(){return this.a?this.a.getPresentationStartTime():null};_.r.getSeekRange=function(){return this.a?this.a.getSeekRange():{start:0,end:0}};_.r.Tc=function(){var a=this.a;return a&&a.Tc?a.Tc():null};_.r.getVolume=function(){return this.a?this.a.getVolume():null};_.r.setVolume=function(a){this.a&&this.a.setVolume(a)};
_.r.getDuration=function(){return this.a?this.a.getDuration():-1};_.r.getAdsManager=function(){return this.j};_.r.namespace=function(){return this.a&&this.a.namespace()||"Undefined"};_.r.canPlay=function(a,b){return this.a?this.a.canPlay(a,b):0};_.r.getPlaybackRate=function(){return this.a?this.a.getPlaybackRate():1};_.r.setPlaybackRate=function(a,b){this.a&&this.a.setPlaybackRate(a,b)};_.r.isMuted=function(){return this.a&&this.a.isMuted()||!1};_.r.setMuted=function(a){this.a&&this.a.setMuted(a)};
_.r.getNetworkEngine=function(){return this.B};_.r.setNetworkEngine=function(a){this.B=a};_.r.getTextDisplayer=function(){return this.a&&this.a.getTextDisplayer()};_.r.isLive=function(){return!!this.a&&this.a.isLive()};_.r.getStats=function(){return this.a?this.a.getStats():null};_.r.le=function(){return Object.freeze(this.o)};_.r.setSourceIndex=function(a){this.a&&this.a.setSourceIndex(a)};_.r.getSourceIndex=function(){return this.a?this.a.getSourceIndex():-1};
_.r.getLoadedSource=function(){return this.a&&this.a.getLoadedSource()};_.r.getTimelineCues=function(){return this.a?this.a.getTimelineCues():[]};_.r.he=function(){return this.a?this.a.he():null};_.r.resetAbr=function(){this.a&&this.a.resetAbr()};_.r.setDrmCustomDataModifier=function(a){this.Pc=a;jq(this)};_.r.setCdnErrorCallback=function(a){this.G=a;this.a&&this.a.setCdnErrorCallback(this.G)};_.r.kh=function(){this.$e=!0};_.H("clpp.Player",X);X.registerPlugin=_.nq;
X.prototype.setCdnErrorCallback=X.prototype.setCdnErrorCallback;X.prototype.setDrmCustomDataModifier=X.prototype.setDrmCustomDataModifier;X.prototype.resetAbr=X.prototype.resetAbr;X.prototype.getTimelineCues=X.prototype.getTimelineCues;X.prototype.getLoadedSource=X.prototype.getLoadedSource;X.prototype.getSources=X.prototype.le;X.prototype.getStats=X.prototype.getStats;X.prototype.isLive=X.prototype.isLive;X.prototype.getTextDisplayer=X.prototype.getTextDisplayer;X.prototype.setNetworkEngine=X.prototype.setNetworkEngine;
X.prototype.getNetworkEngine=X.prototype.getNetworkEngine;X.prototype.setMuted=X.prototype.setMuted;X.prototype.isMuted=X.prototype.isMuted;X.prototype.setPlaybackRate=X.prototype.setPlaybackRate;X.prototype.getPlaybackRate=X.prototype.getPlaybackRate;X.prototype.namespace=X.prototype.namespace;X.prototype.getAdsManager=X.prototype.getAdsManager;X.prototype.getDuration=X.prototype.getDuration;X.prototype.setVolume=X.prototype.setVolume;X.prototype.getVolume=X.prototype.getVolume;
X.prototype.getTimelineOffset=X.prototype.Tc;X.prototype.getSeekRange=X.prototype.getSeekRange;X.prototype.getPresentationStartTime=X.prototype.getPresentationStartTime;X.prototype.seek=X.prototype.seek;X.prototype.getPosition=X.prototype.getPosition;X.prototype.isPaused=X.prototype.isPaused;X.prototype.isEnded=X.prototype.isEnded;X.prototype.getState=X.prototype.getState;X.prototype.getBufferInfo=X.prototype.getBufferInfo;X.prototype.getTrackManager=X.prototype.getTrackManager;
X.prototype.pause=X.prototype.pause;X.prototype.play=X.prototype.play;X.prototype.remove=X.prototype.remove;X.prototype.use=X.prototype.use;X.prototype.load=X.prototype.load;X.prototype.destroy=X.prototype.destroy;X.prototype.release=X.prototype.release;X.prototype.getDrmInfo=X.prototype.getDrmInfo;X.prototype.getConfiguration=X.prototype.getConfiguration;X.prototype.getSurface=X.prototype.getSurface;X.prototype.getPlugin=X.prototype.nc;X.prototype.off=X.prototype.off;X.prototype.one=X.prototype.one;
X.prototype.on=X.prototype.on;_.Ho=0;_.To=1;_.Mo=2;_.Vo=3;_.Uo=4;_.Oo=5;_.So=6;_.Io=7;_.Qo={IDLE:_.Ho,PREPARING:_.To,BUFFERING:_.Mo,PLAYING:_.Vo,PAUSED:_.Uo,ENDED:_.Oo,ERROR:_.So,UNSET:_.Io};X.State=_.Qo;var cq=[];oq.prototype.has=function(){return this.a.some(function(a){return a.Xd})};oq.prototype.get=function(){var a=this,b;return _.E(function(c){if(1==c.a){b=a.a.find(function(d){return d.Xd});if(!b)throw Error("No available players in the pool");b.Xd=!1;return _.x(c,b.ready,2)}return c["return"](b.player)})};
oq.prototype.release=function(a){var b=this,c=this.a.find(function(d){return d.player===a});if(!c)return Promise.resolve();c.Xd=!0;c.ready=new Promise(function(d){a.unload()["catch"](function(e){b.g.error("Failed to unload player",e)}).then(d)});return c.ready};oq.prototype.destroy=function(){var a=this;return _.E(function(b){return _.x(b,Promise.all(a.a.map(function(c){return c.player.destroy()})),0)})};_.w(rq,_.tl);_.r=rq.prototype;_.r.Bd=function(){return this.f};_.r.zb=function(){return this.f?this.f.player:null};_.r.Ng=function(){return this.l.get(this.a+1)||null};_.r.Pg=function(){return this.l.get(this.a-1)||null};_.r.gf=function(){return[this.Pg(),this.Ng()].filter(Boolean)};_.r.km=function(a){if(0<this.h.length)throw Error("Cannot re-set items in the playlist");this.g.info("Set items",a);this.h=a.map(function(b,c){return{config:b,index:c,preloadPromise:Promise.resolve()}})};
_.r.jm=function(a){if(0===this.h.length)throw Error(Bb);if(0>a||a>this.h.length-1)throw Error("Index out of bounds");this.a=a};_.r.Vc=function(){return this.a<this.h.length-1};_.r.Ug=function(){return 0<this.a};
_.r.Ul=function(){var a=this,b,c;return _.E(function(d){switch(d.a){case 1:if(a.j)return a.g.warn("Cannot play first item while busy"),d["return"]();if(0===a.h.length)return a.g.warn(Bb),d["return"]();a.j=!0;a.g.info("First (index: "+a.a+")");b=a.h[a.a];_.A(d,2,3);a.g.info("First loading (index: "+a.a+")");return _.x(d,xq(a,b),5);case 5:a.g.info("First playing (index: "+a.a+")");case 3:_.bh(d);a.j=!1;Cq(a);_.ch(d,0);break;case 2:throw c=_.C(d),a.g.error("First failed (index: "+a.a+")"),c;}})};
_.r.Vl=function(){var a=this,b,c,d;return _.E(function(e){switch(e.a){case 1:if(a.j)return a.g.warn("Cannot play next item while busy"),e["return"]();if(!a.Vc())return a.g.warn("There are no more items in the playlist"),e["return"]();a.j=!0;a.a+=1;a.g.info("Next (index: "+a.a+")");b=a.f;a.w.transition===_.cf&&b.player.pause();sq(a,a.a+-2);a.l["delete"](a.a);c=a.h[a.a];_.A(e,2,3);a.g.info("Next loading (index: "+a.a+")");return _.x(e,yq(a,c),5);case 5:a.g.info("Next playing (index: "+a.a+")");case 3:_.bh(e);
a.j=!1;b&&vq(a,b);Cq(a);_.ch(e,0);break;case 2:throw d=_.C(e),a.g.error("Next failed (index: "+a.a+")"),d;}})};
_.r.Wl=function(){var a=this,b,c,d;return _.E(function(e){switch(e.a){case 1:if(a.j)return a.g.warn("Cannot play previous item while busy"),e["return"]();if(!a.Ug())return a.g.warn("There are no more previous items in the playlist"),e["return"]();a.j=!0;--a.a;a.g.info("Previous (index: "+a.a+")");b=a.f;a.w.transition===_.cf&&b.player.pause();sq(a,a.a+2);a.l["delete"](a.a);c=a.h[a.a];_.A(e,2,3);a.g.info("Previous loading (index: "+a.a+")");return _.x(e,yq(a,c),5);case 5:a.g.info("Previous playing (index: "+
a.a+")");case 3:_.bh(e);a.j=!1;b&&vq(a,b);Cq(a);_.ch(e,0);break;case 2:throw d=_.C(e),a.g.error("Previous failed (index: "+a.a+")"),d;}})};_.r.destroy=function(){var a=this;return _.E(function(b){return 1==b.a?(a.g.info("Destroy"),_.x(b,Promise.all([tq(a),a.f?vq(a,a.f):Promise.resolve()]),2)):_.x(b,Dq(a),0)})};_.H(Hd,rq);rq.prototype.destroy=rq.prototype.destroy;rq.prototype.playPrev=rq.prototype.Wl;rq.prototype.playNext=rq.prototype.Vl;rq.prototype.playFirst=rq.prototype.Ul;
rq.prototype.hasPrev=rq.prototype.Ug;rq.prototype.hasNext=rq.prototype.Vc;rq.prototype.setIndex=rq.prototype.jm;rq.prototype.setItems=rq.prototype.km;rq.prototype.getPreloading=rq.prototype.gf;rq.prototype.getPrev=rq.prototype.Pg;rq.prototype.getNext=rq.prototype.Ng;rq.prototype.getCurrentPlayer=rq.prototype.zb;rq.prototype.getCurrent=rq.prototype.Bd;var uq="preload",wq=_.He;_.w(Gq,_.tl);_.r=Gq.prototype;_.r.getCurrentItem=function(){return this.a};_.r.zb=function(){return this.a?this.a.player:null};_.r.gf=function(){return Array.from(this.f.values())};_.r.Wd=function(a){this.g.info("Add items",a);this.j=this.j.concat(a.map(function(b){return Object.assign({},b,{state:"idle",jc:[],preloadPromise:Promise.resolve(),Kd:Promise.resolve()})}))};_.r.removeItems=function(a){this.g.info("Remove items",a);a?this.j=this.j.filter(function(b){return!a.includes(b.id)}):this.j=[]};
_.r.Vc=function(){return 0<this.f.size};
_.r.play=function(a){var b=this,c,d,e,f;return _.E(function(g){switch(g.a){case 1:if(b.h)return b.g.warn("Cannot play item while busy (ID: "+a+")"),g["return"]();c=b.getItem(a);if(!c)return b.g.warn(qb+a+")"),g["return"]();b.g.info("Play item (ID: "+a+")");b.h=!0;(d=b.a)&&d.player.pause();(e=b.f.has(a))&&b.f["delete"](a);_.A(g,2,3);b.g.info(pb+a+")");return e?_.x(g,Tq(b,c),6):_.x(g,Rq(b,c),6);case 6:c.uc&&c.uc(),b.trigger(new _.L(we,{detail:c})),Jq(b,c),b.g.info("Item playing (ID: "+a+")");case 3:_.bh(g);
b.h=!1;d&&Pq(b,d);Kq(b);Lq(b,c.next);_.ch(g,0);break;case 2:throw f=_.C(g),b.g.error(ob+a+")"),f;}})};
_.r.load=function(a){var b=this,c,d,e,f;return _.E(function(g){switch(g.a){case 1:if(b.h)return b.g.warn("Cannot load item while busy (ID: "+a+")"),g["return"]();c=b.getItem(a);if(!c)return b.g.warn(qb+a+")"),g["return"]();b.g.info("Load item (ID: "+a+")");b.h=!0;(d=b.a)&&d.player.pause();(e=b.f.has(a))&&b.f["delete"](a);_.A(g,2,3);b.g.info(pb+a+")");if(e){b.g.error("Loading preloaded items is not supported");g.F(5);break}return _.x(g,Qq(b,c),5);case 5:b.trigger(new _.L(we,{detail:c})),Jq(b,c),b.g.info("Item loaded (ID: "+
a+")");case 3:_.bh(g);b.h=!1;d&&Pq(b,d);Kq(b);Lq(b,c.next);_.ch(g,0);break;case 2:throw f=_.C(g),b.g.error(ob+a+")"),f;}})};_.r.getItem=function(a){return this.j.find(function(b){return b.id===a})||null};_.r.release=function(){var a=this;return _.E(function(b){if(1==b.a)return _.x(b,Promise.all([Kq(a),a.a?Pq(a,a.a):Promise.resolve()]),2);a.a=null;a.h=!1;a.removeItems();Iq(a,!0);_.y(b)})};
_.r.destroy=function(){var a=this;return _.E(function(b){return 1==b.a?(a.g.info("Destroy"),_.x(b,a.release(),2)):_.x(b,Vq(a),0)})};Gq.prototype.destroy=Gq.prototype.destroy;Gq.prototype.release=Gq.prototype.release;Gq.prototype.getItem=Gq.prototype.getItem;Gq.prototype.load=Gq.prototype.load;Gq.prototype.play=Gq.prototype.play;Gq.prototype.hasNext=Gq.prototype.Vc;Gq.prototype.removeItems=Gq.prototype.removeItems;Gq.prototype.addItems=Gq.prototype.Wd;Gq.prototype.getPreloading=Gq.prototype.gf;
Gq.prototype.getCurrentPlayer=Gq.prototype.zb;Gq.prototype.getCurrentItem=Gq.prototype.getCurrentItem;var Oq="preload",Sq=_.He;_.w($q,_.tl);_.r=$q.prototype;_.r.load=function(a){var b=this,c;return _.E(function(d){if(1==d.a)return _.x(d,br(b,a,!1),2);b.trigger(new _.L(pu));c=b.a.getCurrentItem();c.primary&&b.trigger(new _.L(Br));_.y(d)})};_.r.zd=function(){var a=this.l;return a?this.j.map(function(b){return{cueId:b.cueId,startTime:b.startTime,endTime:b.endTime,primaryDuration:a}}):[]};_.r.Jk=function(a){var b=this;return _.E(function(c){return _.x(c,br(b,a,!0),0)})};
_.r.unload=function(){var a=this;return _.E(function(b){if(1==b.a)return _.x(b,a.a.release(),2);a.j=[];_.y(b)})};_.r.destroy=function(){var a=this;return _.E(function(b){return _.x(b,a.a.destroy(),0)})};_.r.xm=function(){var a=this,b;return _.E(function(c){if(1==c.a)return _.x(c,Hq(a.a),2);a.trigger(new _.L(pu));b=a.a.getCurrentItem();b.primary&&a.trigger(new _.L(Br));_.y(c)})};_.r.getPosition=function(){var a=this.a.zb();return a?a.getPosition():null};_.r.zb=function(){return this.a.zb()};
_.r.getCurrentItem=function(){return this.a.getCurrentItem()};_.H(Fd,$q);$q.prototype.getCurrentItem=$q.prototype.getCurrentItem;$q.prototype.getCurrentPlayer=$q.prototype.zb;$q.prototype.getPosition=$q.prototype.getPosition;$q.prototype.unpause=$q.prototype.xm;$q.prototype.destroy=$q.prototype.destroy;$q.prototype.unload=$q.prototype.unload;$q.prototype.loadPaused=$q.prototype.Jk;$q.prototype.getCues=$q.prototype.zd;$q.prototype.load=$q.prototype.load;
var hr="new",nr="preparing",pr="ready",Ar="completed",qr="failed",or="interstitial-preload-started",rr="x-asset-list-request-started",tr="x-asset-list-request-ended",wr="interstitial-scheduled",yr="interstitial-started",zr="interstitial-ended",xr="interstitial-item-started",Zq="primary-player-changed",Wq="item-changed",pu="playback-started",Br="primary-started",lr="primary-ended",gr="cues-changed";_.r=Dr.prototype;_.r.xb=function(){};_.r.yb=function(){};_.r.Eb=function(){};_.r.getId=function(){};_.r.getCreativeId=function(){};_.r.getApiFramework=function(){};_.r.getAdSystem=function(){};_.r.getAdvertiserName=function(){};_.r.getTitle=function(){};_.r.getDuration=function(){};_.r.getSkipTimeOffset=function(){};_.r.rc=function(){};_.r.Rb=function(){};_.r.getMediaUrl=function(){};_.r.Bb=function(){};_.r.Ab=function(){};_.r.ob=function(){};_.r.cb=function(){};_.r.getPodIndex=function(){};
_.r.Sb=function(){};_.r.Tb=function(){};_.r.Db=function(){};_.r.getWrapperAdIds=function(){};_.r.getWrapperAdSystems=function(){};_.r.getWrapperCreativeIds=function(){};_.H("clpp.ads.IAd",Dr);Dr.prototype.getWrapperCreativeIds=Dr.prototype.getWrapperCreativeIds;Dr.prototype.getWrapperAdSystems=Dr.prototype.getWrapperAdSystems;Dr.prototype.getWrapperAdIds=Dr.prototype.getWrapperAdIds;Dr.prototype.getSequenceLength=Dr.prototype.Db;Dr.prototype.getPositionInSequence=Dr.prototype.Tb;
Dr.prototype.getPodTimeOffset=Dr.prototype.Sb;Dr.prototype.getPodIndex=Dr.prototype.getPodIndex;Dr.prototype.getPodType=Dr.prototype.cb;Dr.prototype.getMediaBitrate=Dr.prototype.ob;Dr.prototype.getMediaHeight=Dr.prototype.Ab;Dr.prototype.getMediaWidth=Dr.prototype.Bb;Dr.prototype.getMediaUrl=Dr.prototype.getMediaUrl;Dr.prototype.getClickThroughUrl=Dr.prototype.Rb;Dr.prototype.isBumper=Dr.prototype.rc;Dr.prototype.getSkipTimeOffset=Dr.prototype.getSkipTimeOffset;Dr.prototype.getDuration=Dr.prototype.getDuration;
Dr.prototype.getTitle=Dr.prototype.getTitle;Dr.prototype.getAdvertiserName=Dr.prototype.getAdvertiserName;Dr.prototype.getAdSystem=Dr.prototype.getAdSystem;Dr.prototype.getApiFramework=Dr.prototype.getApiFramework;Dr.prototype.getCreativeId=Dr.prototype.getCreativeId;Dr.prototype.getId=Dr.prototype.getId;Dr.prototype.getTechnology=Dr.prototype.Eb;Dr.prototype.getAdManagerVersion=Dr.prototype.yb;Dr.prototype.getAdManagerName=Dr.prototype.xb;Er.prototype.name=function(){};Er.prototype.ba=function(){};Er.prototype.create=function(){};_.H("clpp.ads.IAdsManagerFactory",Er);Er.prototype.create=Er.prototype.create;Er.prototype.isSupported=Er.prototype.ba;Er.prototype.name=Er.prototype.name;_.r=Fr.prototype;_.r.load=function(){};_.r.start=function(){};_.r.resume=function(){};_.r.pause=function(){};_.r.skip=function(){};_.r.getVolume=function(){};_.r.setVolume=function(){};_.r.getPosition=function(){};_.r.dispose=function(){};_.H("clpp.ads.IAdsManager",Fr);Fr.prototype.getPosition=Fr.prototype.getPosition;Fr.prototype.setVolume=Fr.prototype.setVolume;Fr.prototype.getVolume=Fr.prototype.getVolume;Fr.prototype.skip=Fr.prototype.skip;Fr.prototype.pause=Fr.prototype.pause;
Fr.prototype.resume=Fr.prototype.resume;_.r=Gr.prototype;_.r.load=function(){return Promise.resolve()};_.r.start=function(a){return a.play()};_.r.resume=function(){};_.r.pause=function(){};_.r.skip=function(){};_.r.getVolume=function(){return 1};_.r.setVolume=function(){};_.r.getPosition=function(){return-1};_.r.dispose=function(){return _.E(function(a){_.y(a)})};Gr.prototype.dispose=Gr.prototype.dispose;Gr.prototype.getPosition=Gr.prototype.getPosition;Gr.prototype.setVolume=Gr.prototype.setVolume;Gr.prototype.getVolume=Gr.prototype.getVolume;
Gr.prototype.skip=Gr.prototype.skip;Gr.prototype.pause=Gr.prototype.pause;Gr.prototype.resume=Gr.prototype.resume;Gr.prototype.start=Gr.prototype.start;Gr.prototype.load=Gr.prototype.load;op.prototype.name=function(){return"clpp.ads.NopAdsManagerFactory"};op.prototype.ba=function(){return!0};op.prototype.create=function(){return new Gr};op.prototype.create=op.prototype.create;op.prototype.isSupported=op.prototype.ba;op.prototype.name=op.prototype.name;Hr.prototype.getCuePoints=function(){};Hr.prototype.Vb=function(){};Hr.prototype.pb=function(){};_.H("clpp.ads.IAdsTimeline",Hr);Hr.prototype.hasPostroll=Hr.prototype.pb;Hr.prototype.hasPreroll=Hr.prototype.Vb;Hr.prototype.getCuePoints=Hr.prototype.getCuePoints;_.Ir.prototype.f=function(){};_.Ir.prototype.a=function(){};_.Ir.prototype.h=function(){};_.Ir.prototype.o=function(){};_.r=Jr.prototype;_.r.be=function(a){this.a=a};_.r.pd=function(a){return this.a?this.a.setMediaKeys(a):Promise.reject(yb)};_.r.ke=function(){return this.a&&this.a.mediaKeys};_.r.ic=function(a,b){this.g.debug("Requesting media key system access for",a,b.map(function(c){return Object.assign({},c,{drmInfos:c.drmInfos.map(function(){return"_anonymous_"})})}));return navigator.requestMediaKeySystemAccess(a,b)["catch"](function(c){c.message&&(c=Error(c.message+" (keySystem: "+a+")"));return Promise.reject(c)})};
_.r.od=function(){return Sb};Kr.prototype.a=function(){return Sb};Kr.prototype.ba=function(){return!!(window.MediaKeys&&navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)};Kr.prototype.create=function(){return new Jr};Zm(new Kr,1E3);_.r=Lr.prototype;_.r.getStatus=function(){return this.a};_.r.forEach=function(a){this.a&&a(this.a,qu.value())};_.r.get=function(a){if(this.has(a))return this.a};_.r.has=function(a){var b=qu.value();return this.a&&Wi(a,b)?!0:!1};_.r.entries=function(){};_.r.keys=function(){};_.r.values=function(){};var qu=new _.Eo(function(){return bj(new Uint8Array([0]))});_.r=Nr.prototype;_.r.be=function(){};_.r.pd=function(a){_.th("NopEmeManager.setMediaKeys");return null===a?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))};_.r.ke=function(){return null};_.r.ic=function(){_.th("NopEmeManager.requestMediaKeySystemAccess");return Promise.reject(Error("The key system specified is not supported."))};_.r.od=function(){return"NOP"};Or.prototype.a=function(){return"NOP"};Or.prototype.ba=function(){return!0};Or.prototype.create=function(){return new Nr};
Zm(new Or,-1);_.r=Pr.prototype;_.r.be=function(a){this.f=a};_.r.pd=function(a){var b=this.a;b&&b!==a&&Sr(b,null);return(this.a=a)?Sr(a,this.f):Promise.resolve()};_.r.ke=function(){return this.a};_.r.ic=function(a,b){_.th("AppleEmeManager.requestMediaKeySystemAccess");try{var c=new Qr(a,b);return Promise.resolve(c)}catch(d){return Promise.reject(d)}};_.r.od=function(){return"APPLE"};Qr.prototype.createMediaKeys=function(){var a=new Rr(this.keySystem);return Promise.resolve(a)};
Qr.prototype.getConfiguration=function(){_.th("AppleEmeManager.MediaKeySystemAccess.getConfiguration");return this.a};Rr.prototype.createSession=function(a){a=void 0===a?ag:a;this.g.debug("Creating Apple MediaKeys Session");if(a!==ag)throw new TypeError("Session type "+a+da);return new Tr(this.h,"__session_"+this.j++)};Rr.prototype.setServerCertificate=function(){this.g.debug("AppleEmeManager.MediaKeys.setServerCertificate");return Promise.resolve(!1)};_.w(Tr,_.tl);_.r=Tr.prototype;
_.r.generateRequest=function(a,b){var c=this;if(this.l)return Promise.reject(Wb);this.g.debug("generateRequest");this.h=new _.wj;try{var d=this.o.createSession(_.ug,_.Ui(b));this.a=d;this.sessionId=d.sessionId||this.sessionId||"";this.j.on(d,Fg,function(e){var f=c.keyStatuses.getStatus();c.g.debug("Received Key Message in "+c.sessionId);c.h&&(c.h.resolve(),c.h=null);e=new _.L(_.Ke,{messageType:void 0===f||f===Uf?Ae:ze,message:bj(e.message.buffer)});c.dispatchEvent(e)});this.j.on(d,Dg,function(e){c.g.debug("onWebkitKeyAdded_",
e);c.f&&(Ur(c,"usable"),c.f.resolve(),c.f=null)});this.j.on(d,Eg,function(){var e=c.keyStatuses.getStatus();if(c.a&&c.a&&c.a.error&&c.a.error.code===WebKitMediaKeyError.MEDIA_KEYERR_DOMAIN&&e===Uf)c.g.warn("Ignoring webkit key error for session "+c.sessionId);else if(c.g.error("Received key error in session "+c.sessionId+" with code "+(c.a.error.code+". Session Status ")+(e+".")),e=Error("EME AppleEmeManager key error"),e.errorCode=c.a.error,null!==c.h)c.h.reject(e),c.h=null;else if(null!==c.f)c.f.reject(e),
c.f=null;else switch(c.a.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Ur(c,"output-not-allowed");break;default:Ur(c,_.ve)}});Ur(this,Uf)}catch(e){this.h.reject(e)}return this.h};_.r.load=function(){this.g.debug("load");return Promise.reject(Error("MediaKeySession.load not yet supported"))};_.r.update=function(a){if(this.l)return Promise.reject(Wb);this.g.debug(jg);this.f=new _.wj;try{this.a.update(_.Ui(a))}catch(b){this.f.reject(b)}return this.f};
_.r.close=function(){if(this.l)return this.closed;this.g.info("Closing Key Session "+this.sessionId);this.l=!0;try{this.a.close(),this.closed.resolve(),_.Hh(this.j)}catch(a){this.closed.reject(a)}return this.closed};_.r.remove=function(){this.g.debug("remove");return Promise.reject(Error("MediaKeySession is only applicable for persistent licenses, which are not supported on this platform"))};Vr.prototype.a=function(){return"APPLE"};Vr.prototype.ba=function(){return!!window.WebKitMediaKeys};
Vr.prototype.create=function(){return new Pr};Zm(new Vr,1100);_.r=Wr.prototype;_.r.be=function(a){this.a=a};_.r.pd=function(a){_.th("WebkitEmeManager.setMediaKeys");if(!this.a)return Promise.reject(yb);var b=this.f;b&&b!==a&&as(b,null);(this.f=a)&&as(a,this.a);return Promise.resolve()};_.r.ke=function(){return this.f};_.r.ic=function(a,b){_.th("WebkitEmeManager.requestMediaKeySystemAccess");try{if(this.a)var c=this.a;else{var d=document.getElementsByTagName(_.sg);c=d.length?d[0]:document.createElement(_.sg)}var e=new Xr(this.h,c,a,b);return Promise.resolve(e)}catch(f){return Promise.reject(f)}};
_.r.od=function(){return"WEBKIT"};Xr.prototype.createMediaKeys=function(){return Promise.resolve(new Yr(this.h,this.a))};Xr.prototype.getConfiguration=function(){return this.f};Yr.prototype.createSession=function(a){a=void 0===a?ag:a;if(a!==ag&&a!==_.ef)throw new TypeError("Session type "+a+da);if(!this.a)throw a=Error("Media element is missing."),a.name=nb,a.code=DOMException.INVALID_STATE_ERR,a;this.a.src||(this.a.src="about:blank");a=new bs(this.h,this.a,this.o,a);this.j.push(a);return a};
Yr.prototype.setServerCertificate=function(){return Promise.resolve(!1)};_.w(bs,_.tl);_.r=bs.prototype;_.r.ready=function(){_.th("WebkitEmeManager.MediaKeySession.ready");$r(this,"usable");this.a&&this.a.resolve();this.a=null};_.r.generateRequest=function(a,b){_.th("WebkitEmeManager.MediaKeySession.generateRequest");return ds(this,b,null)};_.r.load=function(a){_.th(nc);return this.l===_.ef?ds(this,null,a):Promise.reject(Error(Db))};_.r.update=function(a){_.th(nc);var b=new _.wj;es(this,b,a);return b};
_.r.close=function(){_.th("WebkitEmeManager.MediaKeySession.close");if(this.l!==_.ef){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var a=cs(this,"cancelKeyRequest");try{this.j[a](this.h,this.sessionId)}catch(b){}}this.closed.resolve();return this.closed};_.r.remove=function(){_.th("WebkitEmeManager.MediaKeySession.remove");return this.l!==_.ef?Promise.reject(Error(Db)):this.close()};fs.prototype.a=function(){return"WEBKIT"};
fs.prototype.ba=function(){return!(!HTMLMediaElement.prototype.webkitGenerateKeyRequest&&!HTMLMediaElement.prototype.generateKeyRequest)};fs.prototype.create=function(){return new Wr};Zm(new fs);_.w(gs,_.$l);gs.prototype.Md=function(a,b){for(var c=a.drm.customData.headers||{},d=_.u(Object.keys(c)),e=d.next();!e.done;e=d.next())e=e.value,b.headers[e]=c[e]};gs.prototype.Eg=function(a,b){var c=um(b);switch(this.o){case ru:return c;case su:return(new _.Xj(c)).a;default:throw Error("Unknown content ID strategy");}};gs.prototype.oh=function(a,b){b.headers[ya]=Zc;this.Md(a,b);var c={spc:_.dj(b.body)};b.body=_.R.ed(_.Zj(c,!0))};
gs.prototype.ph=function(a,b){var c=_.R.Z(b.data).trim(),d="\x3c/ckc\x3e"===c.substr(-6);"\x3cckc\x3e"===c.substr(0,5)&&d&&(c=c.slice(5,-6));b.data=_.fj(c).buffer};_.H(Dd,gs);gs.prototype.onFairPlayLicenseResponse=gs.prototype.ph;gs.prototype.onFairPlayLicenseRequest=gs.prototype.oh;gs.prototype.extractFairPlayContentId=gs.prototype.Eg;gs.prototype.onLicenseRequest=gs.prototype.Md;gs.prototype.constructor=gs.prototype.constructor;gs.NAME=hb;var su="hostname",ru="full-skd";
gs.FairPlayContentIdStrategy={HOSTNAME:su,FULL_SKD:ru};_.w(hs,_.Ir);hs.prototype.h=function(a){a=a.getConfiguration();if(a.drm&&a.drm&&a.drm.env===hb){a=a.drm.customData;if(!a)throw new _.P(_.Q,7,7100,_.Sd);a=new gs(a.widevineLicenseUrl,a.playReadyLicenseUrl,a.fairPlayLicenseUrl,a.fairPlayCertificateUrl,a.fairPlayContentIdStrategy||ru);_.Vl(a)}};hs.prototype.a=function(){delete _.Ul.HeaderDrm};hs.prototype.id=function(){return"headerdrm"};_.H("clpp.drm.HeaderDrmComponent",hs);_.Kp(function(){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(a,b){b=void 0!==b?b:this.byteLength;a=Math.floor(a);b=Math.floor(b);0>a&&(a+=this.byteLength);0>b&&(b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0>=b-a)return new ArrayBuffer(0);var c=new ArrayBuffer(b-a),d=_.Ui(c),e=new Uint8Array(this,a,b-a);d.set(e);return c})});_.Kp(function(){_.th("mathRound.install")});_.Kp(function(){if(window.Document){var a=Element.prototype;a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.webkitRequestFullscreen;a=Document.prototype;a.exitFullscreen=a.exitFullscreen||a.mozCancelFullScreen||a.msExitFullscreen||a.webkitExitFullscreen;pe in document||(Object.defineProperty(document,pe,{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",
{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled}}));document.addEventListener("webkitfullscreenchange",is);document.addEventListener("webkitfullscreenerror",is);document.addEventListener("mozfullscreenchange",is);document.addEventListener("mozfullscreenerror",is);document.addEventListener("MSFullscreenChange",is);document.addEventListener("MSFullscreenError",is)}});_.Kp(function(){if(window.HTMLVideoElement){var a=HTMLVideoElement.prototype;a.requestPictureInPicture&&document.exitPictureInPicture||!a.webkitSupportsPresentationMode||(_.th("PiPWebkit.install"),document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,a.requestPictureInPicture=ks,document.exitPictureInPicture=ls,document.addEventListener("webkitpresentationmodechanged",js,!0))}});_.Kp(function(){if(window.HTMLVideoElement){var a=HTMLVideoElement.prototype;!a.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in a&&(a.getVideoPlaybackQuality=ms)}});_.Kp(function(){if(window.VTTCue)_.sh("Using native VTTCue.");else if(window.TextTrackCue){var a=TextTrackCue.length;if(3===a)_.sh(jc),window.VTTCue=ns;else if(6===a)_.sh("Using VTTCue polyfill from 6 argument TextTrackCue."),window.VTTCue=os;else{try{var b=!!ns(1,2,"")}catch(c){b=!1}b&&(_.sh(jc),window.VTTCue=ns)}}else _.uh("VTTCue not available.")});var ps;_.Kp(function(){_.th("InputEvent.install");_.xk("Trident/")&&HTMLInputElement.prototype.addEventListener!==qs&&(_.sh("Patching input event support on IE."),ps=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=qs)});_.Kp(function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})});_.Kp(function(){_.th("VideoPlayPromise.install");if(window.HTMLMediaElement){var a=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var b=a.apply(this);b&&b["catch"](function(){});return b}}});_.ys.prototype.start=function(){var a=this;this.a=new ResizeObserver(function(b){b=b[0];a.j(b.contentRect.width,b.contentRect.height,a.h.isFullscreen())});this.f&&this.a.observe(this.f)};_.ys.prototype.stop=function(){this.a&&(this.a.disconnect(),this.a=null)};_.As.prototype.canPlay=function(a){function b(f){e.stop();d.resolve(f)}var c=document.createElement(_.sg);c.setAttribute("playsinline","playsinline");a&&(c.muted=!0,c.setAttribute("muted","muted"));c.src=URL.createObjectURL(this.a);var d=new _.wj;c=c.play();var e=(new _.uk(function(){b(a)})).aa(.25);void 0!==c?c.then(function(){return b(!0)})["catch"](function(f){f&&f.message&&f.message===Fb?b(!0):b(!1)}):b(!0);return d};
var zs=new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,
0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,
0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,
115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49]);_.tu=new _.K("clpp.media.TimestampParser");_.Ds={};_.Fs={};var Ks=window.XMLHttpRequest;_.w(Ts,_.xj);Ts.prototype.then=function(a,b){this.O=this.O.then(a,b);return this};Ts.prototype["catch"]=function(a){this.O=this.O["catch"](a);return this};Ts.prototype.abort=function(){var a=this;if(this.a)return Promise.resolve();this.a=!0;return this.h.then(function(b){a.o&&clearTimeout(a.o);a.l&&a.l();return b.abort()})["catch"](function(){})};_.Xs.prototype.enabled=function(){return this.a};_.Xs.prototype.Mg=function(){return this.a&&this.f&&this.f.has(uu)?1E3*this.f.get(uu):null};_.Xs.prototype.release=function(){this.f=null;this.a=!1;this.h.ze(this.j)};_.Xs.prototype.getEstimatedThroughput=_.Xs.prototype.Mg;var uu="etp",Zs={Im:uu},$s=new _.K("clpp.net.CmsdManager");var dt=window.fetch,bt=window.AbortController,at=window.Headers;_.ft={};_.r=_.ht.prototype;_.r.getBackgroundColor=function(){return this.K};_.r.setBackgroundColor=function(a){this.K=a;this.ub()};_.r.getWindowColor=function(){return this.V};_.r.setWindowColor=function(a){this.V=a;this.ub()};_.r.getFontFamily=function(){return this.T};_.r.setFontFamily=function(a){this.T=a;this.ub()};_.r.getFontColor=function(){return this.P};_.r.setFontColor=function(a){this.P=a;this.ub()};_.r.getFontSize=function(){return this.I};_.r.setFontSize=function(a){this.I=a;this.ub()};
_.r.getFontSizePercent=function(){return null===this.B?vu:this.B};_.r.setFontSizePercent=function(a){this.B=a;this.ub()};_.r.getEdgeColor=function(){return this.H};_.r.setEdgeColor=function(a){this.H=a;this.ub()};_.r.getEdgeType=function(){return this.o};_.r.setEdgeType=function(a){this.o=a;this.ub()};_.ht.prototype.setEdgeType=_.ht.prototype.setEdgeType;_.ht.prototype.getEdgeType=_.ht.prototype.getEdgeType;_.ht.prototype.setEdgeColor=_.ht.prototype.setEdgeColor;_.ht.prototype.getEdgeColor=_.ht.prototype.getEdgeColor;
_.ht.prototype.setFontSizePercent=_.ht.prototype.setFontSizePercent;_.ht.prototype.getFontSizePercent=_.ht.prototype.getFontSizePercent;_.ht.prototype.setFontSize=_.ht.prototype.setFontSize;_.ht.prototype.getFontSize=_.ht.prototype.getFontSize;_.ht.prototype.setFontColor=_.ht.prototype.setFontColor;_.ht.prototype.getFontColor=_.ht.prototype.getFontColor;_.ht.prototype.setFontFamily=_.ht.prototype.setFontFamily;_.ht.prototype.getFontFamily=_.ht.prototype.getFontFamily;
_.ht.prototype.setWindowColor=_.ht.prototype.setWindowColor;_.ht.prototype.getWindowColor=_.ht.prototype.getWindowColor;_.ht.prototype.setBackgroundColor=_.ht.prototype.setBackgroundColor;_.ht.prototype.getBackgroundColor=_.ht.prototype.getBackgroundColor;var vu=1/15;var it="raised",jt="depressed",lt="dropshadow",kt="uniform";_.H("clpp.text.EdgeType",{NONE:_.Se,RAISED:it,DEPRESSED:jt,DROP_SHADOW:lt,UNIFORM:kt});nt.prototype.parseInit=function(a){try{var b=_.ft[_.Vc]||null;if(b){var c=new b(this.f);c.parseInit(a)}else this.g.warn("The clpp.ttml.Mp4TtmlParser class is not available. Please register the ttml component first.")}catch(e){c=null}if(c)this.a=c;else{try{var d=_.ft[_.Wc]||null;d?(c=new d(this.f),c.parseInit(a)):this.g.warn("The clpp.vtt.Mp4VttParser class is not available. Please register the vtt component first.")}catch(e){c=null}if(c)this.a=c;else throw new _.P(_.Q,2,2011);}};
nt.prototype.parseMedia=function(a,b){if(!this.a)throw new _.P(_.Q,2,2011);return this.a.parseMedia(a,b)};_.ft[Uc]=nt;_.w(_.pt,_.ht);_.r=_.pt.prototype;_.r.append=function(){};_.r.remove=function(){return!0};_.r.isTextVisible=function(){return this.w};_.r.setTextVisibility=function(a){this.w=a};
_.r.ub=function(){if(!this.j){var a={"background-color":this.getBackgroundColor(),color:this.getFontColor(),"font-family":this.getFontFamily(),"font-size":this.getFontSize(),"text-shadow":_.mt(this)},b=Object.keys(a).map(function(c){return null!==a[c]?c+":"+a[c]+";":""}).join("");this.h.textContent="."+this.f+"::cue {"+b+"}"}};_.r.destroy=function(){this.l.classList.remove(this.f);document.head.removeChild(this.h);this.j=!0;return Promise.resolve()};var ot=0;qt.prototype.ba=function(){return!0};qt.prototype.create=function(a){return new _.pt(a)};_.uo("native",new qt);_.rt.prototype.onContentWillLoad=function(){return Promise.resolve()};_.rt.prototype.onContentLoaded=function(a,b){for(var c=1;c<arguments.length;++c);return Promise.resolve()};_.rt.prototype.onPlayerWillDestroy=function(){};_.rt.prototype.onPlayerWillRelease=function(){};}.call(g,this));
g.clpp._ = _;
if (typeof(module)!="undefined"&&module.exports) {module.exports=g.clpp;}
else if (typeof(define)!="undefined" && define.amd) {define(function(){return g.clpp;});}
else {this.clpp=g.clpp;}
})();